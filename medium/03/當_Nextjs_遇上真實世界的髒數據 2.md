# 當 Next.js 遇上真實世界的「髒數據」：一場由 AI 主導的數位驅魔儀式

我原本以為，把我的房地產分析系統從 Vanilla JS 搬到 Next.js，也就只是一個週末的「搬家工程」。

我錯了。這不是搬家，這是一場驅魔。

## 那些藏在寬鬆語法下的「鬼」

在過去的 Vanilla JS 版本裡，我的代碼很「隨和」。數據欄位缺漏？沒關係，我不報錯，我直接顯示空白。房型資料格式不統一？無所謂，我讓它通過。

這種「隨和」讓系統跑得很快，但也埋下了無數的地雷。

直到這兩天，當我開始用 Next.js + TypeScript 重構核心報表（特別是「總價帶分析」和「熱力圖」）時，這些地雷一次全部引爆。

看看我的 Git Log：
> `Fix: Crash on empty analysis data`
> `Fix: Project search crash`

原本在舊系統裡只是「顯示為空」的資料，在新架構嚴格的檢視下，直接讓整個頁面崩潰（Crash）。我的畫面一片紅，Terminal 瘋狂報錯。

如果是以前，我大概會花三天一行一行去 `console.log`，試圖找出是哪一筆該死的交易資料少了「總價」欄位。

## Vibe Coding 的解法：別修 Bug，直接「定義」它

但我沒有這麼做。

我打開 IDE，直接把報錯訊息丟給 AI，並附上了一句 Vibe Coding 風格的指令：

> 「嘿，這個 Crash 是因為資料源有問題。不要讓我去修資料，你要寫一段『容錯邏輯』，如果資料是空的，就給我顯示預設值，或是直接隱藏該區塊。現在，馬上。」

結果？

**45 個檔案變更，275 行代碼插入。**

AI 瞬間幫我重構了 `PriceBandReport` 和 `DataListReport`，它不只是修好了 Bug，還順便幫我把「行政區聚合邏輯」和「房型正規化」都做掉了。

這就是 Vibe Coding 的降維打擊。

## 這次遷移的三個體悟

1.  **TypeScript 是照妖鏡**：
    以前覺得 TS 很囉唆，現在發現它能照出所有業務邏輯的漏洞。它逼著我用 AI 去定義清楚每一個數據的型別，讓「髒數據」無所遁形。

2.  **規模化重構不再可怕**：
    看看我昨天的 Commit：`Refine filter layout`（優化篩選器佈局）。我一次性重構了全站的篩選邏輯，從 `Header` 到 `Sidebar` 再到 `MultiSelect`。以前這種等級的重構需要開會討論一週，現在？我只需要定義好「我想要水平滾動的篩選列」，AI 就幫我把 169 行代碼改好了。

3.  **靈魂在於「容錯」**：
    房地產數據本身就是髒的（附表缺漏、備註亂寫）。工程師會想辦法「清洗」數據，而 Vibe Coder 會打造一個「能吞噬髒數據並吐出洞察」的系統。我們不追求完美的資料，我們追求完美的「解讀」。

## 結語：讓系統為你工作，而不是你為系統工作

現在，我的 Next.js 版本已經比舊版更強壯、更嚴謹，而且我沒有手寫那些繁瑣的防呆機制。

這場遷移讓我明白：**真正的技術債，不是寫得爛的代碼，而是那些「未被定義的邏輯」。**

我是房地產人，我不怕髒數據，我有 AI 這把瑞士刀。那些曾經讓系統崩潰的鬼魂，現在都成了我系統裡安靜流動的數據養分。

這，就是 Vibe Coding。
