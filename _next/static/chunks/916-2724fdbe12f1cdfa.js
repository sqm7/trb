"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[916],{826:(e,t,a)=>{a.d(t,{B:()=>u});var s=a(95155),r=a(39092),i=a.n(r),n=a(12115),l=a(97085),o=a(47650),d=a(80642),c=a(39430),x=a(33210),m=a(44071),h=a(67514);function u({data:e}){let[t,a]=(0,n.useState)(null),[r,u]=(0,n.useState)(!1),f=(0,n.useRef)(null),p=(0,n.useRef)(null);(0,n.useEffect)(()=>{u(!0)},[]),(0,n.useEffect)(()=>{let e=e=>{let t=p.current;if(t&&!t.contains(e.target)){let t=f.current?.querySelector(".apexcharts-inner");if(t&&t.contains(e.target))return;a(null)}};if(t){let t=setTimeout(()=>{document.addEventListener("click",e)},100);return()=>{clearTimeout(t),document.removeEventListener("click",e)}}},[t]);let g=(0,n.useMemo)(()=>e&&0!==e.length?[{name:"ç¸½åƒ¹åˆ†ä½ˆ",type:"boxPlot",data:e.map(e=>{let t=[e.minPrice,e.q1Price,e.medianPrice,e.q3Price,e.maxPrice];return t.some(e=>"number"!=typeof e||isNaN(e))?null:{x:null!==e.bathrooms?`${e.roomType}-${e.bathrooms}è¡›`:e.roomType,y:t.map(e=>Math.round(e))}}).filter(Boolean)}]:[],[e]),b=(0,n.useCallback)((t,s,r)=>{let{seriesIndex:i,dataPointIndex:n,w:l}=r;if(void 0===i||void 0===n)return;let o=l.globals.initialSeries[i]?.data[n]?.y,d=l.globals.initialSeries[i]?.data[n]?.x||l.globals.labels[n],c=e[n];if(Array.isArray(o)&&5===o.length){let[e,t,s,r,i]=o;a({category:d,min:e,q1:t,median:s,q3:r,max:i,count:c?.count||0})}},[e]),j=(0,n.useMemo)(()=>{if(0===g.length||0===g[0].data.length)return{};let e=g[0].data.flatMap(e=>e.y),t=Math.min(...e),a=Math.max(...e),s=a-t,r=0===s?Math.max(.1*t,100):.1*s;return{chart:{type:"boxPlot",height:450,background:"transparent",toolbar:{show:!1},zoom:{enabled:!1},foreColor:"#e5e7eb",events:{dataPointSelection:b}},states:{hover:{filter:{type:"lighten",value:.15}},active:{filter:{type:"darken",value:.1}}},plotOptions:{boxPlot:{colors:{upper:"#06b6d4",lower:"#8b5cf6"},stroke:{colors:["#ffffff"],width:2}}},xaxis:{type:"category",labels:{style:{colors:"#9ca3af"},rotate:-45,offsetY:5},crosshairs:{show:!0,stroke:{color:"#525252",width:1,dashArray:4}}},yaxis:{min:Math.max(0,t-r),max:a+r,title:{text:"æˆ¿å±‹ç¸½åƒ¹ (è¬)",style:{color:"#9ca3af"}},labels:{formatter:e=>`${Math.round(e).toLocaleString()} è¬`,style:{colors:"#9ca3af"}},crosshairs:{show:!0,position:"front",stroke:{color:"#22d3ee",width:1,dashArray:0}},tooltip:{enabled:!0,offsetX:0}},tooltip:{enabled:!0,intersect:!0,shared:!1,custom:function({dataPointIndex:e,w:t}){let a=t.globals.initialSeries[0]?.data[e]?.x||t.globals.labels[e];return`
                        <div class="bg-zinc-900/95 backdrop-blur-sm border border-white/10 rounded-lg px-3 py-2 shadow-xl">
                            <div class="text-white font-bold text-sm">${a}</div>
                            <div class="text-cyan-400 text-xs mt-1">ğŸ‘† é»æ“ŠæŸ¥çœ‹ç¸½åƒ¹åˆ†æ</div>
                        </div>
                    `}}}},[g,b]);return e&&0!==e.length&&0!==g.length?(0,s.jsxs)("div",{ref:f,className:"jsx-aeea531f337d4ef3 relative",children:[(0,s.jsx)(i(),{id:"aeea531f337d4ef3",children:'.apexcharts-boxPlot-area .apexcharts-boxPlot-whisker{stroke-width:3!important}.apexcharts-boxPlot-series path[stroke="#ffffff"]{stroke-width:2.5!important}'}),(0,s.jsx)(l.A,{type:"boxPlot",series:g,options:j,height:450,className:"w-full"}),r&&(0,o.createPortal)((0,s.jsx)(d.N,{children:t&&(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 fixed inset-0 z-[9998] pointer-events-none",children:[(0,s.jsx)(c.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm pointer-events-auto",onClick:()=>a(null)}),(0,s.jsx)(c.P.div,{ref:p,initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:400,damping:30},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-auto w-[90vw] max-w-md",onClick:e=>e.stopPropagation(),children:(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 bg-zinc-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 bg-gradient-to-r from-cyan-500/20 to-violet-500/20 px-6 py-5 border-b border-white/10",children:(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3",children:[(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 text-zinc-400 text-xs uppercase tracking-widest mb-2",children:"ç¸½åƒ¹å¸¶åˆ†æ"}),(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 text-white text-3xl font-black tracking-tight",children:t.category}),t.count>0&&(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 text-zinc-400 text-sm mt-1",children:["å…± ",(0,s.jsx)("span",{className:"jsx-aeea531f337d4ef3 text-cyan-400 font-bold",children:t.count})," ç­†æˆäº¤ç´€éŒ„"]})]}),(0,s.jsx)("button",{onClick:()=>a(null),className:"jsx-aeea531f337d4ef3 p-2 rounded-full hover:bg-white/10 transition-colors",children:(0,s.jsx)(x.A,{className:"w-5 h-5 text-zinc-400"})})]})}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 p-5 space-y-3",children:[(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 flex items-center gap-4 p-3 rounded-xl bg-white/5 border border-white/5",children:[(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 flex-shrink-0",children:(0,s.jsx)(m.A,{className:"w-5 h-5 text-white/70"})}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 flex-1",children:[(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 text-white/60 text-xs font-medium mb-1",children:"æœ€é«˜æˆäº¤åƒ¹"}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 text-white text-xl font-mono font-bold",children:[t.max.toLocaleString()," è¬"]})]}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 text-right",children:[(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 w-8 h-0.5 bg-white/50 mb-1 ml-auto"}),(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 text-zinc-600 text-[10px]",children:"ä¸Šå¼•ç·š"})]})]}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 p-4 rounded-xl bg-cyan-500/10 border border-cyan-500/30",children:[(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 flex items-center gap-2 mb-2",children:[(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 w-4 h-4 rounded bg-cyan-500"}),(0,s.jsx)("span",{className:"jsx-aeea531f337d4ef3 text-cyan-400 text-sm font-bold",children:"è¼ƒé«˜åƒ¹å€é–“ï¼ˆè—è‰²å€å¡Šï¼‰"})]}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 text-white text-2xl font-mono font-bold mb-2",children:[t.median.toLocaleString()," ~ ",t.q3.toLocaleString()," è¬"]}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 text-zinc-400 text-sm leading-relaxed",children:[(0,s.jsx)("span",{className:"jsx-aeea531f337d4ef3 text-cyan-400 font-bold",children:"25%"})," çš„æˆäº¤åƒ¹è½åœ¨é€™å€‹å€é–“ã€‚ é€™ä»£è¡¨åƒ¹æ ¼åé«˜ä½†ä»å±¬æ­£å¸¸ç¯„åœçš„äº¤æ˜“ã€‚"]})]}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 flex items-center gap-4 px-4 py-3 bg-white/5 rounded-xl",children:[(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 w-10 h-0.5 bg-white rounded-full"}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 flex-1",children:[(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 text-white text-sm font-bold",children:"ä¸­ä½æ•¸ï¼ˆç™½ç·šï¼‰"}),(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 text-zinc-500 text-xs",children:"ä¸€åŠçš„äº¤æ˜“é«˜æ–¼æ­¤åƒ¹ï¼Œä¸€åŠä½æ–¼æ­¤åƒ¹"})]}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 text-white text-xl font-mono font-bold",children:[t.median.toLocaleString()," è¬"]})]}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 p-4 rounded-xl bg-violet-500/10 border border-violet-500/30",children:[(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 flex items-center gap-2 mb-2",children:[(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 w-4 h-4 rounded bg-violet-500"}),(0,s.jsx)("span",{className:"jsx-aeea531f337d4ef3 text-violet-400 text-sm font-bold",children:"è¼ƒä½åƒ¹å€é–“ï¼ˆç´«è‰²å€å¡Šï¼‰"})]}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 text-white text-2xl font-mono font-bold mb-2",children:[t.q1.toLocaleString()," ~ ",t.median.toLocaleString()," è¬"]}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 text-zinc-400 text-sm leading-relaxed",children:[(0,s.jsx)("span",{className:"jsx-aeea531f337d4ef3 text-violet-400 font-bold",children:"25%"})," çš„æˆäº¤åƒ¹è½åœ¨é€™å€‹å€é–“ã€‚ é€™ä»£è¡¨åƒ¹æ ¼åä½ä½†ä»å±¬æ­£å¸¸ç¯„åœçš„äº¤æ˜“ã€‚"]})]}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 flex items-center gap-4 p-3 rounded-xl bg-white/5 border border-white/5",children:[(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 flex-shrink-0",children:(0,s.jsx)(h.A,{className:"w-5 h-5 text-zinc-500"})}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 flex-1",children:[(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 text-zinc-500 text-xs font-medium mb-1",children:"æœ€ä½æˆäº¤åƒ¹"}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 text-white text-xl font-mono font-bold",children:[t.min.toLocaleString()," è¬"]})]}),(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 text-right",children:[(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 w-8 h-0.5 bg-zinc-600 mb-1 ml-auto"}),(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 text-zinc-600 text-[10px]",children:"ä¸‹å¼•ç·š"})]})]})]}),(0,s.jsx)("div",{className:"jsx-aeea531f337d4ef3 px-5 py-3 bg-gradient-to-r from-cyan-500/5 to-violet-500/5 border-t border-white/10",children:(0,s.jsxs)("div",{className:"jsx-aeea531f337d4ef3 text-zinc-500 text-xs text-center",children:["\uD83D\uDCA1 è—è‰² + ç´«è‰²å€å¡Šåˆè¨ˆæ¶µè“‹ ",(0,s.jsx)("span",{className:"jsx-aeea531f337d4ef3 text-white font-bold",children:"50%"})," çš„äº¤æ˜“ï¼Œä»£è¡¨å¸‚å ´ä¸»æµåƒ¹æ ¼å¸¶"]})})]})})]})}),document.body)]}):(0,s.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"ç„¡ç¸½åƒ¹å¸¶è³‡æ–™å¯é¡¯ç¤º"})}},3083:(e,t,a)=>{a.d(t,{M:()=>n});var s=a(95155),r=a(12115),i=a(97085);function n({data:e,selectedRooms:t,metric:a}){let n=(0,r.useMemo)(()=>({count:{label:"äº¤æ˜“ç­†æ•¸",unit:"ç­†",decimals:0},priceSum:{label:"ç”¢æ¬Šç¸½åƒ¹",unit:"è¬",decimals:0},areaSum:{label:"æˆ¿å±‹åªæ•¸",unit:"åª",decimals:2}})[a],[a]),l=(0,r.useMemo)(()=>{if(!e||0===t.length)return[];let s=Object.keys(e).sort();return 0===s.length?[]:t.map(t=>({name:t,data:s.map(s=>e[s]?.[t]?.[a]||0)}))},[e,t,a]),o=(0,r.useMemo)(()=>({chart:{type:"line",height:350,background:"transparent",toolbar:{show:!0},zoom:{enabled:!1},foreColor:"#e5e7eb"},stroke:{curve:"smooth",width:2},dataLabels:{enabled:!1},xaxis:{categories:e?Object.keys(e).sort():[],labels:{style:{colors:"#9ca3af"}}},yaxis:{title:{text:n.label,style:{color:"#9ca3af"}},labels:{style:{colors:"#9ca3af"},formatter:e=>e.toLocaleString("zh-TW",{minimumFractionDigits:0,maximumFractionDigits:0})}},legend:{position:"top",horizontalAlign:"right"},tooltip:{theme:"dark",y:{formatter:e=>`${e.toLocaleString("zh-TW",{minimumFractionDigits:n.decimals,maximumFractionDigits:n.decimals})} ${n.unit}`}},grid:{borderColor:"#374151"}}),[e,n]);return e&&0!==Object.keys(e).length&&0!==t.length?(0,s.jsx)(i.A,{type:"line",series:l,options:o,height:350,className:"w-full"}):(0,s.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"è«‹é¸æ“‡æˆ¿å‹ä»¥é¡¯ç¤ºéŠ·å”®è¶¨å‹¢"})}},4439:(e,t,a)=>{a.d(t,{m:()=>n});var s=a(95155),r=a(12115),i=a(97085);function n({data:e,selectedRooms:t,minArea:a,maxArea:n,interval:l,onDataPointClick:o,height:d}){let c=(0,r.useMemo)(()=>[{from:0,to:0,color:"#27272a",name:"0 æˆ¶"},{from:1,to:5,color:"#facc15",name:"1-5 æˆ¶"},{from:6,to:20,color:"#fbbf24",name:"6-20 æˆ¶"},{from:21,to:50,color:"#f97316",name:"21-50 æˆ¶"},{from:51,to:1e4,color:"#dc2626",name:"> 50 æˆ¶"}],[]),{series:x,maxValue:m}=(0,r.useMemo)(()=>{if(!e||0===t.length)return{series:[],maxValue:0};let s=[];for(let e=a;e<n;e+=l){let t=Number.isInteger(l)&&Number.isInteger(a),r=t?e.toFixed(0):e.toFixed(1),i=t?(e+l).toFixed(0):(e+l).toFixed(1);s.push(`${r}-${i}`)}let r=0;return{series:s.map(s=>{let[i,l]=s.split("-").map(parseFloat);return{name:s,data:t.map(t=>{let s=(e[t]||[]).filter(e=>e>=i&&e<l&&e>=a&&e<=n).length;return s>r&&(r=s),s})}}),maxValue:r}},[e,t,a,n,l]),h=(0,r.useMemo)(()=>({chart:{type:"heatmap",height:d||Math.max(400,22*x.length),background:"transparent",toolbar:{show:!0},foreColor:"#e5e7eb",events:{dataPointSelection:(e,a,s)=>{if(o){let{seriesIndex:e,dataPointIndex:a}=s,r=s.w.globals.seriesNames[e];o(t[a],r)}}}},plotOptions:{heatmap:{radius:0,useFillColorAsStroke:!0,enableShades:!1,colorScale:{ranges:c}}},dataLabels:{enabled:!0,style:{colors:[({value:e})=>0===e?"transparent":"#e5e7eb"]},formatter:function(e){return 0===e?"":e}},xaxis:{type:"category",categories:t},title:{text:"æˆ¿å‹é¢ç©åˆ†ä½ˆç†±åŠ›åœ–",align:"center",style:{color:"#e5e7eb",fontSize:"16px"}},grid:{borderColor:"#374151"},tooltip:{theme:"dark",y:{formatter:e=>0===e?"ç„¡æˆäº¤ç´€éŒ„":`${e} æˆ¶`}}}),[x,t,c,o]);return e&&0!==x.length?(0,s.jsx)(i.A,{type:"heatmap",series:x,options:h,height:h.chart?.height||400,className:"w-full h-full"}):(0,s.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"ç„¡é¢ç©åˆ†ä½ˆè³‡æ–™"})}},27529:(e,t,a)=>{a.d(t,{FH:()=>l});var s=a(16385),r=a(55873);async function i(){let{data:{session:e}}=await s.N.auth.getSession();return{"Content-Type":"application/json",apikey:r.m5,Authorization:`Bearer ${e?.access_token||r.m5}`}}async function n(e){let t=await i(),a=await fetch(r.Sn.RANKING_ANALYSIS,{method:"POST",headers:t,body:JSON.stringify({filters:e})});if(!a.ok)throw Error((await a.json().catch(()=>({error:`Analysis request failed: ${a.status}`}))).error||"Analyze data failed");return a.json()}let l={checkAuth:async function(){let{data:{session:e}}=await s.N.auth.getSession();e||console.log("User not logged in, but allowing access.")},getUser:async function(){let{data:{user:e}}=await s.N.auth.getUser();return e},signOut:async function(){let{error:e}=await s.N.auth.signOut();if(e)throw console.error("Sign out failed:",e),e},fetchData:async function(e,t){let a=await i(),s=await fetch(r.Sn.QUERY_DATA,{method:"POST",headers:a,body:JSON.stringify({filters:e,pagination:t})});if(!s.ok)throw Error((await s.json().catch(()=>({error:"Failed to parse server response"}))).error||"Fetch data failed");return s.json()},analyzeData:n,analyzeProjectRanking:n,fetchSubData:async function(e,t,a){if(!e||!t||!a)throw Error(`Insufficient parameters: ${e}, ${t}, ${a}`);let s=await i(),n=await fetch(r.Sn.SUB_DATA,{method:"POST",headers:s,body:JSON.stringify({id:e,type:t,county:a})});if(!n.ok)throw Error((await n.json().catch(()=>({error:"Failed to fetch sub data"}))).error||"Fetch sub data failed");return n.json()},fetchProjectNameSuggestions:async function(e,t,a=[]){let s=await i(),n=t.replace(/\u3127/g,"ä¸€"),l=await fetch(r.Sn.PROJECT_NAMES,{method:"POST",headers:s,body:JSON.stringify({countyCode:e,query:n,districts:a,detailed:!0})});if(!l.ok)throw Error(`Server error: ${l.status}`);return l.json()},generateShareLink:async function(e){let t=await i(),a=await fetch(r.Sn.GENERATE_SHARE_LINK,{method:"POST",headers:t,body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json().catch(()=>({error:"Generate share link failed"}))).error);return a.json()},getAdminUsers:async function(){let e=await i(),t=await fetch(r.Sn.GET_USERS,{method:"POST",headers:e,body:JSON.stringify({})});if(!t.ok)throw Error((await t.json().catch(()=>({error:"Failed to fetch users"}))).error||"Fetch users failed");return t.json()}}},51806:(e,t,a)=>{a.d(t,{a:()=>l});var s=a(95155);a(12115);var r=a(33210),i=a(40980),n=a(81477);function l({isOpen:e,onClose:t,title:a,children:l,className:o,maxWidth:d="max-w-4xl"}){return e?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-in fade-in duration-200",children:[(0,s.jsx)("div",{className:"absolute inset-0",onClick:t}),(0,s.jsxs)(n.Zp,{className:(0,i.cn)("relative w-full max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",d,o),onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-default",children:[a&&(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:a}),(0,s.jsx)("button",{onClick:t,className:"p-1 rounded-full hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:(0,s.jsx)(r.A,{size:24})})]}),(0,s.jsx)("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:l})]})]}):null}},60529:(e,t,a)=>{a.d(t,{p:()=>n});var s=a(95155),r=a(12115),i=a(40980);let n=r.forwardRef(({className:e,type:t,...a},r)=>(0,s.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-zinc-950/50 px-3 py-2 text-sm text-zinc-100 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...a}));n.displayName="Input"},69690:(e,t,a)=>{a.d(t,{l:()=>n});var s=a(95155),r=a(12115),i=a(97085);function n({data:e,sortKey:t,limit:a=30,chartType:n="auto",height:l}){let o=(0,r.useMemo)(()=>n&&"auto"!==n?n:["averagePrice","minPrice","maxPrice","medianPrice","avgParkingPrice"].includes(t)?"bar":"treemap",[t,n]),d=(0,r.useMemo)(()=>({averagePrice:{title:"å»ºæ¡ˆå¹³å‡å–®åƒ¹æ’è¡Œ",unit:"è¬/åª"},minPrice:{title:"å»ºæ¡ˆæœ€ä½å–®åƒ¹æ’è¡Œ",unit:"è¬/åª"},maxPrice:{title:"å»ºæ¡ˆæœ€é«˜å–®åƒ¹æ’è¡Œ",unit:"è¬/åª"},medianPrice:{title:"å»ºæ¡ˆå–®åƒ¹ä¸­ä½æ•¸æ’è¡Œ",unit:"è¬/åª"},avgParkingPrice:{title:"è»Šä½å¹³å‡å–®åƒ¹æ’è¡Œ",unit:"è¬"},saleAmountSum:{title:"å»ºæ¡ˆéŠ·å”®ç¸½é¡ä½”æ¯”",unit:"è¬",yLabel:"éŠ·å”®ç¸½é¡"},houseAreaSum:{title:"å»ºæ¡ˆæˆ¿å±‹é¢ç©ä½”æ¯”",unit:"åª",yLabel:"æˆ¿å±‹é¢ç©"},transactionCount:{title:"å»ºæ¡ˆäº¤æ˜“ç­†æ•¸ä½”æ¯”",unit:"ç­†",yLabel:"è³‡æ–™ç­†æ•¸"}})[t]||{title:"å»ºæ¡ˆåˆ†æåœ–è¡¨",unit:"",yLabel:"æ•¸å€¼"},[t]),c=(0,r.useMemo)(()=>{if(!e||0===e.length)return[];if("bar"!==o)return e.reduce((e,a)=>e+(a[t]||0),0),[{name:d.yLabel||d.unit,data:e.map(e=>({x:e.projectName,y:parseFloat((e[t]||0).toFixed(2))}))}];{let s=[...e].filter(e=>e[t]>0).sort((e,a)=>a[t]-e[t]).slice(0,a);return[{name:d.unit,data:s.map(e=>parseFloat((e[t]||0).toFixed(2)))}]}},[e,t,o,d,a]),x=(0,r.useMemo)(()=>{let s={title:{text:d.title,align:"center",style:{fontSize:"16px",fontWeight:600,color:"#e5e7eb"}}};if("bar"===o){let r=[...e].filter(e=>e[t]>0).sort((e,a)=>a[t]-e[t]).slice(0,a).map(e=>e.projectName);return{...s,chart:{type:"bar",toolbar:{show:!0},animations:{enabled:!1}},tooltip:{theme:"dark",y:{formatter:e=>`${e.toLocaleString()} ${d.unit}`,title:{formatter:(e,t)=>{let a=r[t?.dataPointIndex];return a?`${a}:`:`${e}:`}}},x:{show:!0,formatter:(e,t)=>r[t?.dataPointIndex]||e}},plotOptions:{bar:{horizontal:!1,columnWidth:"60%",borderRadius:4,distributed:!1}},colors:["#8b5cf6"],fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.5,gradientToColors:["#a78bfa"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},dataLabels:{enabled:!1},xaxis:{categories:r,labels:{style:{colors:"#9ca3af"},rotate:-45,trim:!0,maxHeight:100}},yaxis:{title:{text:d.unit,style:{color:"#6b7280"}},labels:{style:{colors:"#e5e7eb",fontSize:"12px",fontWeight:500}}},legend:{show:!1}}}{let a=e.reduce((e,a)=>e+(a[t]||0),0);return{...s,tooltip:{theme:"dark",y:{formatter:e=>`${e.toLocaleString()} ${d.unit}`}},chart:{type:"treemap",height:450,toolbar:{show:!0}},plotOptions:{treemap:{distributed:!0,enableShades:!1,colorScale:{ranges:[{from:0,to:.1*a,color:"#06b6d4"},{from:.1*a,to:.3*a,color:"#3b82f6"},{from:.3*a,to:.6*a,color:"#8b5cf6"},{from:.6*a,to:1/0,color:"#d946ef"}]}}},dataLabels:{enabled:!0,style:{fontSize:"11px",fontWeight:500,colors:["#fff"]},formatter:e=>e,offsetY:-2}}}},[o,c,d,e,t,a]);if(!e||0===e.length)return(0,s.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"ç„¡æ’åè³‡æ–™å¯é¡¯ç¤º"});let m="bar"===o&&c[0]?.data?c[0].data.length:0,h="bar"===o?{width:"100%",minWidth:`${45*m}px`}:{width:"100%"};return(0,s.jsx)("div",{className:`w-full ${"bar"===o?"overflow-x-auto pb-4":""}`,children:(0,s.jsx)("div",{style:h,children:(0,s.jsx)(i.A,{type:"bar"===o?"bar":"treemap",series:c,options:x,height:l||450,className:"w-full"})})})}},70872:(e,t,a)=>{a.d(t,{Bc:()=>l,ZI:()=>c,k$:()=>d,m_:()=>o});var s=a(95155),r=a(12115),i=a(45828),n=a(40980);let l=i.Kq,o=i.bL,d=i.l9,c=r.forwardRef(({className:e,sideOffset:t=4,...a},r)=>(0,s.jsx)(i.UC,{ref:r,sideOffset:t,className:(0,n.cn)("z-50 overflow-hidden rounded-md border border-zinc-800 bg-zinc-950 px-3 py-1.5 text-sm text-zinc-100 shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));c.displayName=i.UC.displayName},81477:(e,t,a)=>{a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>l});var s=a(95155),r=a(12115),i=a(40980);let n=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("glass-panel rounded-xl text-card-foreground",e),...t}));n.displayName="Card";let l=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("h3",{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight text-white",e),...t}));o.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("p",{ref:a,className:(0,i.cn)("text-sm text-zinc-400",e),...t}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},88042:(e,t,a)=>{a.d(t,{$:()=>d});var s=a(95155),r=a(12115),i=a(47650),n=a(40980),l=a(60529);let o=({children:e,x:t,y:a,visible:n})=>{let[l,o]=(0,r.useState)(!1);return((0,r.useEffect)(()=>(o(!0),()=>o(!1)),[]),l&&n&&!("u"<typeof document))?(0,i.createPortal)((0,s.jsx)("div",{className:"fixed pointer-events-none z-[9999]",style:{left:t,top:a,transform:"translate(-50%, -100%) translateY(-12px)"},children:e}),document.body):null};function d({data:e,minPrice:t,maxPrice:a,interval:i,sizeMetric:d,onMinPriceChange:c,onMaxPriceChange:x,onIntervalChange:m,onSizeMetricChange:h}){let[u,f]=(0,r.useState)("natural"),[p,g]=(0,r.useState)(null),[b,j]=(0,r.useState)({x:0,y:0}),v=(0,r.useRef)(null),[y,N]=(0,r.useState)({width:0,height:0});(0,r.useEffect)(()=>{if(!v.current)return;let e=()=>{v.current&&N({width:v.current.clientWidth,height:v.current.clientHeight})};e(),window.addEventListener("resize",e);let t=setTimeout(e,200);return()=>{window.removeEventListener("resize",e),clearTimeout(t)}},[]);let w=(e,t)=>{let a=e.currentTarget.getBoundingClientRect();j({x:a.left+a.width/2,y:a.top}),g(t)},{buckets:z,validBuckets:P,maxValue:k}=(0,r.useMemo)(()=>{if(!e||0===e.length)return{buckets:[],validBuckets:[],maxValue:0};let s=[];for(let e=t;e<a;e+=i)s.push({min:e,max:Math.min(e+i,a),label:`${e}-${Math.min(e+i,a)}`,count:0,totalArea:0,avgPrice:0,transactions:[]});e.forEach(e=>{let r=e["æˆ¿å±‹å–®åƒ¹(è¬)"],n=e["æˆ¿å±‹é¢ç©(åª)"]||0;if("number"!=typeof r||r<t||r>=a)return;let l=Math.floor((r-t)/i);l>=0&&l<s.length&&(s[l].count++,s[l].totalArea+=n,s[l].transactions.push(e))});let r=s.filter(e=>e.count>0),n=Math.max(...r.map(e=>"count"===d?e.count:e.totalArea));return{buckets:s,validBuckets:r,maxValue:n}},[e,t,a,i,d]),{nodes:S,onMouseDown:I,dragId:M}=((e,t,a,s,i,n)=>{let[l,o]=(0,r.useState)([]),d=(0,r.useRef)(null),c=(0,r.useRef)(null),x=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!e.length||!t||!a)return;let r=t/2,n=a/2,l=e.map((e,t)=>{let a="count"===s?e.count:e.totalArea,r=i>0?30+a/i*80:30;return{id:e.label,value:a,radius:r/2,x:0,y:0,vx:0,vy:0,origIndex:t}});l.sort((e,t)=>e.value-t.value),l=l.map((e,t)=>{let a=2.39996*t,s=10*Math.sqrt(t)*2.5;return{...e,x:r+Math.cos(a)*s,y:n+Math.sin(a)*s}});for(let e=0;e<120;e++)for(let e=0;e<l.length;e++)for(let t=e+1;t<l.length;t++){let a=l[e],s=l[t],r=s.x-a.x,i=s.y-a.y,n=r*r+i*i,o=a.radius+s.radius+5;if(n<o*o&&n>0){let e=Math.sqrt(n),t=o-e,l=r/e,d=i/e,c=.5*t;a.x-=l*c,a.y-=d*c,s.x+=l*c,s.y+=d*c}}o(l)},[e,t,a,s,i]),(0,r.useEffect)(()=>{if(!n)return;let e=e=>{x.current={x:e.clientX,y:e.clientY}},t=()=>{c.current=null,x.current=null};return window.addEventListener("mousemove",e),window.addEventListener("mouseup",t),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}},[n]),(0,r.useEffect)(()=>{if(!n||0===l.length||!t)return;let e=t/2,s=a/2,r=()=>{o(t=>{let a=t.map(e=>({...e})),r=0,i=0,n=0,l=0;c.current&&x.current&&(r=x.current.x-c.current.startX,i=x.current.y-c.current.startY,n=c.current.nodeOrigX+r,l=c.current.nodeOrigY+i),a.forEach(t=>{if(c.current?.id===t.id)t.x=n,t.y=l,t.vx=0,t.vy=0;else{let a=e-t.x,r=s-t.y;t.vx+=.05*a*.05,t.vy+=.05*r*.05,t.vx+=(Math.random()-.5)*.003,t.vy+=(Math.random()-.5)*.003,t.x+=t.vx,t.y+=t.vy,t.vx*=.94,t.vy*=.94}});for(let e=0;e<6;e++)for(let e=0;e<a.length;e++)for(let t=e+1;t<a.length;t++){let s=a[e],r=a[t],i=c.current?.id===s.id,n=c.current?.id===r.id,l=r.x-s.x,o=r.y-s.y,d=l*l+o*o,x=s.radius+r.radius+5;if(d<x*x&&d>0){let e=Math.sqrt(d),t=x-e,a=l/e,c=o/e,m=.5*t;i?(r.x+=a*t,r.y+=c*t):n?(s.x-=a*t,s.y-=c*t):(s.x-=a*m,s.y-=c*m,r.x+=a*m,r.y+=c*m)}}return a}),d.current=requestAnimationFrame(r)};return d.current=requestAnimationFrame(r),()=>{null!==d.current&&cancelAnimationFrame(d.current)}},[n,t,a,l.length]),{nodes:l,onMouseDown:(e,t,a,s)=>{e.preventDefault(),c.current={id:t,startX:e.clientX,startY:e.clientY,nodeOrigX:a,nodeOrigY:s},x.current={x:e.clientX,y:e.clientY}},dragId:c.current?.id}})(P,y.width,y.height,d,k,"natural"===u);if(!e||0===e.length)return(0,s.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"ç„¡äº¤æ˜“è³‡æ–™å¯é¡¯ç¤º"});let C=(e,t)=>{let a,s,r=e/(t-1||1);return r<.33?(a="radial-gradient(circle at 30% 30%, rgb(167, 139, 250), rgb(124, 58, 237))",s="rgba(124, 58, 237, 0.4)"):r<.66?(a="radial-gradient(circle at 30% 30%, rgb(34, 211, 238), rgb(8, 145, 178))",s="rgba(8, 145, 178, 0.4)"):(a="radial-gradient(circle at 30% 30%, rgb(52, 211, 153), rgb(5, 150, 105))",s="rgba(5, 150, 105, 0.4)"),{background:a,shadowColor:s}},A=null!==p?P[p]:null;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(o,{x:b.x,y:b.y,visible:null!==p&&!!A&&!M,children:A&&(0,s.jsxs)("div",{className:"px-4 py-3 bg-zinc-900/90 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl min-w-[160px] animate-in fade-in zoom-in-95 duration-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-xs font-medium text-zinc-400",children:"æˆäº¤å–®åƒ¹"}),(0,s.jsx)("span",{className:"text-sm font-bold text-white",children:A.label})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,s.jsx)("span",{className:"text-zinc-500",children:"æˆäº¤ç­†æ•¸"}),(0,s.jsxs)("span",{className:"font-medium text-violet-300",children:[A.count," ç­†"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,s.jsx)("span",{className:"text-zinc-500",children:"ç¸½éŠ·åªæ•¸"}),(0,s.jsxs)("span",{className:"font-medium text-cyan-300",children:[Math.round(A.totalArea)," åª"]})]})]}),(0,s.jsx)("div",{className:"absolute left-1/2 bottom-0 -mb-1 w-2 h-2 bg-zinc-900/90 border-r border-b border-white/10 rotate-45 -translate-x-1/2"})]})}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-zinc-900/30 border border-white/5 rounded-xl",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-zinc-400 text-xs",children:"å–®åƒ¹ç¯„åœ"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(l.p,{type:"number",value:t,onChange:e=>c(Number(e.target.value)),className:"w-16 h-7 text-xs bg-zinc-950/50 border-white/10 px-2"}),(0,s.jsx)("span",{className:"text-zinc-600",children:"-"}),(0,s.jsx)(l.p,{type:"number",value:a,onChange:e=>x(Number(e.target.value)),className:"w-16 h-7 text-xs bg-zinc-950/50 border-white/10 px-2"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-zinc-400 text-xs",children:"ç´šè·"}),(0,s.jsx)(l.p,{type:"number",value:i,onChange:e=>m(Number(e.target.value)),className:"w-14 h-7 text-xs bg-zinc-950/50 border-white/10 px-2"})]}),(0,s.jsxs)("div",{className:"flex bg-zinc-950/50 rounded-md p-0.5 border border-white/10",children:[(0,s.jsx)("button",{onClick:()=>h("count"),className:(0,n.cn)("px-2.5 py-1 text-[10px] rounded transition-colors","count"===d?"bg-violet-500 text-white shadow-sm":"text-zinc-400 hover:text-white"),children:"æˆäº¤ç­†æ•¸"}),(0,s.jsx)("button",{onClick:()=>h("area"),className:(0,n.cn)("px-2.5 py-1 text-[10px] rounded transition-colors","area"===d?"bg-violet-500 text-white shadow-sm":"text-zinc-400 hover:text-white"),children:"ç¸½éŠ·åªæ•¸"})]})]}),(0,s.jsxs)("div",{className:"bg-zinc-950/50 p-1 rounded-lg border border-white/5 flex gap-1",children:[(0,s.jsx)("button",{onClick:()=>f("natural"),className:(0,n.cn)("px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-300","natural"===u?"bg-gradient-to-r from-violet-600 to-indigo-600 text-white shadow-lg shadow-violet-500/20":"text-zinc-500 hover:text-zinc-300"),children:(0,s.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,s.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,s.jsx)("span",{className:(0,n.cn)("absolute inline-flex h-full w-full rounded-full bg-violet-400 opacity-75","natural"===u&&"animate-ping")}),(0,s.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-violet-500"})]}),"ç„¡é‡åŠ›æ¨¡å¼"]})}),(0,s.jsx)("button",{onClick:()=>f("coordinate"),className:(0,n.cn)("px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-300","coordinate"===u?"bg-gradient-to-r from-violet-600 to-indigo-600 text-white shadow-lg shadow-violet-500/20":"text-zinc-500 hover:text-zinc-300"),children:(0,s.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,s.jsxs)("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M3 3v18h18"}),(0,s.jsx)("path",{d:"M18 17V9"}),(0,s.jsx)("path",{d:"M13 17V5"}),(0,s.jsx)("path",{d:"M8 17v-3"})]}),"åº§æ¨™æ¨¡å¼"]})})]})]}),(0,s.jsxs)("div",{ref:v,className:(0,n.cn)("relative rounded-3xl overflow-hidden border border-white/5 transition-all duration-500","bg-gradient-to-b from-zinc-900 via-zinc-900 to-zinc-950","h-full min-h-[500px]"),children:[(0,s.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"}),(0,s.jsx)("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-violet-500/10 rounded-full blur-[100px]"}),(0,s.jsx)("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-cyan-500/10 rounded-full blur-[100px]"})]}),(0,s.jsxs)("div",{className:"absolute inset-0",children:["natural"===u&&(0,s.jsxs)("div",{className:"absolute inset-0",children:[S.map((e,t)=>{let a=p===e.origIndex,r=M===e.id,i=C(e.origIndex,P.length),l=2*e.radius;return(0,s.jsxs)("div",{className:(0,n.cn)("absolute block rounded-full select-none cursor-grab active:cursor-grabbing will-change-transform",r?"z-[100] scale-110 shadow-2xl":"transition-[transform,box-shadow] duration-75 ease-linear"),style:{width:l,height:l,left:0,top:0,transform:`translate(${e.x-e.radius}px, ${e.y-e.radius}px) scale(${a||r?1.1:1})`,background:i.background,boxShadow:r?`0 25px 50px -12px ${i.shadowColor}, inset 0 2px 20px rgba(255,255,255,0.6)`:a?`0 20px 40px -10px ${i.shadowColor}, inset 0 2px 20px rgba(255,255,255,0.4)`:`0 10px 30px -10px ${i.shadowColor}, inset 0 2px 10px rgba(255,255,255,0.2)`,zIndex:r?100:a?50:10},onMouseEnter:t=>w(t,e.origIndex),onMouseLeave:()=>g(null),onMouseDown:t=>I(t,e.id,e.x,e.y),children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-white/0 via-white/0 to-white/30 opacity-50 pointer-events-none"}),(0,s.jsx)("div",{className:"absolute top-[15%] left-[15%] w-[25%] h-[15%] rounded-[100%] bg-white blur-[2px] opacity-40 transform -rotate-45 pointer-events-none"}),(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center z-20 pointer-events-none",children:[(0,s.jsx)("div",{className:(0,n.cn)("font-bold text-white drop-shadow-md leading-none",l>80?"text-2xl":l>60?"text-lg":"text-sm","mix-blend-overlay opacity-90"),children:e.value>=1?Math.round(e.value):e.value.toFixed(1)}),l>80&&(0,s.jsx)("div",{className:"text-[10px] text-white/70 mt-1 font-medium tracking-wide",children:"count"===d?"ç­†":"åª"})]})]},e.id)}),(0,s.jsx)("div",{className:"absolute bottom-4 left-0 right-0 text-center text-xs text-zinc-500 font-medium tracking-widest uppercase opacity-50 pointer-events-none",children:"Zero Gravity â€¢ Force Layout â€¢ Draggable"})]}),"coordinate"===u&&(0,s.jsxs)("div",{className:"absolute inset-0 pt-6 pb-8 px-0",children:[(0,s.jsx)("div",{className:"flex flex-col justify-between h-full py-0 pr-1 text-right w-[46px] border-r border-white/5 relative z-10 float-left",children:[...Array(6)].map((e,r)=>(0,s.jsx)("span",{className:"text-xs font-mono text-zinc-600 block leading-none transform -translate-y-1/2 first:translate-y-0 last:-translate-y-full",children:Math.round(a-(a-t)/5*r)},r))}),(0,s.jsxs)("div",{className:"relative ml-[46px] h-full",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none",children:[...Array(6)].map((e,t)=>(0,s.jsx)("div",{className:"w-full h-px border-t border-dashed border-zinc-800"},t))}),(0,s.jsx)("div",{className:"absolute inset-0",children:P.map((e,r)=>{var i;let l=(i="count"===d?e.count:e.totalArea,0===k?40:40+i/k*100),o=(e.min+e.max)/2,c=r/(P.length-1||1)*90+5,x=100-(o-t)/(a-t)*100,m=p===r,h=C(r,P.length);return(0,s.jsx)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 transition-all duration-500",style:{left:`${c}%`,top:`${x}%`,zIndex:m?50:20},onMouseEnter:e=>w(e,r),onMouseLeave:()=>g(null),children:(0,s.jsx)("div",{className:(0,n.cn)("relative rounded-full flex items-center justify-center cursor-pointer shadow-lg transition-transform duration-300",m?"scale-110":"scale-100"),style:{width:l,height:l,background:h.background,boxShadow:m?`0 10px 20px -5px ${h.shadowColor}, inset 0 2px 10px rgba(255,255,255,0.3)`:`0 5px 15px -5px ${h.shadowColor}, inset 0 2px 5px rgba(255,255,255,0.2)`},children:(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-transparent to-white/30 opacity-60"})})},e.label)})}),(0,s.jsxs)("div",{className:"absolute bottom-0 inset-x-0 flex justify-between text-xs text-zinc-600 font-mono translate-y-full pt-1 px-2",children:[(0,s.jsx)("span",{children:"Low Price"}),(0,s.jsx)("span",{children:"High Price"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between px-2 text-xs text-zinc-500",children:[(0,s.jsxs)("div",{children:["* Bubble size represents ","count"===d?"Transaction Count":"Total Area"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-violet-500"}),(0,s.jsx)("span",{children:"Low"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-cyan-500"}),(0,s.jsx)("span",{children:"Mid"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),(0,s.jsx)("span",{children:"High"})]})]})]})]})}},88743:(e,t,a)=>{a.d(t,{M:()=>i,P:()=>n});var s=a(1934);let r={counties:[],districts:[],transactionType:"é å”®äº¤æ˜“",buildingType:"",projectNames:[],dateRange:"1y",startDate:"",endDate:"",excludeCommercial:!1,floorPremium:.3,rankingCurrentPage:1,rankingPageSize:10,currentSort:{key:"saleAmountSum",order:"desc"},currentAverageType:"arithmetic",velocityView:"monthly",velocityMetric:"count",activeTab:"ranking",isFilterBarCompact:!1,analysisData:null,selectedRoomTypes:["å¥—æˆ¿","1æˆ¿","2æˆ¿","3æˆ¿","4æˆ¿","æ¯›èƒš"]},i=["å¥—æˆ¿","1æˆ¿","2æˆ¿","3æˆ¿","4æˆ¿","æ¯›èƒš","åº—èˆ–","è¾¦å…¬/äº‹å‹™æ‰€","å» è¾¦/å·¥å» ","å…¶ä»–"],n=(0,s.v)(e=>({...r,setCounties:t=>e({counties:t,districts:[]}),setDistricts:t=>e({districts:t}),setTransactionType:t=>e({transactionType:t}),setBuildingType:t=>e({buildingType:t}),setProjectNames:t=>e({projectNames:t}),setDateRange:(t,a,s)=>e(e=>({dateRange:t,startDate:a||e.startDate,endDate:s||e.endDate})),setCustomDate:(t,a)=>e({startDate:t,endDate:a,dateRange:"custom"}),setExcludeCommercial:t=>e({excludeCommercial:t}),setFloorPremium:t=>e({floorPremium:t}),setRankingCurrentPage:t=>e({rankingCurrentPage:t}),setRankingPageSize:t=>e({rankingPageSize:t}),setCurrentSort:t=>e({currentSort:t}),setCurrentAverageType:t=>e({currentAverageType:t}),setVelocityView:t=>e({velocityView:t}),setVelocityMetric:t=>e({velocityMetric:t}),setActiveTab:t=>e({activeTab:t}),setIsFilterBarCompact:t=>e({isFilterBarCompact:t}),setAnalysisData:t=>e({analysisData:t}),setSelectedRoomTypes:t=>e({selectedRoomTypes:t}),resetFilters:()=>e(r),hydrateFilters:t=>e(e=>({...e,...t}))}))},93398:(e,t,a)=>{a.d(t,{t:()=>h});var s=a(95155),r=a(12115),i=a(47650),n=a(40980),l=a(41159),o=a(89974),d=a(43987),c=a(7810);let x=(e,t=0)=>e?.toLocaleString(void 0,{maximumFractionDigits:t}),m=({children:e,triggerRect:t,isTopRow:a})=>{if(!t)return null;let r={position:"fixed",left:t.left+t.width/2,transform:"translateX(-50%)",zIndex:9999};return a?r.top=t.bottom+8:r.bottom=window.innerHeight-t.top+8,(0,i.createPortal)((0,s.jsx)("div",{style:r,className:"pointer-events-none",children:e}),document.body)};function h({data:e,floorPremium:t=.3,showGrid:a=!0,showSummary:i=!0,showComparison:h=!0}){let{horizontalGrid:u,sortedFloors:f,sortedUnits:p,unitColorMap:g,summary:b,horizontalComparison:j}=e,[v,y]=(0,r.useState)(null),N=()=>{y(null)};return u&&f&&p?(0,s.jsxs)("div",{className:"space-y-8 overflow-x-auto relative",children:[v&&(0,s.jsx)(m,{triggerRect:v.rect,isTopRow:v.isTopRow,children:(0,s.jsx)("div",{className:"w-48 bg-zinc-900 border border-zinc-700 rounded-lg p-3 shadow-xl animate-in fade-in zoom-in-95 duration-200",children:(0,s.jsxs)("div",{className:"space-y-1",children:[0===v.data.premium&&(0,s.jsx)("div",{className:"text-cyan-400 font-bold mb-1",children:"â˜… åŸºæº–æˆ¶"}),null!==v.data.premium&&(0,s.jsxs)("div",{className:"text-zinc-300",children:["èª¿åƒ¹: ",(0,s.jsxs)("span",{className:(0,n.cn)(v.data.premium>0?"text-red-400":v.data.premium<0?"text-violet-400":"text-zinc-400"),children:[v.data.premium>0?"+":"",v.data.premium.toFixed(2),"%"]})]}),(0,s.jsx)("div",{className:"h-px bg-zinc-700 my-2"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-xs text-zinc-400",children:[(0,s.jsx)("span",{children:"æˆäº¤ç¸½åƒ¹:"})," ",(0,s.jsxs)("span",{className:"text-white text-right",children:[x(v.data.tooltipInfo.totalPrice),"è¬"]}),(0,s.jsx)("span",{children:"æˆ¿å±‹ç¸½åƒ¹:"})," ",(0,s.jsxs)("span",{className:"text-white text-right",children:[x(v.data.tooltipInfo.housePrice),"è¬"]}),(0,s.jsx)("span",{children:"è»Šä½ç¸½åƒ¹:"})," ",(0,s.jsxs)("span",{className:"text-white text-right",children:[x(v.data.tooltipInfo.parkingPrice),"è¬"]}),(0,s.jsx)("span",{children:"æˆ¿å±‹é¢ç©:"})," ",(0,s.jsxs)("span",{className:"text-white text-right",children:[x(v.data.tooltipInfo.houseArea,2),"åª"]})]})]})})}),a&&(0,s.jsx)("div",{className:"min-w-max pb-32",children:(0,s.jsxs)("table",{className:"divide-y divide-zinc-800 border-collapse w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"sticky left-0 bg-dark-card z-20 p-2 text-zinc-400 border-r border-zinc-800",children:"æ¨“å±¤ \\ æˆ¶åˆ¥"}),p.map(e=>(0,s.jsx)("th",{className:"p-2 text-zinc-300 font-medium border-l border-zinc-800/50 bg-zinc-900/50",children:e},e))]})}),(0,s.jsx)("tbody",{className:"divide-y divide-zinc-800/50",children:f.map((e,t)=>(0,s.jsxs)("tr",{className:"hover:bg-zinc-800/30 transition-colors",children:[(0,s.jsx)("td",{className:"sticky left-0 bg-dark-card z-10 p-2 font-bold text-zinc-300 border-r border-zinc-800 text-center",children:e}),p.map(a=>{let r=u[e]?.[a];return r&&0!==r.length?(0,s.jsx)("td",{className:"p-1 border-l border-zinc-800/50 align-top",children:(0,s.jsx)("div",{className:"flex flex-col gap-1",children:r.map((e,a)=>{var r;let i=(r=e.premium,e.isStorefront?"rgba(217, 119, 6, 0.4)":e.isOffice?"rgba(37, 99, 235, 0.4)":null===r?"#1f2937":r<0?"rgba(139, 92, 246, 0.4)":0===r?"#06b6d4":r>5?"rgba(244, 63, 94, 0.5)":r>2?"rgba(234, 179, 8, 0.4)":"rgba(34, 197, 94, 0.3)"),x=e.isStorefront?{icon:(0,s.jsx)(l.A,{className:"w-3 h-3"}),label:"åº—èˆ–"}:e.isOffice?{icon:(0,s.jsx)(o.A,{className:"w-3 h-3"}),label:"è¾¦å…¬"}:e.remark?.includes("éœ²å°")?{icon:(0,s.jsx)(d.A,{className:"w-3 h-3"}),label:"éœ²å°"}:e.remark?.includes("è¦ªå‹")||e.remark?.includes("å“¡å·¥")?{icon:(0,s.jsx)(c.A,{className:"w-3 h-3"}),label:"è¦ªå‹"}:null,m=0===e.premium,h=t<3;return(0,s.jsxs)("div",{className:(0,n.cn)("p-1.5 rounded text-xs transition-transform hover:scale-105 cursor-default relative group",m&&"ring-1 ring-cyan-500"),style:{backgroundColor:i},onMouseEnter:t=>{y({rect:t.currentTarget.getBoundingClientRect(),data:e,isTopRow:h})},onMouseLeave:N,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,s.jsxs)("span",{className:"font-semibold text-white flex items-center gap-1",children:[x&&(0,s.jsx)("span",{className:"text-zinc-200",title:x.label,children:x.icon}),e.unitPrice.toFixed(1),"è¬"]}),e.hasParking&&(0,s.jsx)("span",{className:"flex items-center justify-center w-3.5 h-3.5 bg-blue-500 text-white text-[9px] font-bold rounded-sm ml-0.5",title:"å«è»Šä½",children:"P"})]}),(0,s.jsx)("div",{className:"text-[10px] text-zinc-300 mt-0.5 font-mono tracking-tight opacity-90",children:e.transactionDate||"-"})]},a)})})},`${e}-${a}`):(0,s.jsx)("td",{className:"p-2 border-l border-zinc-800/50 bg-zinc-900/20 text-center text-zinc-600",children:"-"},`${e}-${a}`)})]},e))})]})}),i&&b&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-zinc-200",children:"èª¿åƒ¹å¹…åº¦çµ±è¨ˆæ‘˜è¦ (æ’é™¤åº—èˆ–/è¾¦å…¬å®¤)"}),(0,s.jsx)("div",{className:"overflow-x-auto rounded-lg border border-zinc-800",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left text-zinc-300",children:[(0,s.jsx)("thead",{className:"text-xs text-zinc-400 uppercase bg-zinc-900/50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3",children:"åŸºæº–æˆ¿å±‹ç¸½åƒ¹"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"èª¿åƒ¹å¹…åº¦ç¸½é¡"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"ç¸½æº¢åƒ¹ç‡"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"å·²å”®æˆ¿å±‹åªæ•¸"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"å¹³å‡å–®åƒ¹èª¿åƒ¹"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{className:"bg-zinc-900/20 border-b border-zinc-800",children:[(0,s.jsxs)("td",{className:"px-6 py-4",children:[x(b.totalBaselineHousePrice)," è¬"]}),(0,s.jsxs)("td",{className:(0,n.cn)("px-6 py-4 font-bold",b.totalPricePremiumValue>0?"text-red-400":"text-violet-400"),children:[b.totalPricePremiumValue>0?"+":"",x(b.totalPricePremiumValue)," è¬"]}),(0,s.jsxs)("td",{className:"px-6 py-4",children:[(b.totalPricePremiumValue/b.totalBaselineHousePrice*100).toFixed(2)," %"]}),(0,s.jsxs)("td",{className:"px-6 py-4",children:[x(b.totalSoldArea)," åª"]}),(0,s.jsxs)("td",{className:(0,n.cn)("px-6 py-4",b.totalPricePremiumValue>0?"text-red-400":"text-violet-400"),children:[(b.totalPricePremiumValue/b.totalSoldArea).toFixed(2)," è¬/åª"]})]})})]})})]}),h&&j&&j.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-zinc-200",children:"æˆ¶å‹æ°´å¹³åƒ¹å·®èˆ‡æº¢åƒ¹è²¢ç»"}),(0,s.jsx)("div",{className:"overflow-x-auto rounded-lg border border-zinc-800",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left text-zinc-300",children:[(0,s.jsx)("thead",{className:"text-xs text-zinc-400 uppercase bg-zinc-900/50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3",children:"æˆ¶å‹"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"åŸºæº–æˆ¶ (æ¨“/åƒ¹)"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"æ°´å¹³åƒ¹å·®(è¬/åª)"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"å»åŒ–æˆ¶æ•¸"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"æº¢åƒ¹è²¢ç»"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"è²¢ç»ä½”æ¯”"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"åŸºæº–æˆ¿å±‹ç¸½åƒ¹"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"å¹³å‡å–®åƒ¹èª¿åƒ¹"})]})}),(0,s.jsx)("tbody",{children:j.map((e,t)=>(0,s.jsxs)("tr",{className:"bg-zinc-900/20 border-b border-zinc-800 hover:bg-zinc-800/20",children:[(0,s.jsx)("td",{className:"px-4 py-3 font-medium text-white",children:e.unitType}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.anchorInfo}),(0,s.jsx)("td",{className:(0,n.cn)("px-4 py-3",(e.horizontalPriceDiff||0)>0?"text-red-400":"text-zinc-400"),children:"number"==typeof e.horizontalPriceDiff?`${e.horizontalPriceDiff>0?"+":""}${e.horizontalPriceDiff.toFixed(2)} è¬/åª`:"-"}),(0,s.jsxs)("td",{className:"px-4 py-3",children:[e.unitsSold," æˆ¶"]}),(0,s.jsxs)("td",{className:(0,n.cn)("px-4 py-3 font-bold",e.timePremiumContribution>0?"text-red-400":"text-violet-400"),children:[e.timePremiumContribution>0?"+":"",x(e.timePremiumContribution)," è¬"]}),(0,s.jsxs)("td",{className:"px-4 py-3",children:["number"==typeof e.contributionPercentage?e.contributionPercentage.toFixed(2):"0.00","%"]}),(0,s.jsxs)("td",{className:"px-4 py-3",children:[x(e.baselineHousePrice)," è¬"]}),(0,s.jsxs)("td",{className:"px-4 py-3",children:["number"==typeof e.avgPriceAdjustment?e.avgPriceAdjustment.toFixed(2):"-"," è¬/åª"]})]},t))})]})})]})]}):(0,s.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"ç„¡æœ‰æ•ˆç†±åŠ›åœ–è³‡æ–™"})}},96066:(e,t,a)=>{a.d(t,{Q:()=>l});var s=a(1934),r=a(31692);let i={"ranking-chart":{width:400,height:300},"ranking-table":{width:600,height:400},"ranking-metrics":{width:600,height:200},"price-band-chart":{width:450,height:280},"price-band-table":{width:600,height:400},"price-band-location-table":{width:600,height:400},"price-band-location-chart":{width:600,height:400},"unit-price-bubble":{width:380,height:320},"unit-price-stats":{width:1e3,height:400},"type-comparison-table":{width:600,height:350},"sales-velocity-chart":{width:420,height:260},"sales-velocity-table":{width:600,height:400},"sales-heatmap":{width:450,height:350},"sales-heatmap-detail":{width:800,height:400},"parking-pie":{width:300,height:300},"parking-price":{width:400,height:300},"parking-scatter":{width:450,height:350},"parking-floor":{width:400,height:400},heatmap:{width:500,height:350},"heatmap-grid":{width:800,height:500},"heatmap-stats":{width:800,height:120},"heatmap-comparison":{width:800,height:300},"data-list":{width:600,height:400}},n=e=>({id:`page-${Date.now()}`,name:`ç¬¬ ${e+1} é `,items:[]}),l=(0,s.v)()((0,r.Zr)((e,t)=>({pages:[n(0)],currentPageIndex:0,canvasRatio:"16:9",zoomLevel:100,viewMode:"continuous",selectedIds:[],isDragging:!1,draggedItemCount:0,hoveredPageIndex:null,setViewMode:t=>e({viewMode:t}),setDragging:(t,a=0)=>e({isDragging:t,draggedItemCount:a}),setHoveredPageIndex:t=>e({hoveredPageIndex:t}),get items(){let e=t();return e.pages[e.currentPageIndex]?.items||[]},addPage:()=>{e(e=>{let t=n(e.pages.length);return{pages:[...e.pages,t],currentPageIndex:e.pages.length,selectedIds:[]}})},deletePage:t=>{e(e=>{if(e.pages.length<=1||-1===e.pages.findIndex(e=>e.id===t))return e;let a=e.pages.filter(e=>e.id!==t).map((e,t)=>({...e,name:`ç¬¬ ${t+1} é `})),s=Math.min(e.currentPageIndex,a.length-1);return{pages:a,currentPageIndex:s,selectedIds:[]}})},setCurrentPage:t=>{e(e=>({currentPageIndex:Math.max(0,Math.min(t,e.pages.length-1)),selectedIds:[]}))},renamePage:(t,a)=>{e(e=>({pages:e.pages.map(e=>e.id===t?{...e,name:a}:e)}))},reorderPages:(t,a)=>{e(e=>{if(t===a)return e;let s=[...e.pages],[r]=s.splice(t,1);s.splice(a,0,r);let i=s.map((e,t)=>({...e,name:`ç¬¬ ${t+1} é `})),n=e.currentPageIndex;return e.currentPageIndex===t?n=a:t<e.currentPageIndex&&a>=e.currentPageIndex?n=e.currentPageIndex-1:t>e.currentPageIndex&&a<=e.currentPageIndex&&(n=e.currentPageIndex+1),{pages:i,currentPageIndex:n}})},addItem:(t,a)=>{let s=i[t]||{width:400,height:300};e(e=>{let r=e.pages[e.currentPageIndex];if(!r)return e;let i=20*r.items.length,n={id:`item-${Date.now()}`,type:t,x:50+i,y:50+i,width:s.width,height:s.height,scaleMode:"select",panOffset:{x:0,y:0},contentScale:1,data:a};return{pages:e.pages.map((t,a)=>a===e.currentPageIndex?{...t,items:[...t.items,n]}:t),selectedIds:[n.id]}})},updateItem:(t,a)=>{e(e=>({pages:e.pages.map((s,r)=>r===e.currentPageIndex?{...s,items:s.items.map(e=>e.id===t?{...e,...a}:e)}:s)}))},removeItem:t=>{e(e=>({pages:e.pages.map((a,s)=>s===e.currentPageIndex?{...a,items:a.items.filter(e=>e.id!==t)}:a),selectedIds:e.selectedIds.filter(e=>e!==t)}))},moveItemToPage:(t,a)=>{e(e=>{let s=e.pages[e.currentPageIndex],r=s?.items.find(e=>e.id===t);return!r||a===e.currentPageIndex||a<0||a>=e.pages.length?e:{pages:e.pages.map((s,i)=>i===e.currentPageIndex?{...s,items:s.items.filter(e=>e.id!==t)}:i===a?{...s,items:[...s.items,{...r,x:50,y:50}]}:s),selectedIds:[]}})},clearCanvas:()=>{e(e=>({pages:e.pages.map((t,a)=>a===e.currentPageIndex?{...t,items:[]}:t),selectedIds:[]}))},batchUpdateItems:t=>{e(e=>({pages:e.pages.map((a,s)=>s===e.currentPageIndex?{...a,items:a.items.map(e=>t[e.id]?{...e,...t[e.id]}:e)}:a)}))},setCanvasRatio:t=>e({canvasRatio:t}),setZoomLevel:t=>e({zoomLevel:Math.max(25,Math.min(400,t))}),resetZoom:()=>e({zoomLevel:100}),setSelectedIds:t=>e({selectedIds:t}),toggleSelection:t=>{e(e=>({selectedIds:e.selectedIds.includes(t)?e.selectedIds.filter(e=>e!==t):[...e.selectedIds,t]}))},addToSelection:t=>{e(e=>({selectedIds:e.selectedIds.includes(t)?e.selectedIds:[...e.selectedIds,t]}))},clearSelection:()=>e({selectedIds:[]}),removeSelectedItems:()=>{e(e=>e.pages[e.currentPageIndex]?{pages:e.pages.map((t,a)=>a===e.currentPageIndex?{...t,items:t.items.filter(t=>!e.selectedIds.includes(t.id))}:t),selectedIds:[]}:e)},moveSelectedItemsToPage:t=>{e(e=>{if(t===e.currentPageIndex||t<0||t>=e.pages.length)return e;let a=e.pages[e.currentPageIndex].items.filter(t=>e.selectedIds.includes(t.id));return 0===a.length?e:{pages:e.pages.map((s,r)=>r===e.currentPageIndex?{...s,items:s.items.filter(t=>!e.selectedIds.includes(t.id))}:r===t?{...s,items:[...s.items,...a.map((e,t)=>({...e,x:50+20*t,y:50+20*t}))]}:s),selectedIds:[]}})}}),{name:"report-builder-storage"}))},97085:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(95155);a(12115);var r=a(37206),i=a(81477);let n=(0,r.default)(()=>Promise.all([a.e(7776),a.e(4822)]).then(a.bind(a,44822)),{loadableGenerated:{webpack:()=>[null]},ssr:!1});function l({type:e,series:t,options:a,height:r=350,title:l,description:o,className:d,loading:c}){let x={chart:{background:"transparent",toolbar:{show:!1}},theme:{mode:"dark",palette:"palette1"},dataLabels:{enabled:!1},grid:{borderColor:"#374151",strokeDashArray:4},xaxis:{labels:{style:{colors:"#9ca3af"}},axisBorder:{color:"#4b5563"},axisTicks:{color:"#4b5563"}},yaxis:{labels:{style:{colors:"#9ca3af"}}},tooltip:{theme:"dark",style:{fontSize:"12px"},x:{show:!0}}},m={...x,...a,chart:{...x.chart,...a.chart}};return(0,s.jsxs)(i.Zp,{className:`p-4 ${d}`,children:[(l||o)&&(0,s.jsxs)("div",{className:"mb-4",children:[l&&(0,s.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:l}),o&&(0,s.jsx)("p",{className:"text-sm text-gray-400",children:o})]}),c?(0,s.jsx)("div",{className:"flex items-center justify-center",style:{height:r},children:(0,s.jsx)("div",{className:"loader"})}):(0,s.jsx)(n,{options:m,series:t,type:e,height:r,width:"100%"})]})}},98563:(e,t,a)=>{a.d(t,{E:()=>i});var s=a(95155);a(12115);var r=a(40980);function i({title:e,stats:t,noDataMessage:a="ç„¡è³‡æ–™",className:i,averageType:n="weighted"}){if(!t||0===t.count)return(0,s.jsxs)("div",{className:(0,r.cn)("p-6 border border-white/5 rounded-lg bg-zinc-900/30",i),children:[(0,s.jsx)("h3",{className:"text-zinc-400 font-medium mb-4",children:e}),(0,s.jsx)("p",{className:"text-zinc-500 text-center py-4",children:a})]});let l="weighted"===n&&t.weightedAvgPrice?t.weightedAvgPrice:t.avgPrice;return(0,s.jsxs)("div",{className:(0,r.cn)("p-6 border border-white/5 rounded-lg bg-zinc-900/30",i),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:e}),(0,s.jsxs)("span",{className:"text-xs text-zinc-500 bg-zinc-800 px-2 py-1 rounded",children:["æ¨£æœ¬æ•¸: ",t.count]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsx)("div",{className:"space-y-1",children:(0,s.jsx)("table",{className:"w-full text-sm",children:(0,s.jsxs)("tbody",{className:"divide-y divide-white/5",children:[(0,s.jsxs)("tr",{className:"group",children:[(0,s.jsx)("td",{className:"py-2 text-zinc-400",children:"weighted"===n?"åŠ æ¬Šå¹³å‡å–®åƒ¹":"ç®—è¡“å¹³å‡å–®åƒ¹"}),(0,s.jsxs)("td",{className:"py-2 text-right font-mono text-white group-hover:text-cyan-400 transition-colors",children:[(0,r.Z)(l)," è¬/åª"]})]}),(0,s.jsxs)("tr",{className:"group",children:[(0,s.jsx)("td",{className:"py-2 text-zinc-400",children:"æœ€ä½å–®åƒ¹"}),(0,s.jsx)("td",{className:"py-2 text-right font-mono text-zinc-300 group-hover:text-white transition-colors",children:(0,r.Z)(t.minPrice)})]}),(0,s.jsxs)("tr",{className:"group",children:[(0,s.jsx)("td",{className:"py-2 text-zinc-400",children:"1/4åˆ†ä½æ•¸"}),(0,s.jsx)("td",{className:"py-2 text-right font-mono text-zinc-300 group-hover:text-white transition-colors",children:(0,r.Z)(t.q1Price)})]}),(0,s.jsxs)("tr",{className:"group",children:[(0,s.jsx)("td",{className:"py-2 text-violet-400 font-medium",children:"ä¸­ä½æ•¸å–®åƒ¹"}),(0,s.jsx)("td",{className:"py-2 text-right font-mono text-violet-400 font-bold",children:(0,r.Z)(t.medianPrice)})]}),(0,s.jsxs)("tr",{className:"group",children:[(0,s.jsx)("td",{className:"py-2 text-zinc-400",children:"3/4åˆ†ä½æ•¸"}),(0,s.jsx)("td",{className:"py-2 text-right font-mono text-zinc-300 group-hover:text-white transition-colors",children:(0,r.Z)(t.q3Price)})]}),(0,s.jsxs)("tr",{className:"group",children:[(0,s.jsx)("td",{className:"py-2 text-zinc-400",children:"æœ€é«˜å–®åƒ¹"}),(0,s.jsx)("td",{className:"py-2 text-right font-mono text-zinc-300 group-hover:text-white transition-colors",children:(0,r.Z)(t.maxPrice)})]})]})})}),(0,s.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,s.jsxs)("div",{className:"p-3 bg-zinc-950/50 rounded border border-white/5",children:[(0,s.jsx)("div",{className:"text-cyan-500 font-medium mb-1 text-xs uppercase tracking-wider",children:"æœ€é«˜åƒ¹å»ºæ¡ˆ"}),(0,s.jsx)("div",{className:"text-white font-bold text-lg mb-1",children:t.maxPriceProject||"N/A"}),(0,s.jsxs)("div",{className:"flex gap-4 text-zinc-400 text-xs",children:[(0,s.jsxs)("span",{children:["æˆ¶å‹: ",t.maxPriceUnit||"-"]}),(0,s.jsxs)("span",{children:["æ¨“å±¤: ",t.maxPriceFloor||"-"]})]})]}),(0,s.jsxs)("div",{className:"p-3 bg-zinc-950/50 rounded border border-white/5",children:[(0,s.jsx)("div",{className:"text-green-500 font-medium mb-1 text-xs uppercase tracking-wider",children:"æœ€ä½åƒ¹å»ºæ¡ˆ"}),(0,s.jsx)("div",{className:"text-white font-bold text-lg mb-1",children:t.minPriceProject||"N/A"}),(0,s.jsxs)("div",{className:"flex gap-4 text-zinc-400 text-xs",children:[(0,s.jsxs)("span",{children:["æˆ¶å‹: ",t.minPriceUnit||"-"]}),(0,s.jsxs)("span",{children:["æ¨“å±¤: ",t.minPriceFloor||"-"]})]})]})]})]})]})}},98883:(e,t,a)=>{a.d(t,{P:()=>s});let s=e=>{let t=new Date,a=new Date;switch(e){case"1q":a.setMonth(t.getMonth()-3);break;case"2q":a.setMonth(t.getMonth()-6);break;case"3q":a.setMonth(t.getMonth()-9);break;case"1y":a.setFullYear(t.getFullYear()-1);break;case"this_year":a=new Date(t.getFullYear(),0,1);break;case"last_2_years":a=new Date(t.getFullYear()-1,0,1);break;case"last_3_years":a=new Date(t.getFullYear()-2,0,1);break;default:return{startDate:"",endDate:""}}return{startDate:a.toISOString().split("T")[0],endDate:t.toISOString().split("T")[0]}}}}]);