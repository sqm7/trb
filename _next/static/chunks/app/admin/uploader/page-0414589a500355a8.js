(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4885,8648],{6252:(e,s,r)=>{Promise.resolve().then(r.bind(r,88640))},16385:(e,s,r)=>{"use strict";r.d(s,{N:()=>d});var t=r(36228),a=r(55873);let l=a.VI,c=a.m5;l&&c||console.error("Missing Supabase URL or Key");let d=(0,t.UU)(l,c)},18648:(e,s,r)=>{"use strict";r.d(s,{b:()=>n,i:()=>i});var t=r(95155),a=r(12115),l=r(73321),c=r(16385),d=r(85864);function n(){let[e,s]=(0,a.useState)({user:null,isAdmin:!1,isLoading:!0,error:null});return(0,a.useEffect)(()=>{let e=async()=>{try{let{data:{session:e},error:r}=await c.N.auth.getSession();if(r)throw r;if(!e?.user)return void s({user:null,isAdmin:!1,isLoading:!1,error:null});let{data:t,error:a}=await c.N.from("profiles").select("role").eq("id",e.user.id).single();if(a){console.warn("Profile fetch error:",a),s({user:e.user,isAdmin:!1,isLoading:!1,error:null});return}s({user:e.user,isAdmin:t?.role==="admin"||t?.role==="super_admin",isLoading:!1,error:null})}catch(e){console.error("Admin auth check error:",e),s({user:null,isAdmin:!1,isLoading:!1,error:e.message})}};e();let{data:{subscription:r}}=c.N.auth.onAuthStateChange(()=>{e()});return()=>r.unsubscribe()},[]),e}function i(e){return function(s){let{user:r,isAdmin:c,isLoading:i,error:o}=n(),x=(0,l.useRouter)();return((0,a.useEffect)(()=>{i||c||x.replace("/")},[i,c,x]),i)?(0,t.jsx)("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"h-8 w-8 border-2 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin mx-auto"}),(0,t.jsx)("p",{className:"text-zinc-500 text-sm",children:"驗證管理員權限..."})]})}):r?c?(0,t.jsx)(e,{...s}):(0,t.jsx)("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:(0,t.jsx)(d.O,{type:"forbidden"})}):(0,t.jsx)("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:(0,t.jsx)(d.O,{type:"login"})})}}},40980:(e,s,r)=>{"use strict";r.d(s,{Z:()=>c,cn:()=>l});var t=r(29722),a=r(622);function l(...e){return(0,a.QP)((0,t.$)(e))}function c(e,s=0){return null==e||isNaN(e)?"-":e.toLocaleString("zh-TW",{minimumFractionDigits:s,maximumFractionDigits:s})}},55873:(e,s,r)=>{"use strict";r.d(s,{Ib:()=>d,Sn:()=>c,VI:()=>t,WG:()=>n,m5:()=>a});let t="https://zxbmbbfrzbtuueysicoc.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp4Ym1iYmZyemJ0dXVleXNpY29jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA2ODg5ODksImV4cCI6MjA2NjI2NDk4OX0.1IUynv5eK1xF_3pb-oasqaTrPvbeAOC4Sc1oykPBy4M",l="https://zxbmbbfrzbtuueysicoc.supabase.co/functions/v1",c={QUERY_DATA:`${l}/query-data`,SUB_DATA:`${l}/query-sub-data`,PROJECT_NAMES:`${l}/query-names`,RANKING_ANALYSIS:`${l}/analyze-project-ranking`,GENERATE_SHARE_LINK:`${l}/generate-share-link`,GET_USERS:`${l}/get-users`},d={臺北市:["中正區","大同區","中山區","松山區","大安區","萬華區","信義區","士林區","北投區","內湖區","南港區","文山區"],新北市:["板橋區","三重區","中和區","永和區","新莊區","新店區","樹林區","鶯歌區","三峽區","淡水區","汐止區","瑞芳區","土城區","蘆洲區","五股區","泰山區","林口區","深坑區","石碇區","坪林區","三芝區","石門區","八里區","平溪區","雙溪區","貢寮區","金山區","萬里區","烏來區"],桃園市:["桃園區","中壢區","大溪區","楊梅區","蘆竹區","大園區","龜山區","八德區","龍潭區","平鎮區","新屋區","觀音區","復興區"],臺中市:["中區","東區","南區","西區","北區","北屯區","西屯區","南屯區","太平區","大里區","霧峰區","烏日區","豐原區","后里區","石岡區","東勢區","和平區","新社區","潭子區","大雅區","神岡區","大肚區","沙鹿區","龍井區","梧棲區","清水區","大甲區","外埔區","大安區"],臺南市:["中西區","東區","南區","北區","安平區","安南區","永康區","歸仁區","新化區","左鎮區","玉井區","楠西區","南化區","仁德區","關廟區","龍崎區","官田區","麻豆區","佳里區","西港區","七股區","將軍區","學甲區","北門區","新營區","後壁區","白河區","東山區","六甲區","下營區","柳營區","鹽水區","善化區","大內區","山上區","新市區","安定區"],高雄市:["新興區","前金區","苓雅區","鹽埕區","鼓山區","旗津區","前鎮區","三民區","楠梓區","小港區","左營區","仁武區","大社區","岡山區","路竹區","阿蓮區","田寮區","燕巢區","橋頭區","梓官區","彌陀區","永安區","湖內區","鳳山區","大寮區","林園區","鳥松區","大樹區","旗山區","美濃區","六龜區","內門區","杉林區","甲仙區","桃源區","那瑪夏區","茂林區","茄萣區"],基隆市:["仁愛區","信義區","中正區","中山區","安樂區","暖暖區","七堵區"],新竹市:["東區","北區","香山區"],嘉義市:["東區","西區"],宜蘭縣:["宜蘭市","羅東鎮","蘇澳鎮","頭城鎮","礁溪鄉","壯圍鄉","員山鄉","冬山鄉","五結鄉","三星鄉","大同鄉","南澳鄉"],新竹縣:["竹北市","竹東鎮","新埔鎮","關西鎮","湖口鄉","新豐鄉","芎林鄉","橫山鄉","北埔鄉","寶山鄉","峨眉鄉","尖石鄉","五峰鄉"],苗栗縣:["苗栗市","苑裡鎮","通霄鎮","竹南鎮","頭份鎮","後龍鎮","卓蘭鎮","大湖鄉","公館鄉","銅鑼鄉","南庄鄉","頭屋鄉","三義鄉","西湖鄉","造橋鄉","三灣鄉","獅潭鄉","泰安鄉"],彰化縣:["彰化市","鹿港鎮","和美鎮","線西鄉","伸港鄉","福興鄉","秀水鄉","花壇鄉","芬園鄉","員林鎮","溪湖鎮","田中鎮","大村鄉","埔鹽鄉","埔心鄉","永靖鄉","社頭鄉","二水鄉","北斗鎮","二林鎮","田尾鄉","埤頭鄉","芳苑鄉","大城鄉","竹塘鄉","溪州鄉"],南投縣:["南投市","埔里鎮","草屯鎮","竹山鎮","集集鎮","名間鄉","鹿谷鄉","中寮鄉","魚池鄉","國姓鄉","水里鄉","信義鄉","仁愛鄉"],雲林縣:["斗六市","斗南鎮","虎尾鎮","西螺鎮","土庫鎮","北港鎮","古坑鄉","大埤鄉","莿桐鄉","林內鄉","二崙鄉","崙背鄉","麥寮鄉","東勢鄉","褒忠鄉","台西鄉","元長鄉","四湖鄉","口湖鄉","水林鄉"],嘉義縣:["太保市","朴子市","布袋鎮","大林鎮","民雄鄉","溪口鄉","新港鄉","六腳鄉","東石鄉","義竹鄉","鹿草鄉","水上鄉","中埔鄉","竹崎鄉","梅山鄉","番路鄉","大埔鄉","阿里山鄉"],屏東縣:["屏東市","潮州鎮","東港鎮","恆春鎮","萬丹鄉","長治鄉","麟洛鄉","九如鄉","里港鄉","鹽埔鄉","高樹鄉","萬巒鄉","內埔鄉","竹田鄉","新埤鄉","枋寮鄉","新園鄉","崁頂鄉","林邊鄉","南州鄉","佳冬鄉","琉球鄉","車城鄉","滿州鄉","枋山鄉","霧台鄉","瑪家鄉","泰武鄉","來義鄉","春日鄉","獅子鄉","牡丹鄉","三地門鄉"],花蓮縣:["花蓮市","鳳林鎮","玉里鎮","新城鄉","吉安鄉","壽豐鄉","光復鄉","豐濱鄉","瑞穗鄉","富里鄉","秀林鄉","萬榮鄉","卓溪鄉"],臺東縣:["臺東市","成功鎮","關山鎮","卑南鄉","鹿野鄉","池上鄉","東河鄉","長濱鄉","太麻里鄉","大武鄉","綠島鄉","海端鄉","延平鄉","金峰鄉","達仁鄉","蘭嶼鄉"],澎湖縣:["馬公市","湖西鄉","白沙鄉","西嶼鄉","望安鄉","七美鄉"],金門縣:["金城鎮","金湖鎮","金沙鄉","金寧鄉","烈嶼鄉","烏坵鄉"],連江縣:["南竿鄉","北竿鄉","莒光鄉","東引鄉"]},n={臺北市:"A",新北市:"F",桃園市:"H",臺中市:"B",臺南市:"D",高雄市:"E",基隆市:"C",新竹市:"O",嘉義市:"I",新竹縣:"J",苗栗縣:"K",彰化縣:"N",南投縣:"M",雲林縣:"P",嘉義縣:"Q",屏東縣:"T",宜蘭縣:"G",花蓮縣:"U",臺東縣:"V",澎湖縣:"X",金門縣:"W",連江縣:"Z"}},85864:(e,s,r)=>{"use strict";r.d(s,{O:()=>o});var t=r(95155);r(12115);var a=r(73321),l=r(25777),c=r(62032),d=r(86901),n=r(54452),i=r(89239);function o({type:e="forbidden",title:s,description:r,actionLabel:o,onAction:x,showHomeButton:f=!0}){let m=(0,a.useRouter)(),h={login:{icon:l.A,defaultTitle:"請先登入",defaultDesc:"此頁面需要登入會員才能訪問。請登入以解鎖完整功能。",color:"text-cyan-400",glow:"shadow-[0_0_50px_-12px_rgba(34,211,238,0.2)]",border:"border-cyan-500/30",bgGradient:"from-cyan-500/10 to-transparent",buttonColor:"bg-cyan-600 hover:bg-cyan-500 text-white",defaultActionLabel:"前往登入",defaultAction:()=>m.push("/")},forbidden:{icon:c.A,defaultTitle:"權限不足",defaultDesc:"您沒有權限訪問此頁面。此區域僅限管理員或特定角色進入。",color:"text-red-400",glow:"shadow-[0_0_50px_-12px_rgba(248,113,113,0.2)]",border:"border-red-500/30",bgGradient:"from-red-500/10 to-transparent",buttonColor:"bg-red-600 hover:bg-red-500 text-white",defaultActionLabel:"返回首頁",defaultAction:()=>m.push("/dashboard")},upgrade:{icon:d.A,defaultTitle:"需要升級會員",defaultDesc:"此功能僅開放給 Pro 以上會員使用。升級解鎖無限分析與專業報表功能。",color:"text-violet-400",glow:"shadow-[0_0_50px_-12px_rgba(139,92,246,0.25)]",border:"border-violet-500/30",bgGradient:"from-violet-500/10 to-transparent",buttonColor:"bg-violet-600 hover:bg-violet-500 text-white shadow-lg shadow-violet-900/20",defaultActionLabel:"立即升級",defaultAction:()=>m.push("/pricing")}}[e],b=h.icon,u=x||h.defaultAction,j=s||h.defaultTitle,g=r||h.defaultDesc,p=o||h.defaultActionLabel;return(0,t.jsx)("div",{className:"min-h-[80vh] w-full flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:`relative group max-w-md w-full bg-zinc-900/40 backdrop-blur-xl border ${h.border} rounded-3xl p-8 flex flex-col items-center text-center ${h.glow} transition-all duration-500`,children:[(0,t.jsx)("div",{className:`absolute inset-0 bg-gradient-to-b ${h.bgGradient} rounded-3xl pointer-events-none opacity-50`}),(0,t.jsx)("div",{className:`relative mb-6 p-4 rounded-full bg-zinc-900/80 border border-zinc-800 ${h.glow}`,children:(0,t.jsx)(b,{className:`w-8 h-8 ${h.color}`})}),(0,t.jsx)("h2",{className:"relative text-2xl font-bold text-white mb-3 tracking-tight",children:j}),(0,t.jsx)("p",{className:"relative text-zinc-400 text-sm leading-relaxed mb-8",children:g}),(0,t.jsxs)("div",{className:"relative w-full space-y-3",children:[(0,t.jsxs)(i.$,{onClick:u,className:`w-full h-11 rounded-xl font-medium transition-all ${h.buttonColor}`,children:["login"===e&&(0,t.jsx)(n.A,{className:"w-4 h-4 mr-2"}),"upgrade"===e&&(0,t.jsx)(d.A,{className:"w-4 h-4 mr-2"}),p]}),f&&"forbidden"!==e&&(0,t.jsx)(i.$,{variant:"ghost",onClick:()=>m.push("/dashboard"),className:"w-full h-11 text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800/50 rounded-xl",children:"返回首頁"})]})]})})}},88640:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>_});var t=r(95155),a=r(39092),l=r.n(a),c=r(12115),d=r(16385),n=r(59386),i=r.n(n);let o={A:"臺北市",B:"臺中市",C:"基隆市",D:"臺南市",E:"高雄市",F:"新北市",G:"宜蘭縣",H:"桃園市",I:"嘉義市",J:"新竹縣",K:"苗栗縣",M:"南投縣",N:"彰化縣",O:"新竹市",P:"雲林縣",Q:"嘉義縣",T:"屏東縣",U:"花蓮縣",V:"臺東縣",W:"金門縣",X:"澎湖縣",Z:"連江縣"},x={a:{編號:"編號",鄉鎮市區:"行政區",交易標的:"交易標的",土地位置建物門牌:"地址",交易年月日:"交易日",交易筆棟數:"交易筆棟數",移轉層次:"樓層",建物型態:"建物型態",主要用途:"主要用途",建物移轉總面積平方公尺:"產權面積_房車","建物現況格局-房":"房數","建物現況格局-廳":"廳數","建物現況格局-衛":"衛浴數",總價元:"交易總價",車位類別:"車位類別",車位移轉總面積平方公尺:"車位總面積",車位總價元:"車位總價",備註:"備註",主建物面積:"主建物面積",附屬建物面積:"附屬建物面積",陽台面積:"陽台面積"},a_build:{編號:"編號",屋齡:"交易屋齡",主要建材:"結構",建築完成年月日:"完工日",建築完成日期:"完工日",總層數:"總樓層",移轉情形:"移轉情形"},a_land:{編號:"編號",土地位置:"地號_段",地號:"地號",土地移轉面積平方公尺:"土地持分面積",使用分區或編定:"使用分區",非都市土地使用分區:"使用分區",權利人持分分母:"持分分母",權利人持分分子:"持分分子"},a_park:{編號:"編號",車位類別:"車位類別",車位價格:"車位價格",車位面積平方公尺:"車位面積",車位所在樓層:"車位樓層"},b:{編號:"編號",鄉鎮市區:"行政區",交易標的:"交易標的",土地位置建物門牌:"地址",交易年月日:"交易日",交易筆棟數:"交易筆棟數",移轉層次:"樓層",總層數:"總樓層",總樓層數:"總樓層",建物型態:"建物型態",主要用途:"主要用途",建物移轉總面積平方公尺:"產權面積_房車","建物現況格局-房":"房數","建物現況格局-廳":"廳數","建物現況格局-衛":"衛浴數",總價元:"交易總價",車位類別:"車位類別",車位移轉總面積平方公尺:"車位總面積",車位總價元:"車位總價",備註:"備註",建案名稱:"建案名稱",棟及號:"戶別",解約情形:"解約情形"},b_land:{編號:"編號",土地位置:"地號_段",地號:"地號",土地移轉面積平方公尺:"土地持分面積",使用分區或編定:"使用分區",非都市土地使用分區:"使用分區",權利人持分分母:"持分分母",權利人持分分子:"持分分子"},b_park:{編號:"編號",車位類別:"車位類別",車位價格:"車位價格",車位面積平方公尺:"車位面積",車位所在樓層:"車位樓層"},c:{編號:"編號",鄉鎮市區:"行政區",交易標的:"交易標的",土地位置建物門牌:"地址",租賃年月日:"交易日",租賃筆棟數:"交易筆棟數",租賃層次:"樓層",建物型態:"建物型態",主要用途:"主要用途",建物總面積平方公尺:"租賃面積","建物現況格局-房":"房數","建物現況格局-廳":"廳數","建物現況格局-衛":"衛浴數",總額元:"交易總價",車位類別:"車位類別",車位面積平方公尺:"車位總面積",車位總額元:"車位總價",備註:"備註",出租型態:"出租型態",租賃期間:"租賃期間",附屬設備:"附屬設備",租賃住宅服務:"租賃住宅服務"},c_build:{編號:"編號",屋齡:"交易屋齡",主要建材:"結構",建築完成年月日:"完工日",建築完成日期:"完工日",總層數:"總樓層",移轉情形:"移轉情形"},c_land:{編號:"編號",土地位置:"地號_段",地號:"地號",土地移轉面積平方公尺:"土地租賃面積",使用分區或編定:"使用分區",非都市土地使用分區:"使用分區"},c_park:{編號:"編號",車位類別:"車位類別",車位價格:"車位價格",車位面積平方公尺:"車位面積",車位所在樓層:"車位樓層"}};function f(e){if("string"!=typeof e&&"number"!=typeof e)return null;let s=parseFloat(String(e).replace(/,/g,""));return isNaN(s)?null:s}async function m(e,s=""){let r=[];for await(let t of e.values()){let e=s?`${s}/${t.name}`:t.name;if("file"===t.kind&&t.name.toLowerCase().endsWith(".csv")){let s=/^([a-z])_lvr_land_([a-c](?:_build|_land|_park)?)\.csv$/i,a=t.name.match(s);a&&r.push({handle:t,name:t.name,fullPath:e,countyCode:a[1].toLowerCase(),tableType:a[2].toLowerCase(),isMain:!a[2].includes("_")})}else"directory"===t.kind&&r.push(...await m(t,e))}return r}async function h(e,s,r){let t=await e.handle.getFile(),a=await new Promise(e=>{i().parse(t,{header:!0,skipEmptyLines:!0,transformHeader:e=>e.trim(),complete:e})});if(a.errors&&a.errors.length>0){let s=["TooManyFields","TooFewFields","MissingQuotes"],t=a.errors.filter(e=>!s.includes(e.code));if(t.length>0)throw Error(`CSV 嚴重解析錯誤: ${t[0].message}`);r&&a.errors.forEach(s=>{r(`檔案 ${e.fullPath} 有解析警告 (已忽略): ${s.message} (行: ${(s.row||0)+2})`,"warning")})}if(!a.data||0===a.data.length)return[];let l=a.data;l[0]["編號"]?.toLowerCase().includes("serial number")&&l.shift();let c=x[e.tableType];if(!c)throw Error(`檔案 ${e.name} 找不到對應的欄位規則。`);let d=l.map(e=>(function(e,s){let r={};for(let t in Array.from(new Set(Object.values(s))).forEach(e=>r[e]=null),e){let a=s[t.trim()];if(a){let s=e[t];if(void 0===s||""===s||null===s)continue;"樓層"===a||"總樓層"===a?r[a]=function(e){if(!e||"string"!=typeof e)return null;let s=String(e).replace(/層|樓/g,""),r={一:1,二:2,三:3,四:4,五:5,六:6,七:7,八:8,九:9,十:10};if(!isNaN(parseInt(s)))return parseInt(s,10);if(s.includes("地下"))return -1;let t=0;if(s.startsWith("十"))t=10+(r[s[1]]||0);else if(s.includes("十")){let e=s.split("十");t=10*(r[e[0]]||1)+(r[e[1]]||0)}else t=r[s]||0;return t>0?t:null}(s):a.includes("日")?r[a]=function(e){if(!e)return null;let s=String(e).match(/(\d{2,3})[^\d]*(\d{1,2})[^\d]*(\d{1,2})/);if(!s)return null;try{let e=parseInt(s[1],10),r=parseInt(s[2],10),t=parseInt(s[3],10);if(isNaN(e)||isNaN(r)||isNaN(t))return null;let a=e+1911,l=String(r).padStart(2,"0"),c=String(t).padStart(2,"0"),d=new Date(`${a}-${l}-${c}`);if(isNaN(d.getTime())||d.getDate()!==t)return null;return`${a}-${l}-${c}`}catch(e){return null}}(String(s)):["交易總價","車位總價","房數","廳數","衛浴數","持分分母","持分分子","交易屋齡","車位價格"].includes(a)||a.includes("面積")?r[a]=f(s):r[a]=String(s)}}return r})(e,c));if(s&&s.size>0){let e=0;d=d.map(r=>{let t=r["建案名稱"];if(t&&s.has(t)){let a=s.get(t);a&&(r["建案名稱"]=a,e++)}return r}),e>0&&r&&r(`已自動替換 ${e} 筆建案名稱`,"info")}return d}let b=new Map,u=new Set,j={new:0,updated:0,identical:0,subAdded:0,errors:0,warnings:0,newRecords:[],updatedRecords:[],identicalRecords:[]};async function g(e){try{let{data:s,error:r}=await d.N.from("project_name_mappings").select("old_name, new_name");if(r)return e&&e(`載入建案名稱對應失敗: ${r.message}`,"warning"),new Map;let t=new Map;return s?.forEach(e=>{t.set(e.old_name,e.new_name)}),e&&e(`已載入 ${t.size} 筆建案名稱對應規則`,"info"),b=t,t}catch(s){return e&&e(`載入建案名稱對應時發生錯誤: ${s.message}`,"warning"),new Map}}async function p(e,s){try{let r=`${e.countyCode}_lvr_land_${e.tableType}`,t=await h(e,b,(e,r)=>s(e,r));if(!t||0===t.length)return void s(`${e.fullPath}: 檔案為空或無有效資料，已跳過`,"warning");for(let a=0;a<t.length;a+=500){let l=t.slice(a,a+500),c=l.map(e=>e["編號"]),{data:n,error:i}=await d.N.from(r).select("*").in("編號",c);if(i)throw i;let o=new Map((n||[]).map(e=>[e["編號"],e])),m=[],h=[],b=[],g=0;for(let s of l){let r=o.get(s["編號"]);r?function(e,s,r){let t=x[r];if(!t)return!1;for(let r of Object.values(t)){if("id"===r||"建案名稱"===r)continue;let t=e[r],a=s[r];if(null==t||""===t)continue;let l=null!=t?String(t):"",c=null!=a?String(a):"";if(r.includes("面積")){let e=f(t)||0;if(Math.abs(e-(f(a)||0))>.001)return!1}else if(l!==c)return!1}return!0}(s,r,e.tableType)?(g++,j.identicalRecords.push(r)):(b.push(s["編號"]),h.push(s),j.updatedRecords.push({oldData:r,newData:s})):(m.push(s),j.newRecords.push(s))}if(s(`${e.fullPath} (區塊 ${Math.floor(a/500)+1}): 新增 ${m.length}, 更新 ${h.length}, 跳過 ${g}`,"info"),j.new+=m.length,j.updated+=h.length,j.identical+=g,[...m.map(e=>e["編號"]),...h.map(e=>e["編號"])].forEach(e=>u.add(e)),b.length>0){let{error:e}=await d.N.from(r).delete().in("編號",b);if(e)throw e}let p=[...m,...h];if(p.length>0){let{error:e}=await d.N.from(r).insert(p);if(e)throw e}}}catch(r){s(`${e.fullPath} 上傳失敗: ${r.message}`,"error"),j.errors++}}async function y(e,s){try{let r=`${e.countyCode}_lvr_land_${e.tableType}`,t=await h(e,b,(e,r)=>s(e,r));if(!t||0===t.length)return void s(`${e.fullPath}: 檔案為空或無有效資料，已跳過`,"warning");let a=t.filter(e=>u.has(e["編號"]));if(a.length>0){let{error:t}=await d.N.from(r).insert(a);if(t)throw t;j.subAdded+=a.length,s(`${e.fullPath}: 成功新增 ${a.length} 筆關聯的附表紀錄`,"success")}else s(`${e.fullPath}: 無對應的主表變更，已跳過`,"info")}catch(r){s(`${e.fullPath} 上傳失敗: ${r.message}`,"error"),j.errors++}}var N=r(73321),w=r(36228);function v(e,s){if(!e||!s)throw Error("請提供完整的 Supabase URL 和 Service Role Key");return(0,w.UU)(e,s,{auth:{persistSession:!1}})}async function k(e,s,r,t,a){try{let l=v(a.url,a.key),c=`${e.toLowerCase()}_lvr_land_${s}`;console.log(`[AdminService] Searching ${c} for ${r} like %${t}%`);let{data:d,error:n}=await l.from(c).select("*").ilike(r,`%${t}%`).limit(100);if(n)throw n;return{success:!0,data:d,tableName:c}}catch(e){return console.error("Search error:",e),{success:!1,error:e.message}}}async function $(e,s,r,t,a,l,c,d){try{let n=v(d.url,d.key);if(!s||0===s.length)throw Error("沒有選擇任何要更新的資料");console.log(`[AdminService] Batch updating ${e}, Count: ${s.length}, Field: ${r}`);let{error:i}=await n.from(e).update({[r]:""===t?null:t}).in("編號",s);if(i)throw i;let o=a&&a.includes("?");return"建案名稱"===r&&a&&t&&a!==t&&o&&(console.log(`[AdminService] Detected encoding fix (old: ${a}, new: ${t}). Saving mapping.`),await S(a,t,l,c,n)),{success:!0,count:s.length}}catch(e){return console.error("Batch update error:",e),{success:!1,error:e.message}}}async function S(e,s,r,t,a){try{let l={old_name:e,new_name:s,updated_at:new Date().toISOString()};r&&(l.district=r),t&&(l.city=t);let{error:c}=await a.from("project_name_mappings").upsert(l,{onConflict:"old_name"});c&&console.error("Failed to save mapping:",c)}catch(e){console.error("Error saving mapping:",e)}}var C=r(18648);function _(){let e=(0,N.useRouter)(),{user:s,isAdmin:r,isLoading:a}=(0,C.b)(),[n,i]=(0,c.useState)([]),[f,h]=(0,c.useState)(!1),[b,w]=(0,c.useState)([]),[v,S]=(0,c.useState)("all"),[_,z]=(0,c.useState)(""),[A,I]=(0,c.useState)(0),[E,R]=(0,c.useState)(null),[L,O]=(0,c.useState)(""),[T,D]=(0,c.useState)(""),[M,P]=(0,c.useState)(!1),[U,F]=(0,c.useState)("f"),[J,G]=(0,c.useState)("b"),[K,V]=(0,c.useState)("建案名稱"),[X,B]=(0,c.useState)(""),[W,Y]=(0,c.useState)([]),[Z,Q]=(0,c.useState)(!1),[q,H]=(0,c.useState)(new Set),[ee,es]=(0,c.useState)("建案名稱"),[er,et]=(0,c.useState)(""),[ea,el]=(0,c.useState)(!1),[ec,ed]=(0,c.useState)(!1),[en,ei]=(0,c.useState)(null),[eo,ex]=(0,c.useState)(new Set),[ef,em]=(0,c.useState)(!1);if(a)return(0,t.jsx)("div",{className:"min-h-screen bg-[#1a1d29] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"h-8 w-8 border-2 border-amber-500/30 border-t-amber-500 rounded-full animate-spin mx-auto"}),(0,t.jsx)("p",{className:"text-zinc-500 text-sm",children:"驗證管理員權限..."})]})});if(!s)return(0,t.jsx)("div",{className:"min-h-screen bg-[#1a1d29] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center space-y-4 p-8",children:[(0,t.jsx)("div",{className:"text-4xl",children:"\uD83D\uDD12"}),(0,t.jsx)("h1",{className:"text-xl font-bold text-white",children:"請先登入"}),(0,t.jsx)("p",{className:"text-zinc-500",children:"此頁面需要登入才能訪問"}),(0,t.jsx)("button",{onClick:()=>e.push("/"),className:"bg-amber-600 hover:bg-amber-500 text-white px-6 py-2 rounded-lg transition-colors",children:"前往登入"})]})});if(!r)return(0,t.jsx)("div",{className:"min-h-screen bg-[#1a1d29] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center space-y-4 p-8",children:[(0,t.jsx)("div",{className:"text-4xl",children:"⛔"}),(0,t.jsx)("h1",{className:"text-xl font-bold text-white",children:"權限不足"}),(0,t.jsx)("p",{className:"text-zinc-500",children:"此頁面僅限管理員訪問"}),(0,t.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"bg-zinc-700 hover:bg-zinc-600 text-white px-6 py-2 rounded-lg transition-colors",children:"返回首頁"})]})});let eh=(e,s)=>{let r=new Date().toLocaleTimeString();i(t=>[...t,{id:Date.now()+Math.random(),text:e,type:s,time:r}])},eb=async()=>{if(!L||!T)return void eh("請填寫完整的 Supabase URL 和 Service Role Key。","error");eh("正在測試連線...","info");try{let{error:e}=await d.N.from("county_codes").select("code",{count:"exact",head:!0});if(e&&"42P01"!==e.code)throw e;eh("連線成功！","success"),P(!0),g((e,s)=>eh(e,s))}catch(e){eh(`連線失敗: ${e.message}`,"error"),P(!1)}},eu=async()=>{i([]),w([]),R(null);try{if(!window.showDirectoryPicker)return void eh("您的瀏覽器不支援資料夾選擇功能，請使用 Chrome 或 Edge。","error");eh("正在掃描資料夾...","info");let e=await window.showDirectoryPicker(),s=await m(e);if(0===s.length)return void eh("在選擇的資料夾中沒有找到符合命名規則的檔案。","warning");w(s),eh(`掃描完成！找到 ${s.length} 個有效檔案。`,"success")}catch(e){"AbortError"!==e.name&&eh(`選擇資料夾時發生錯誤: ${e.message}`,"error")}},ej=async()=>{if(0===b.length)return;if(!M)return void eh("請先確認資料庫連線成功。","error");h(!0),u=new Set,j={new:0,updated:0,identical:0,subAdded:0,errors:0,warnings:0,newRecords:[],updatedRecords:[],identicalRecords:[]},i([]),eh("開始上傳任務...","info");let e=b;if("all"!==v&&(e=b.filter(e=>e.tableType.startsWith(v))),0===e.length){eh(`找不到符合「${{all:"全選",a:"中古",b:"預售",c:"租賃"}[v]}」類型的檔案...`,"warning"),h(!1);return}let s=e.filter(e=>e.isMain),r=e.filter(e=>!e.isMain);eh(`--- 階段 1: 主表 (智慧更新) ---`,"info");for(let e=0;e<s.length;e++){let r=s[e];z(r.fullPath),I(Math.round(e/s.length*100)),await p(r,eh)}eh(`--- 階段 2: 附表 (智慧連動) ---`,"info");for(let e=0;e<r.length;e++){let s=r[e];z(s.fullPath),I(Math.round(e/r.length*100)),await y(s,eh)}z(""),I(100);let t=j;R(t),eh(`所有檔案處理完成！新增: ${t.new}, 更新: ${t.updated}, 錯誤: ${t.errors}`,"success"),h(!1)},eg=async()=>{if(!L||!T)return void eh("請先填寫資料庫連線資訊 (URL & Key)","error");if(!X.trim())return void eh("請輸入搜尋關鍵字","warning");el(!0),i([]),eh(`正在搜尋: ${o[U.toUpperCase()]} ${J} ${K} containing "${X}"...`,"info");try{let e=await k(U,J,K,X.trim(),{url:L,key:T});e.success&&e.data?(Y(e.data),ei({tableName:e.tableName,city:o[U.toUpperCase()]}),Q(!0),H(new Set),eh(`搜尋完成，找到 ${e.data.length} 筆資料`,"success")):eh(`搜尋失敗: ${e.error}`,"error")}catch(e){eh(`搜尋發生錯誤: ${e.message}`,"error")}finally{el(!1)}},ep=async()=>{if(!en||0===q.size)return;let e=null,s=null;if("建案名稱"===ee){let r=Array.from(q)[0],t=W.find(e=>e["編號"]===r);t&&(e=t["建案名稱"],s=t["行政區"])}ed(!0),eh(`開始批次更新 ${q.size} 筆資料...`,"info");try{let r=await $(en.tableName,Array.from(q),ee,er,e,s,en.city,{url:L,key:T});r.success?(eh(`成功更新 ${r.count} 筆資料！`,"success"),Q(!1)):eh(`批次更新失敗: ${r.error}`,"error")}catch(e){eh(`批次更新發生錯誤: ${e.message}`,"error")}finally{ed(!1)}},ey=e=>{let s=new Set(q);s.has(e)?s.delete(e):s.add(e),H(s)},eN=()=>{q.size===W.length?H(new Set):H(new Set(W.map(e=>e["編號"])))},ew=e=>{let s=new Set(eo);s.has(e)?s.delete(e):s.add(e),ex(s)};return(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 min-h-screen bg-[#1a1d29] text-gray-100 p-8 font-sans",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 max-w-7xl mx-auto space-y-8",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex justify-between items-center bg-[#252836] p-6 rounded-xl border border-gray-700 shadow-lg",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsxs)("h1",{className:"jsx-4f044084e7cd90f7 text-3xl font-extrabold text-white tracking-tight",children:["平米內參 ",(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 text-amber-400",children:"資料上傳工具"})]}),(0,t.jsx)("p",{className:"jsx-4f044084e7cd90f7 text-gray-400 mt-2 text-sm",children:"高效能、智慧化的實價登錄資料批次處理系統 v2.0 (Next.js)"})]}),(0,t.jsxs)("button",{onClick:()=>e.push("/dashboard"),className:"jsx-4f044084e7cd90f7 text-gray-400 hover:text-white transition-colors flex items-center gap-2",children:[(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-arrow-left"})," 返回儀表板"]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-[#252836] p-6 rounded-xl border border-gray-700 shadow-lg",children:[(0,t.jsxs)("h2",{className:"jsx-4f044084e7cd90f7 text-xl font-bold text-white mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 bg-amber-900 text-amber-400 w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"1"}),"資料庫連線"]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-sm font-medium text-gray-400 mb-1",children:"Supabase URL"}),(0,t.jsx)("input",{type:"text",value:L,onChange:e=>O(e.target.value),placeholder:"https://xyz.supabase.co",className:"jsx-4f044084e7cd90f7 w-full bg-gray-800 border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-amber-500 focus:border-amber-500 placeholder-gray-600"})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-sm font-medium text-gray-400 mb-1",children:"Service Role Key"}),(0,t.jsx)("input",{type:"password",value:T,onChange:e=>D(e.target.value),placeholder:"eyJhhGciOiJIUzI1NiIsInR5cCI...",className:"jsx-4f044084e7cd90f7 w-full bg-gray-800 border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-amber-500 focus:border-amber-500 placeholder-gray-600"})]}),(0,t.jsx)("button",{onClick:eb,className:`jsx-4f044084e7cd90f7 w-full font-bold py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2 ${M?"bg-green-600 hover:bg-green-500 text-white cursor-default":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:M?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-check"})," 連線成功"]}):"測試連線"})]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-[#252836] p-6 rounded-xl border border-gray-700 shadow-lg",children:[(0,t.jsxs)("h2",{className:"jsx-4f044084e7cd90f7 text-xl font-bold text-white mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 bg-amber-900 text-amber-400 w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"2"}),"選擇資料來源"]}),(0,t.jsxs)("button",{onClick:eu,disabled:f,className:"jsx-4f044084e7cd90f7 w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-folder-open text-xl"})," 選擇 lvr_land 資料夾"]}),b.length>0&&(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 mt-4 p-3 bg-gray-800/50 rounded-lg text-sm",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex justify-between text-gray-300 mb-1",children:[(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7",children:"已找到檔案:"}),(0,t.jsxs)("span",{className:"jsx-4f044084e7cd90f7 font-bold text-white",children:[b.length," 個"]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex justify-between text-gray-400 text-xs",children:[(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7",children:"主表 (Main):"}),(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7",children:b.filter(e=>e.isMain).length})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex justify-between text-gray-400 text-xs",children:[(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7",children:"附表 (Sub):"}),(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7",children:b.filter(e=>!e.isMain).length})]})]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-[#252836] p-6 rounded-xl border border-gray-700 shadow-lg",children:[(0,t.jsxs)("h2",{className:"jsx-4f044084e7cd90f7 text-xl font-bold text-white mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 bg-amber-900 text-amber-400 w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"3"}),"開始處理"]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-sm font-medium text-gray-400 mb-2",children:"上傳類型"}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 grid grid-cols-2 gap-2",children:["all","a","b","c"].map(e=>(0,t.jsxs)("label",{className:`jsx-4f044084e7cd90f7 cursor-pointer border rounded-lg p-2 text-center transition-all ${v===e?"bg-amber-900/30 border-amber-500 text-amber-400":"bg-gray-800 border-gray-700 text-gray-400 hover:border-gray-500"}`,children:[(0,t.jsx)("input",{type:"radio",name:"uploadType",value:e,checked:v===e,onChange:e=>S(e.target.value),disabled:f,className:"jsx-4f044084e7cd90f7 sr-only"}),(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 font-bold",children:"all"===e?"全部":"a"===e?"中古":"b"===e?"預售":"租賃"})]},e))})]}),(0,t.jsxs)("button",{onClick:ej,disabled:!M||0===b.length||f,className:"jsx-4f044084e7cd90f7 w-full bg-gradient-to-r from-amber-600 to-blue-600 hover:from-amber-500 hover:to-blue-500 text-white font-bold py-3 px-4 rounded-lg shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[f?(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-spinner fa-spin"}):(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-rocket"}),f?"處理中...":"開始上傳"]})]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-[#252836] p-6 rounded-xl border border-gray-700 shadow-lg",children:[(0,t.jsxs)("h2",{className:"jsx-4f044084e7cd90f7 text-xl font-bold text-white mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 bg-amber-900 text-amber-400 w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"4"}),"資料批次修改 (獨立功能)"]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-sm font-medium text-gray-400 mb-1",children:"選擇縣市"}),(0,t.jsx)("select",{value:U,onChange:e=>F(e.target.value),className:"jsx-4f044084e7cd90f7 w-full bg-gray-800 border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-amber-500 focus:border-amber-500",children:Object.entries(o).map(([e,s])=>(0,t.jsx)("option",{value:e.toLowerCase(),className:"jsx-4f044084e7cd90f7",children:s},e))})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-sm font-medium text-gray-400 mb-2",children:"交易類型"}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 grid grid-cols-2 gap-2",children:["a","b","c"].map(e=>(0,t.jsxs)("label",{className:`jsx-4f044084e7cd90f7 cursor-pointer border rounded-lg p-2 text-center transition-all ${J===e?"bg-amber-900/30 border-amber-500 text-amber-400":"bg-gray-800 border-gray-700 text-gray-400 hover:border-gray-500"}`,children:[(0,t.jsx)("input",{type:"radio",name:"updateType",value:e,checked:J===e,onChange:e=>G(e.target.value),disabled:ea,className:"jsx-4f044084e7cd90f7 sr-only"}),(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 font-bold",children:"a"===e?"中古":"b"===e?"預售":"租賃"})]},e))})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-sm font-medium text-gray-400 mb-1",children:"搜尋欄位"}),(0,t.jsxs)("select",{value:K,onChange:e=>V(e.target.value),className:"jsx-4f044084e7cd90f7 w-full bg-gray-800 border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-amber-500 focus:border-amber-500",children:[Array.from(new Set(Object.values(x[J]||{}))).filter(e=>!["編號","id"].includes(e)).sort().map(e=>(0,t.jsx)("option",{value:e,className:"jsx-4f044084e7cd90f7",children:e},e)),(0,t.jsx)("option",{value:"編號",className:"jsx-4f044084e7cd90f7",children:"編號"})]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-sm font-medium text-gray-400 mb-1",children:"關鍵字"}),(0,t.jsx)("input",{type:"text",value:X,onChange:e=>B(e.target.value),onKeyDown:e=>"Enter"===e.key&&eg(),placeholder:"輸入關鍵字...",className:"jsx-4f044084e7cd90f7 w-full bg-gray-800 border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-amber-500 focus:border-amber-500 placeholder-gray-600"})]}),(0,t.jsxs)("button",{onClick:eg,disabled:!M||ea,className:"jsx-4f044084e7cd90f7 w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[ea?(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-spinner fa-spin"}):(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-search"}),ea?"搜尋中...":"搜尋資料"]})]})]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 lg:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-[#252836] p-6 rounded-xl border border-gray-700 shadow-lg",children:[(0,t.jsxs)("h3",{className:"jsx-4f044084e7cd90f7 text-gray-300 font-bold mb-4 flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-tasks mr-2 text-purple-400"}),"執行進度"]}),f&&(0,t.jsxs)("span",{className:"jsx-4f044084e7cd90f7 text-amber-400",children:[A,"%"]})]}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 w-full bg-gray-700 rounded-full h-4 mb-2 overflow-hidden",children:(0,t.jsx)("div",{style:{width:`${A}%`},className:"jsx-4f044084e7cd90f7 bg-gradient-to-r from-amber-500 to-purple-500 h-4 rounded-full transition-all duration-300 relative",children:f&&(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 absolute inset-0 bg-white/20 animate-pulse"})})}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-xs text-gray-500 h-5",children:_&&`正在處理: ${_}`})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-black/60 p-4 rounded-xl border border-gray-800 h-[500px] overflow-hidden flex flex-col font-mono text-sm shadow-inner",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex justify-between items-center mb-2 border-b border-gray-800 pb-2",children:[(0,t.jsxs)("span",{className:"jsx-4f044084e7cd90f7 text-gray-400 font-bold",children:[(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-terminal mr-2"}),"系統日誌"]}),(0,t.jsx)("button",{onClick:()=>i([]),className:"jsx-4f044084e7cd90f7 text-xs text-gray-600 hover:text-gray-300 transition-colors",children:"清除"})]}),(0,t.jsxs)("div",{ref:e=>{e&&(e.scrollTop=e.scrollHeight)},className:"jsx-4f044084e7cd90f7 flex-1 overflow-y-auto space-y-1 p-2 custom-scrollbar",children:[n.map(e=>(0,t.jsxs)("div",{className:`jsx-4f044084e7cd90f7 flex gap-3 leading-relaxed border-b border-white/5 pb-1 ${"error"===e.type?"text-red-400 bg-red-900/10":"warning"===e.type?"text-yellow-400":"success"===e.type?"text-emerald-400":"text-gray-300"}`,children:[(0,t.jsxs)("span",{className:"jsx-4f044084e7cd90f7 text-gray-600 select-none",children:["[",e.time,"]"]}),(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 break-all",children:e.text})]},e.id)),0===n.length&&(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-gray-700 italic text-center mt-20",children:"等待任務啟動..."})]})]}),E&&(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-emerald-900/20 border border-emerald-800 p-4 rounded-xl text-center",children:[(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-3xl font-bold text-emerald-400",children:E.new}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-sm text-emerald-200/70 uppercase tracking-wider mt-1",children:"New"})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-yellow-900/20 border border-yellow-800 p-4 rounded-xl text-center",children:[(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-3xl font-bold text-yellow-400",children:E.updated}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-sm text-yellow-200/70 uppercase tracking-wider mt-1",children:"Updated"})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-gray-800/40 border border-gray-700 p-4 rounded-xl text-center",children:[(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-3xl font-bold text-gray-400",children:E.identical}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-sm text-gray-500 uppercase tracking-wider mt-1",children:"Skipped"})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-red-900/20 border border-red-800 p-4 rounded-xl text-center",children:[(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-3xl font-bold text-red-400",children:E.errors}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-sm text-red-200/70 uppercase tracking-wider mt-1",children:"Errors"})]})]})]})]})]}),Z&&(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4",children:(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-[#1a1d29] border border-gray-700 rounded-xl w-full max-w-6xl max-h-[90vh] flex flex-col shadow-2xl",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 p-4 border-b border-gray-700 flex justify-between items-center bg-[#252836] rounded-t-xl",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("h3",{className:"jsx-4f044084e7cd90f7 text-xl font-bold text-white",children:"批次修改搜尋結果"}),(0,t.jsxs)("p",{className:"jsx-4f044084e7cd90f7 text-sm text-gray-400 mt-1",children:["資料表: ",en?.tableName," | 搜尋條件: ",o[U.toUpperCase()]," ",K," like '%",X,"%' | 共 ",W.length," 筆"]})]}),(0,t.jsx)("button",{onClick:()=>Q(!1),className:"jsx-4f044084e7cd90f7 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-times text-xl"})})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 p-4 border-b border-gray-700 bg-gray-800/50 flex gap-4 items-end flex-wrap",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex items-center gap-2 text-sm text-gray-300",children:[(0,t.jsx)("input",{type:"checkbox",checked:q.size>0&&q.size===W.length,onChange:eN,className:"jsx-4f044084e7cd90f7 form-checkbox h-5 w-5 text-amber-600 bg-gray-700 border-gray-600 rounded"}),(0,t.jsxs)("span",{className:"jsx-4f044084e7cd90f7",children:["全選 (",q.size," 筆)"]})]}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 flex-1"}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex gap-2 items-center",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-xs text-gray-400 mb-1",children:"欲修改欄位"}),(0,t.jsx)("select",{value:ee,onChange:e=>es(e.target.value),className:"jsx-4f044084e7cd90f7 bg-gray-800 border-gray-600 rounded px-3 py-1.5 text-sm text-white focus:ring-amber-500",children:Array.from(new Set(Object.values(x[J]||{}))).filter(e=>!["編號","id"].includes(e)).sort().map(e=>(0,t.jsx)("option",{value:e,className:"jsx-4f044084e7cd90f7",children:e},e))})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-xs text-gray-400 mb-1",children:"新數值"}),(0,t.jsx)("input",{type:"text",value:er,onChange:e=>et(e.target.value),placeholder:"輸入新內容...",className:"jsx-4f044084e7cd90f7 bg-gray-800 border-gray-600 rounded px-3 py-1.5 text-sm text-white w-48 focus:ring-amber-500"})]}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 pb-0.5",children:(0,t.jsx)("button",{onClick:ep,disabled:0===q.size||ec,className:"jsx-4f044084e7cd90f7 bg-red-600 hover:bg-red-500 text-white font-bold py-1.5 px-4 rounded transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed h-[34px]",children:ec?"更新中...":"執行批次更新"})})]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex-1 overflow-auto p-4 custom-scrollbar",children:[(0,t.jsxs)("table",{className:"jsx-4f044084e7cd90f7 w-full text-left border-collapse",children:[(0,t.jsx)("thead",{className:"jsx-4f044084e7cd90f7 bg-gray-800 sticky top-0 z-10",children:(0,t.jsxs)("tr",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("th",{className:"jsx-4f044084e7cd90f7 p-3 text-xs font-bold text-gray-400 border-b border-gray-700 w-12",children:"選取"}),(0,t.jsx)("th",{className:"jsx-4f044084e7cd90f7 p-3 text-xs font-bold text-gray-400 border-b border-gray-700 w-24",children:"編號"}),(0,t.jsx)("th",{className:"jsx-4f044084e7cd90f7 p-3 text-xs font-bold text-gray-400 border-b border-gray-700 w-24",children:"行政區"}),(0,t.jsx)("th",{className:"jsx-4f044084e7cd90f7 p-3 text-xs font-bold text-gray-400 border-b border-gray-700 w-48",children:"建案名稱"}),(0,t.jsx)("th",{className:"jsx-4f044084e7cd90f7 p-3 text-xs font-bold text-gray-400 border-b border-gray-700",children:"地址/位置"}),(0,t.jsx)("th",{className:"jsx-4f044084e7cd90f7 p-3 text-xs font-bold text-gray-400 border-b border-gray-700 w-16",children:"操作"})]})}),(0,t.jsx)("tbody",{className:"jsx-4f044084e7cd90f7 text-sm",children:W.map((e,s)=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("tr",{className:"jsx-4f044084e7cd90f7 hover:bg-white/5 border-b border-gray-800",children:[(0,t.jsx)("td",{className:"jsx-4f044084e7cd90f7 p-3",children:(0,t.jsx)("input",{type:"checkbox",checked:q.has(e["編號"]),onChange:()=>ey(e["編號"]),className:"jsx-4f044084e7cd90f7 form-checkbox h-4 w-4 text-amber-600 bg-gray-700 border-gray-600 rounded"})}),(0,t.jsx)("td",{className:"jsx-4f044084e7cd90f7 p-3 font-mono text-xs text-gray-400",children:e["編號"]}),(0,t.jsx)("td",{className:"jsx-4f044084e7cd90f7 p-3",children:e["行政區"]}),(0,t.jsx)("td",{className:"jsx-4f044084e7cd90f7 p-3 text-amber-300",children:e["建案名稱"]}),(0,t.jsx)("td",{className:"jsx-4f044084e7cd90f7 p-3 text-gray-400 truncate max-w-[200px]",children:e["其他門牌"]||e["地址"]||e["土地位置建物門牌"]}),(0,t.jsx)("td",{className:"jsx-4f044084e7cd90f7 p-3",children:(0,t.jsx)("button",{onClick:()=>ew(s),className:"jsx-4f044084e7cd90f7 text-gray-500 hover:text-white text-xs underline",children:eo.has(s)?"收合":"明細"})})]},e["編號"]),eo.has(s)&&(0,t.jsx)("tr",{className:"jsx-4f044084e7cd90f7 bg-gray-900/50",children:(0,t.jsx)("td",{colSpan:6,className:"jsx-4f044084e7cd90f7 p-4 border-b border-gray-800",children:(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:Object.entries(e).filter(([e])=>"id"!==e).map(([e,s])=>(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-gray-500 mb-1",children:e}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-gray-300 break-all",children:String(s)})]},e))})})})]}))})]}),0===W.length&&(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-center py-20 text-gray-500",children:"無符合資料"})]})]})}),Z&&(0,t.jsx)("div",{onClick:()=>Q(!1),className:"jsx-4f044084e7cd90f7 fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 transition-opacity animate-in fade-in duration-200",children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-4f044084e7cd90f7 bg-[#1a1d29] border border-gray-700 rounded-xl w-full max-w-6xl max-h-[90vh] flex flex-col shadow-2xl relative",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 p-4 border-b border-gray-700 flex justify-between items-center bg-[#252836] rounded-t-xl",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("h3",{className:"jsx-4f044084e7cd90f7 text-xl font-bold text-white",children:"批次修改搜尋結果"}),(0,t.jsxs)("p",{className:"jsx-4f044084e7cd90f7 text-sm text-gray-400 mt-1",children:["資料表: ",en?.tableName," | 搜尋條件: ",o[U.toUpperCase()]," ",K," like '%",X,"%' | 共 ",W.length," 筆"]})]}),(0,t.jsx)("button",{onClick:()=>Q(!1),title:"關閉視窗 (Esc)",className:"jsx-4f044084e7cd90f7 text-gray-400 hover:text-white hover:bg-gray-700/50 p-2 rounded-full transition-colors flex items-center justify-center w-8 h-8",children:(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-times text-xl"})})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-[#252836] border-b border-gray-700",children:[(0,t.jsxs)("button",{onClick:()=>em(!ef),className:"jsx-4f044084e7cd90f7 w-full text-center py-2 text-xs text-gray-500 hover:text-white hover:bg-gray-700/50 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)("i",{className:`jsx-4f044084e7cd90f7 fas fa-search ${ef?"text-amber-400":""}`}),ef?"收合搜尋條件":"再次搜尋 / 修改條件"]}),ef&&(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 p-4 grid grid-cols-1 md:grid-cols-5 gap-4 animate-in slide-in-from-top-2 duration-200",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-xs text-gray-400 mb-1",children:"縣市"}),(0,t.jsx)("select",{value:U,onChange:e=>F(e.target.value),className:"jsx-4f044084e7cd90f7 w-full bg-gray-800 border-gray-600 rounded px-2 py-1.5 text-sm text-white focus:ring-amber-500",children:Object.entries(o).map(([e,s])=>(0,t.jsx)("option",{value:e.toLowerCase(),className:"jsx-4f044084e7cd90f7",children:s},e))})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-xs text-gray-400 mb-1",children:"類型"}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 flex bg-gray-800 rounded border border-gray-600 p-0.5",children:["a","b","c"].map(e=>(0,t.jsx)("button",{onClick:()=>G(e),className:`jsx-4f044084e7cd90f7 flex-1 text-xs py-1 rounded transition-colors ${J===e?"bg-amber-900 text-amber-400":"text-gray-400 hover:text-white"}`,children:"a"===e?"中古":"b"===e?"預售":"租賃"},e))})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-xs text-gray-400 mb-1",children:"欄位"}),(0,t.jsxs)("select",{value:K,onChange:e=>V(e.target.value),className:"jsx-4f044084e7cd90f7 w-full bg-gray-800 border-gray-600 rounded px-2 py-1.5 text-sm text-white focus:ring-amber-500",children:[Array.from(new Set(Object.values(x[J]||{}))).filter(e=>!["編號","id"].includes(e)).sort().map(e=>(0,t.jsx)("option",{value:e,className:"jsx-4f044084e7cd90f7",children:e},e)),(0,t.jsx)("option",{value:"編號",className:"jsx-4f044084e7cd90f7",children:"編號"})]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-xs text-gray-400 mb-1",children:"關鍵字"}),(0,t.jsx)("input",{type:"text",value:X,onChange:e=>B(e.target.value),onKeyDown:e=>"Enter"===e.key&&eg(),placeholder:"關鍵字...",className:"jsx-4f044084e7cd90f7 w-full bg-gray-800 border-gray-600 rounded px-2 py-1.5 text-sm text-white focus:ring-amber-500"})]}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 flex items-end",children:(0,t.jsxs)("button",{onClick:eg,disabled:ea,className:"jsx-4f044084e7cd90f7 w-full bg-amber-600 hover:bg-amber-500 text-white font-bold py-1.5 px-4 rounded transition-colors text-sm h-[34px] flex items-center justify-center gap-2 disabled:opacity-50",children:[ea?(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-spinner fa-spin"}):(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-search"}),"搜尋"]})})]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 p-4 border-b border-gray-700 bg-gray-800/50 flex gap-4 items-end flex-wrap",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex items-center gap-2 text-sm text-gray-300",children:[(0,t.jsx)("input",{type:"checkbox",checked:q.size>0&&q.size===W.length,onChange:eN,className:"jsx-4f044084e7cd90f7 form-checkbox h-5 w-5 text-amber-600 bg-gray-700 border-gray-600 rounded"}),(0,t.jsxs)("span",{className:"jsx-4f044084e7cd90f7",children:["全選 (",q.size," 筆)"]})]}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 flex-1"}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex gap-2 items-center",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-xs text-gray-400 mb-1",children:"欲修改欄位"}),(0,t.jsx)("select",{value:ee,onChange:e=>es(e.target.value),className:"jsx-4f044084e7cd90f7 bg-gray-800 border-gray-600 rounded px-3 py-1.5 text-sm text-white focus:ring-amber-500",children:Array.from(new Set(Object.values(x[J]||{}))).filter(e=>!["編號","id"].includes(e)).sort().map(e=>(0,t.jsx)("option",{value:e,className:"jsx-4f044084e7cd90f7",children:e},e))})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-xs text-gray-400 mb-1",children:"新數值"}),(0,t.jsx)("input",{type:"text",value:er,onChange:e=>et(e.target.value),placeholder:"輸入新內容...",className:"jsx-4f044084e7cd90f7 bg-gray-800 border-gray-600 rounded px-3 py-1.5 text-sm text-white w-48 focus:ring-amber-500"})]}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 pb-0.5",children:(0,t.jsx)("button",{onClick:ep,disabled:0===q.size||ec,className:"jsx-4f044084e7cd90f7 bg-red-600 hover:bg-red-500 text-white font-bold py-1.5 px-4 rounded transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed h-[34px]",children:ec?"更新中...":"執行批次更新"})})]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex-1 overflow-auto p-4 custom-scrollbar",children:[(0,t.jsxs)("table",{className:"jsx-4f044084e7cd90f7 w-full text-left border-collapse",children:[(0,t.jsx)("thead",{className:"jsx-4f044084e7cd90f7 bg-gray-800 sticky top-0 z-10",children:(0,t.jsxs)("tr",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("th",{className:"jsx-4f044084e7cd90f7 p-3 text-xs font-bold text-gray-400 border-b border-gray-700 w-12",children:"選取"}),(0,t.jsx)("th",{className:"jsx-4f044084e7cd90f7 p-3 text-xs font-bold text-gray-400 border-b border-gray-700 w-24",children:"編號"}),(0,t.jsx)("th",{className:"jsx-4f044084e7cd90f7 p-3 text-xs font-bold text-gray-400 border-b border-gray-700 w-24",children:"行政區"}),(0,t.jsx)("th",{className:"jsx-4f044084e7cd90f7 p-3 text-xs font-bold text-gray-400 border-b border-gray-700 w-48",children:"建案名稱"}),(0,t.jsx)("th",{className:"jsx-4f044084e7cd90f7 p-3 text-xs font-bold text-gray-400 border-b border-gray-700",children:"地址/位置"}),(0,t.jsx)("th",{className:"jsx-4f044084e7cd90f7 p-3 text-xs font-bold text-gray-400 border-b border-gray-700 w-16",children:"操作"})]})}),(0,t.jsx)("tbody",{className:"jsx-4f044084e7cd90f7 text-sm",children:W.map((e,s)=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("tr",{className:"jsx-4f044084e7cd90f7 hover:bg-white/5 border-b border-gray-800",children:[(0,t.jsx)("td",{className:"jsx-4f044084e7cd90f7 p-3",children:(0,t.jsx)("input",{type:"checkbox",checked:q.has(e["編號"]),onChange:()=>ey(e["編號"]),className:"jsx-4f044084e7cd90f7 form-checkbox h-4 w-4 text-amber-600 bg-gray-700 border-gray-600 rounded"})}),(0,t.jsx)("td",{className:"jsx-4f044084e7cd90f7 p-3 font-mono text-xs text-gray-400",children:e["編號"]}),(0,t.jsx)("td",{className:"jsx-4f044084e7cd90f7 p-3",children:e["行政區"]}),(0,t.jsx)("td",{className:"jsx-4f044084e7cd90f7 p-3 text-amber-300",children:e["建案名稱"]}),(0,t.jsx)("td",{className:"jsx-4f044084e7cd90f7 p-3 text-gray-400 truncate max-w-[200px]",children:e["其他門牌"]||e["地址"]||e["土地位置建物門牌"]}),(0,t.jsx)("td",{className:"jsx-4f044084e7cd90f7 p-3",children:(0,t.jsx)("button",{onClick:()=>ew(s),className:"jsx-4f044084e7cd90f7 text-gray-500 hover:text-white text-xs underline",children:eo.has(s)?"收合":"明細"})})]},e["編號"]),eo.has(s)&&(0,t.jsx)("tr",{className:"jsx-4f044084e7cd90f7 bg-gray-900/50",children:(0,t.jsx)("td",{colSpan:6,className:"jsx-4f044084e7cd90f7 p-4 border-b border-gray-800",children:(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:Object.entries(e).filter(([e])=>"id"!==e).map(([e,s])=>(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-gray-500 mb-1",children:e}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-gray-300 break-all",children:String(s)})]},e))})})})]}))})]}),0===W.length&&(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-center py-20 text-gray-500",children:"無符合資料"})]})]})}),(0,t.jsx)(l(),{id:"4f044084e7cd90f7",children:".custom-scrollbar::-webkit-scrollbar{width:8px}.custom-scrollbar::-webkit-scrollbar-track{background:rgba(0,0,0,.2)}.custom-scrollbar::-webkit-scrollbar-thumb{background:rgba(255,255,255,.1);border-radius:4px}.custom-scrollbar::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,.2)}"})]})}},89239:(e,s,r)=>{"use strict";r.d(s,{$:()=>i});var t=r(95155),a=r(12115),l=r(42442),c=r(18460),d=r(40980);let n=(0,c.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95 transition-transform duration-75",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-violet-500/20",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-zinc-900/50 hover:bg-zinc-800 hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",glass:"bg-white/5 backdrop-blur-sm border border-white/10 hover:bg-white/10 text-zinc-100"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef(({className:e,variant:s,size:r,asChild:a=!1,...c},i)=>{let o=a?l.DX:"button";return(0,t.jsx)(o,{className:(0,d.cn)(n({variant:s,size:r,className:e})),ref:i,...c})});i.displayName="Button"}},e=>{e.O(0,[4764,3242,6651,8441,3794,7358],()=>e(e.s=6252)),_N_E=e.O()}]);