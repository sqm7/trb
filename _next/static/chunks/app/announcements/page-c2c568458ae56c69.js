(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6345],{13545:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(78340).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},38477:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var s=t(95155),a=t(12115),l=t(16385),i=t(95542),n=t(41585),c=t(13545),d=t(68822),o=t(61767),h=t(45049);function m(){let[e,r]=(0,a.useState)([]),[t,m]=(0,a.useState)(!0);(0,a.useEffect)(()=>{x()},[]);let x=async()=>{try{let{data:{user:e}}=await l.N.auth.getUser(),t=l.N.from("announcements").select("*").eq("is_active",!0);t=e?t.or(`target_user_id.is.null,target_user_id.eq.${e.id}`):t.is("target_user_id",null);let{data:s,error:a}=await t.order("is_pinned",{ascending:!1}).order("created_at",{ascending:!1});if(a)throw a;r(s||[])}catch(e){console.error("Error fetching announcements:",e)}finally{m(!1)}};return(0,s.jsx)(i.e,{children:(0,s.jsx)("div",{className:"min-h-screen bg-zinc-950 p-6",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8 flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-violet-500/10 rounded-xl border border-violet-500/20",children:(0,s.jsx)(o.A,{className:"h-6 w-6 text-violet-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white",children:"系統公告"}),(0,s.jsx)("p",{className:"text-zinc-500 text-sm",children:"最新消息與重要通知"})]})]}),t?(0,s.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,s.jsx)("div",{className:"h-8 w-8 border-2 border-violet-500/30 border-t-violet-500 rounded-full animate-spin"})}):0===e.length?(0,s.jsxs)("div",{className:"text-center py-20 bg-zinc-900/50 rounded-2xl border border-zinc-800",children:[(0,s.jsx)(o.A,{className:"h-12 w-12 text-zinc-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-zinc-500",children:"目前沒有公告"})]}):(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,s.jsx)("div",{className:`bg-zinc-900/50 border border-zinc-800 rounded-xl p-6 transition-all hover:border-zinc-700 ${e.is_pinned?"ring-1 ring-amber-500/30":""}`,children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0 mt-1",children:(e=>{switch(e){case"warning":return(0,s.jsx)(n.A,{className:"h-5 w-5 text-yellow-400"});case"important":return(0,s.jsx)(c.A,{className:"h-5 w-5 text-red-400"});default:return(0,s.jsx)(d.A,{className:"h-5 w-5 text-cyan-400"})}})(e.type)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.target_user_id&&(0,s.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium bg-amber-500/10 text-amber-400 border border-amber-500/20 rounded-full",children:"私訊"}),e.is_pinned&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium bg-amber-500/10 text-amber-400 border border-amber-500/20 rounded-full",children:[(0,s.jsx)(h.A,{className:"h-3 w-3"}),"置頂"]}),(0,s.jsxs)("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-medium border rounded-full ${(e=>{switch(e){case"warning":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";case"important":return"bg-red-500/10 text-red-400 border-red-500/20";default:return"bg-cyan-500/10 text-cyan-400 border-cyan-500/20"}})(e.type)}`,children:["info"===e.type&&"一般","warning"===e.type&&"注意","important"===e.type&&"重要"]}),(0,s.jsx)("span",{className:"text-xs text-zinc-600",children:new Date(e.created_at).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"})})]}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-zinc-400 text-sm whitespace-pre-wrap",children:e.content})]})]})},e.id))})]})})})}},41585:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(78340).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},45049:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(78340).A)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]])},68822:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(78340).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},78340:(e,r,t)=>{"use strict";t.d(r,{A:()=>c});var s=t(12115);let a=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},l=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:n="",children:c,iconNode:d,...o},h)=>(0,s.createElement)("svg",{ref:h,...i,width:r,height:r,stroke:e,strokeWidth:a?24*Number(t)/Number(r):t,className:l("lucide",n),...!c&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(o)&&{"aria-hidden":"true"},...o},[...d.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(c)?c:[c]])),c=(e,r)=>{let t=(0,s.forwardRef)(({className:t,...i},c)=>(0,s.createElement)(n,{ref:c,iconNode:r,className:l(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,t),...i}));return t.displayName=a(e),t}},92289:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(78340).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},92518:(e,r,t)=>{Promise.resolve().then(t.bind(t,38477))},95542:(e,r,t)=>{"use strict";t.d(r,{e:()=>h});var s=t(95155);t(12115);var a=t(9425),l=t(68500),i=t(92289);let n=({className:e})=>(0,s.jsx)("svg",{role:"img",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:(0,s.jsx)("path",{d:"M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.346 0 .627.285.627.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"})}),c=({className:e})=>(0,s.jsx)("svg",{role:"img",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:(0,s.jsx)("path",{d:"M4.21 0A4.201 4.201 0 0 0 0 4.21v15.58A4.201 4.201 0 0 0 4.21 24h15.58A4.201 4.201 0 0 0 24 19.79v-1.093c-.137.013-.278.02-.422.02-2.577 0-4.027-2.146-4.09-4.832a7.592 7.592 0 0 1 .022-.708c.093-1.186.475-2.241 1.105-3.022a3.885 3.885 0 0 1 1.395-1.1c.468-.237 1.127-.367 1.664-.367h.023c.101 0 .202.004.303.01V4.211A4.201 4.201 0 0 0 19.79 0Zm.198 5.583h4.165l3.588 8.435 3.59-8.435h3.864v.146l-.019.004c-.705.16-1.063.397-1.063 1.254h-.003l.003 10.274c.06.676.424.885 1.063 1.03l.02.004v.145h-4.923v-.145l.019-.005c.639-.144.994-.353 1.054-1.03V7.267l-4.745 11.15h-.261L6.15 7.569v9.445c0 .857.358 1.094 1.063 1.253l.02.004v.147H4.405v-.147l.019-.004c.705-.16 1.065-.397 1.065-1.253V6.987c0-.857-.358-1.094-1.064-1.254l-.018-.004zm19.25 3.668c-1.086.023-1.733 1.323-1.813 3.124H24V9.298a1.378 1.378 0 0 0-.342-.047Zm-1.862 3.632c-.1 1.756.86 3.239 2.204 3.634v-3.634z"})}),d=({className:e})=>(0,s.jsx)("svg",{role:"img",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:(0,s.jsx)("path",{d:"M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18 0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853 0 0 1 3.02.142c-.126-.742-.375-1.332-.75-1.757-.513-.586-1.308-.883-2.359-.89h-.029c-.844 0-1.992.232-2.721 1.32L7.734 7.847c.98-1.454 2.568-2.256 4.478-2.256h.044c3.194.02 5.097 1.975 5.287 5.388.108.046.216.094.321.142 1.49.7 2.58 1.761 3.154 3.07.797 1.82.871 4.79-1.548 7.158-1.85 1.81-4.094 2.628-7.277 2.65Zm1.003-11.69c-.242 0-.487.007-.739.021-1.836.103-2.98.946-2.916 2.143.067 1.256 1.452 1.839 2.784 1.767 1.224-.065 2.818-.543 3.086-3.71a10.5 10.5 0 0 0-2.215-.221z"})});function o(){return(0,s.jsxs)("footer",{className:"text-center py-10 mt-12 border-t border-white/5 bg-black/20 text-zinc-500 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-6 flex-wrap px-4",children:[(0,s.jsxs)("a",{href:"https://line.me/R/ti/p/@425ohbmf",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 hover:text-[#06C755] transition-colors",title:"加入 LINE 官方帳號",children:[(0,s.jsx)("div",{className:"p-2 rounded-full bg-zinc-900 group-hover:bg-[#06C755]/10 transition-colors",children:(0,s.jsx)(n,{className:"w-4 h-4"})}),(0,s.jsx)("span",{children:"官方帳號"})]}),(0,s.jsxs)("a",{href:"https://medium.com/@sqmtalk7",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 hover:text-white transition-colors",title:"閱讀開發者日誌",children:[(0,s.jsx)("div",{className:"p-2 rounded-full bg-zinc-900 group-hover:bg-white/10 transition-colors",children:(0,s.jsx)(c,{className:"w-4 h-4"})}),(0,s.jsx)("span",{children:"開發者日誌"})]}),(0,s.jsxs)("a",{href:"https://www.threads.net/@sqm.talk",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 hover:text-white transition-colors",title:"追蹤 Threads",children:[(0,s.jsx)("div",{className:"p-2 rounded-full bg-zinc-900 group-hover:bg-white/10 transition-colors",children:(0,s.jsx)(d,{className:"w-4 h-4"})}),(0,s.jsx)("span",{children:"Threads"})]}),(0,s.jsxs)("a",{href:"mailto:sqmtalk7@gmail.com",className:"group flex items-center gap-2 hover:text-cyan-400 transition-colors",title:"聯絡我們",children:[(0,s.jsx)("div",{className:"p-2 rounded-full bg-zinc-900 group-hover:bg-cyan-500/10 transition-colors",children:(0,s.jsx)(i.A,{className:"w-4 h-4"})}),(0,s.jsx)("span",{children:"Email"})]})]}),(0,s.jsxs)("div",{className:"mt-8 space-y-2 text-xs text-zinc-600",children:[(0,s.jsx)("p",{children:"資料來源：內政部實價登錄"}),(0,s.jsx)("p",{children:"版權所有 \xa9 2025 平米內參. 保留一切權利."})]})]})}function h({children:e}){return(0,s.jsxs)("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 flex",children:[(0,s.jsx)(a.Sidebar,{}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col lg:pl-20 min-w-0 transition-all duration-300",children:[(0,s.jsx)(l.Header,{}),(0,s.jsxs)("main",{className:"flex-1 p-4 md:p-6 lg:p-8",children:[(0,s.jsx)("div",{className:"container-custom py-6 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 min-h-[calc(100vh-12rem)]",children:e}),(0,s.jsx)(o,{})]})]})]})}}},e=>{e.O(0,[4764,8409,6119,5772,3380,8500,8441,3794,7358],()=>e(e.s=92518)),_N_E=e.O()}]);