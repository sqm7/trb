(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5699],{4535:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(95155),a=s(12115),l=s(73321),n=s(16385),c=s(68041),d=s(25777),i=s(439),o=s(21628);function x(){let e=(0,l.useRouter)(),[t,s]=(0,a.useState)(""),[x,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null),b=async s=>{if(s.preventDefault(),u(!0),m(null),t.length<6){m({text:"密碼長度至少需 6 個字元",type:"error"}),u(!1);return}try{let{error:s}=await n.N.auth.updateUser({password:t});if(s)throw s;m({text:"密碼更新成功！正在跳轉至儀表板...",type:"success"}),setTimeout(()=>{e.push("/dashboard")},2e3)}catch(e){m({text:e.message,type:"error"})}finally{u(!1)}};return(0,r.jsx)(c.e,{children:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6 bg-zinc-950 -m-6 rounded-tl-2xl",children:(0,r.jsx)("div",{className:"w-full max-w-md",children:(0,r.jsxs)("div",{className:"bg-zinc-900/90 backdrop-blur-xl border border-zinc-800 p-8 rounded-2xl shadow-2xl space-y-6",children:[(0,r.jsxs)("div",{className:"text-center space-y-2",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-cyan-500/10 rounded-full flex items-center justify-center mx-auto border border-cyan-500/20 mb-4",children:(0,r.jsx)(d.A,{className:"w-8 h-8 text-cyan-400"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-white",children:"設定新密碼"}),(0,r.jsx)("p",{className:"text-zinc-400 text-sm",children:"請輸入您的新密碼以完成重設。"})]}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs font-semibold text-zinc-400 ml-1",children:"新密碼"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-zinc-500"}),(0,r.jsx)("input",{type:"password",required:!0,minLength:6,value:t,onChange:e=>s(e.target.value),className:"w-full bg-zinc-950/50 border border-zinc-800 focus:border-cyan-500 text-white rounded-xl pl-10 pr-4 py-3 outline-none transition-all placeholder:text-zinc-600",placeholder:"••••••••"})]})]}),h&&(0,r.jsxs)("div",{className:`flex items-center gap-2 p-3 rounded-lg text-sm bg-opacity-10 border ${"error"===h.type?"bg-red-500 border-red-500/20 text-red-200":"bg-green-500 border-green-500/20 text-green-200"}`,children:[(0,r.jsx)(i.A,{className:"w-4 h-4"}),h.text]}),(0,r.jsx)("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold py-3.5 px-4 rounded-xl shadow-lg shadow-cyan-900/20 hover:shadow-cyan-900/40 transition-all transform hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2 group/btn",children:x?(0,r.jsx)("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,r.jsxs)(r.Fragment,{children:["更新密碼",(0,r.jsx)(o.A,{className:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform"})]})})]})]})})})})}},60988:(e,t,s)=>{Promise.resolve().then(s.bind(s,4535))}},e=>{e.O(0,[4764,3242,8500,5772,8684,8041,8441,3794,7358],()=>e(e.s=60988)),_N_E=e.O()}]);