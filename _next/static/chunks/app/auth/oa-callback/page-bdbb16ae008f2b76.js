(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4986],{18965:(e,t,s)=>{"use strict";s.d(t,{f:()=>r});function r(){let e=window.location.hostname;return"sqm7.github.io"===e&&window.location.pathname.startsWith("/trb")||"localhost"===e||"127.0.0.1"===e?"2008934556-oxSVZdHU":"2008934556-Ud86tczR"}},21172:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return l}});let r=s(12115);function l(e,t){let s=(0,r.useRef)(null),l=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=s.current;e&&(s.current=null,e());let t=l.current;t&&(l.current=null,t())}else e&&(s.current=n(e,r)),t&&(l.current=n(t,r))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let s=e(t);return"function"==typeof s?s:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},21628:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},33945:(e,t,s)=>{Promise.resolve().then(s.bind(s,70702))},70702:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(95155),l=s(12115),n=s(73321),a=s(5772);let i=(0,s(78340).A)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);var c=s(21628),o=s(18965);function d(){let e=(0,n.useRouter)(),[t,d]=(0,l.useState)(!0),[u,h]=(0,l.useState)(!1),[f,x]=(0,l.useState)(null);return((0,l.useEffect)(()=>{(async()=>{try{let t=(await Promise.all([s.e(9585),s.e(9303)]).then(s.bind(s,39585))).default,r=(0,o.f)();if(await t.init({liffId:r}),!t.isLoggedIn())return void e.push("/");(await t.getFriendship()).friendFlag?(h(!0),setTimeout(()=>e.push("/dashboard"),1500)):(h(!1),d(!1))}catch(e){console.error("LIFF Error:",e),x(e.message),d(!1)}})()},[e]),t)?(0,r.jsxs)("div",{className:"min-h-screen bg-[#050A15] flex flex-col items-center justify-center p-6 text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin mb-6"}),(0,r.jsx)("h2",{className:"text-xl text-white font-bold",children:"正在驗證好友狀態..."}),(0,r.jsx)("p",{className:"text-zinc-500 mt-2",children:"請稍候"})]}):u?(0,r.jsxs)("div",{className:"min-h-screen bg-[#050A15] flex flex-col items-center justify-center p-6 text-center",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-green-500/10 rounded-full flex items-center justify-center mb-6 ring-1 ring-green-500/50",children:(0,r.jsx)(i,{className:"w-10 h-10 text-green-500"})}),(0,r.jsx)("h2",{className:"text-2xl text-white font-bold mb-2",children:"驗證成功！"}),(0,r.jsx)("p",{className:"text-zinc-400",children:"正在進入系統..."})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-[#050A15] flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,r.jsx)(a.default,{src:"/images/loginbackground.jpg",alt:"Background",fill:!0,className:"object-cover opacity-10 blur-sm"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-zinc-950/80 via-zinc-950 to-zinc-950"})]}),(0,r.jsxs)("div",{className:"relative z-10 max-w-md w-full bg-zinc-900/80 backdrop-blur-xl border border-white/10 p-8 rounded-3xl shadow-2xl text-center space-y-8 animate-in zoom-in-95 fade-in duration-500",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"relative inline-flex items-center justify-center w-20 h-20 rounded-full bg-[#06C755]/10 border border-[#06C755]/20 mb-4 overflow-hidden",children:(0,r.jsx)(a.default,{src:"/logo-type-a.jpg",alt:"Logo",fill:!0,className:"object-cover"})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"啟用您的帳號"}),(0,r.jsxs)("p",{className:"text-zinc-400 leading-relaxed",children:["為了提供更完整的即時通知與客服支援，",(0,r.jsx)("br",{}),"請先加入我們的 LINE 官方帳號。"]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("a",{href:"https://line.me/R/ti/p/@425ohbmf",target:"_blank",rel:"noopener noreferrer",className:"block w-full py-4 px-6 bg-[#06C755] hover:bg-[#05b34c] text-white font-bold rounded-xl shadow-lg shadow-green-900/20 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-3",onClick:()=>{setTimeout(()=>{window.location.reload()},3e3)},children:[(0,r.jsx)(i,{className:"w-6 h-6 fill-current"}),"加入好友並啟用"]}),(0,r.jsxs)("div",{className:"text-xs text-zinc-500 pt-2 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{children:"手機版將直接開啟 App，電腦版請掃描 QR Code 驗證"}),(0,r.jsx)("p",{className:"opacity-70",children:"加入後請點擊上方按鈕或重新整理頁面"})]}),(0,r.jsx)("div",{className:"pt-2",children:(0,r.jsxs)("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 text-zinc-400 hover:text-white hover:bg-white/10 transition-all text-xs",children:[(0,r.jsx)(c.A,{className:"w-3 h-3"}),"我已加入好友，立即驗證"]})})]})]})]})]})}},73321:(e,t,s)=>{"use strict";var r=s(74645);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})}},e=>{e.O(0,[1819,8441,3794,7358],()=>e(e.s=33945)),_N_E=e.O()}]);