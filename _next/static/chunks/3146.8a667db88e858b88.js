"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3146],{33908:(e,t,s)=>{s.r(t),s.d(t,{MapUnitPriceAnalysisReport:()=>o});var i=s(95155),a=s(12115),l=s(72566),n=s(88042),r=s(98563),c=s(62959),d=s(40980);function o({data:e,visibleSections:t=["stats","comparison","chart"],comparisonExpandAll:s=!1}){let[o,x]=(0,a.useState)("weighted"),[m,f]=(0,a.useState)(30),[h,u]=(0,a.useState)(150),[p,g]=(0,a.useState)(5),[b,v]=(0,a.useState)("count"),j=a.useRef(null),N=a.useRef(null),w=a.useRef(null),y=e?.transactionDetails||[],z=e?.unitPriceAnalysis,k=z?.residentialStats,C=z?.officeStats,S=z?.storeStats,M=z?.typeComparison;return e&&(y.length||z)?(0,i.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.includes("stats")&&(0,i.jsx)(l.q,{title:"各用途單價統計",containerRef:j,headerAction:(0,i.jsx)("div",{className:"flex items-center gap-4",children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-zinc-400 text-xs",children:"平均類型:"}),(0,i.jsxs)("div",{className:"flex bg-zinc-950/50 rounded-md p-1 border border-white/5",children:[(0,i.jsx)("button",{onClick:()=>x("arithmetic"),className:(0,d.cn)("px-2 py-0.5 text-[10px] rounded transition-colors","arithmetic"===o?"bg-violet-500 text-white":"text-zinc-500 hover:text-white"),children:"算術"}),(0,i.jsx)("button",{onClick:()=>x("weighted"),className:(0,d.cn)("px-2 py-0.5 text-[10px] rounded transition-colors","weighted"===o?"bg-violet-500 text-white":"text-zinc-500 hover:text-white"),children:"加權"})]})]})}),children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsx)(r.E,{title:"住宅建案統計",stats:k,noDataMessage:"無住宅交易數據",className:"border-violet-500/20",averageType:o}),(0,i.jsx)(r.E,{title:"一般事務所/辦公室統計",stats:C,noDataMessage:"無事務所/辦公室交易數據",className:"border-cyan-500/20",averageType:o}),(0,i.jsx)(r.E,{title:"店舖統計",stats:S,noDataMessage:"無店舖交易數據",className:"border-amber-500/20",averageType:o})]})}),(0,i.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 items-stretch",children:[t.includes("comparison")&&M&&M.length>0&&(0,i.jsx)("div",{className:"flex-1 min-w-0 flex flex-col",children:(0,i.jsx)(l.q,{title:"建案產品類型單價比較",description:"同一建案內不同用途（住宅/店面/事務所）的單價與倍數比較",containerRef:N,className:"h-full",children:(0,i.jsx)(c.i,{data:M,expandAll:s})})}),t.includes("chart")&&(0,i.jsx)("div",{className:"flex-1 min-w-0 flex flex-col",children:(0,i.jsx)(l.q,{title:"單價分佈泡泡圖",description:"分析各單價區間的成交熱度與分佈密集區",containerRef:w,className:"h-full",children:(0,i.jsx)(n.$,{data:y,minPrice:m,maxPrice:h,interval:p,sizeMetric:b,onMinPriceChange:f,onMaxPriceChange:u,onIntervalChange:g,onSizeMetricChange:v})})})]})]}):null}},60529:(e,t,s)=>{s.d(t,{p:()=>n});var i=s(95155),a=s(12115),l=s(40980);let n=a.forwardRef(({className:e,type:t,...s},a)=>(0,i.jsx)("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-zinc-950/50 px-3 py-2 text-sm text-zinc-100 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));n.displayName="Input"},72566:(e,t,s)=>{s.d(t,{q:()=>l});var i=s(95155);s(12115);var a=s(40980);function l({title:e,description:t,children:s,headerAction:l,className:n,containerRef:r}){return(0,i.jsxs)("div",{ref:r,className:(0,a.cn)("bg-zinc-900/50 border border-white/5 rounded-2xl p-4 md:p-6 backdrop-blur-sm",n),children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:e}),t&&(0,i.jsx)("p",{className:"text-zinc-400 text-sm mt-1",children:t})]}),l&&(0,i.jsx)("div",{className:"flex-shrink-0 w-full md:w-auto overflow-x-auto","data-html2canvas-ignore":"true",children:l})]}),s]})}}}]);