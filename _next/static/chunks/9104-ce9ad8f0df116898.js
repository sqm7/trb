"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9104],{6962:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(78340).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},21628:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(78340).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},25777:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(78340).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},31692:(e,t,r)=>{r.d(t,{Zr:()=>o});let n=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>n(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>n(t)(e)}}},o=(e,t)=>(r,o,a)=>{let l,i={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let n=e=>null===e?null:JSON.parse(e,void 0),o=null!=(t=r.getItem(e))?t:null;return o instanceof Promise?o.then(n):n(o)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1,u=0,c=new Set,d=new Set,f=i.storage;if(!f)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...e)},o,a);let p=()=>{let e=i.partialize({...o()});return f.setItem(i.name,{state:e,version:i.version})},m=a.setState;a.setState=(e,t)=>(m(e,t),p());let g=e((...e)=>(r(...e),p()),o,a);a.getInitialState=()=>g;let h=()=>{var e,t;if(!f)return;let a=++u;s=!1,c.forEach(e=>{var t;return e(null!=(t=o())?t:g)});let m=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=o())?e:g))||void 0;return n(f.getItem.bind(f))(i.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];else{if(i.migrate){let t=i.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;if(a!==u)return;let[n,s]=e;if(r(l=i.merge(s,null!=(t=o())?t:g),!0),n)return p()}).then(()=>{a===u&&(null==m||m(l,void 0),l=o(),s=!0,d.forEach(e=>e(l)))}).catch(e=>{a===u&&(null==m||m(void 0,e))})};return a.persist={setOptions:e=>{i={...i,...e},e.storage&&(f=e.storage)},clearStorage:()=>{null==f||f.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>h(),hasHydrated:()=>s,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},i.skipHydration||h(),l||g}},36376:(e,t,r)=>{let n;r.d(t,{UC:()=>V,Kq:()=>B,bL:()=>U,l9:()=>G});var o=r(12115),a=r(70379),l=r(47527),i=r(68599),s=r(98454),u=r(89971),c=r(80878),d=(r(19040),r(83935)),f=r(99354),p=r(95155),m=Symbol("radix.slottable"),g=r(98979),h=r(40562),[w,y]=(0,i.A)("Tooltip",[c.Bk]),v=(0,c.Bk)(),b="TooltipProvider",x="tooltip.open",[C,E]=w(b),S=e=>{let{__scopeTooltip:t,delayDuration:r=700,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:l}=e,i=o.useRef(!0),s=o.useRef(!1),u=o.useRef(0);return o.useEffect(()=>{let e=u.current;return()=>window.clearTimeout(e)},[]),(0,p.jsx)(C,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:o.useCallback(()=>{window.clearTimeout(u.current),i.current=!1},[]),onClose:o.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:o.useCallback(e=>{s.current=e},[]),disableHoverableContent:a,children:l})};S.displayName=b;var k="Tooltip",[R,A]=w(k),T=e=>{let{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:l,disableHoverableContent:i,delayDuration:s}=e,d=E(k,e.__scopeTooltip),f=v(t),[m,h]=o.useState(null),w=(0,u.B)(),y=o.useRef(0),b=i??d.disableHoverableContent,C=s??d.delayDuration,S=o.useRef(!1),[A,T]=(0,g.i)({prop:n,defaultProp:a??!1,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(x))):d.onClose(),l?.(e)},caller:k}),D=o.useMemo(()=>A?S.current?"delayed-open":"instant-open":"closed",[A]),M=o.useCallback(()=>{window.clearTimeout(y.current),y.current=0,S.current=!1,T(!0)},[T]),N=o.useCallback(()=>{window.clearTimeout(y.current),y.current=0,T(!1)},[T]),j=o.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{S.current=!0,T(!0),y.current=0},C)},[C,T]);return o.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),(0,p.jsx)(c.bL,{...f,children:(0,p.jsx)(R,{scope:t,contentId:w,open:A,stateAttribute:D,trigger:m,onTriggerChange:h,onTriggerEnter:o.useCallback(()=>{d.isOpenDelayedRef.current?j():M()},[d.isOpenDelayedRef,j,M]),onTriggerLeave:o.useCallback(()=>{b?N():(window.clearTimeout(y.current),y.current=0)},[N,b]),onOpen:M,onClose:N,disableHoverableContent:b,children:r})})};T.displayName=k;var D="TooltipTrigger",M=o.forwardRef((e,t)=>{let{__scopeTooltip:r,...n}=e,i=A(D,r),s=E(D,r),u=v(r),d=o.useRef(null),m=(0,l.s)(t,d,i.onTriggerChange),g=o.useRef(!1),h=o.useRef(!1),w=o.useCallback(()=>g.current=!1,[]);return o.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),(0,p.jsx)(c.Mz,{asChild:!0,...u,children:(0,p.jsx)(f.sG.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:m,onPointerMove:(0,a.mK)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(h.current||s.isPointerInTransitRef.current||(i.onTriggerEnter(),h.current=!0))}),onPointerLeave:(0,a.mK)(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:(0,a.mK)(e.onPointerDown,()=>{i.open&&i.onClose(),g.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:(0,a.mK)(e.onFocus,()=>{g.current||i.onOpen()}),onBlur:(0,a.mK)(e.onBlur,i.onClose),onClick:(0,a.mK)(e.onClick,i.onClose)})})});M.displayName=D;var[N,j]=w("TooltipPortal",{forceMount:void 0}),I="TooltipContent",_=o.forwardRef((e,t)=>{let r=j(I,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...a}=e,l=A(I,e.__scopeTooltip);return(0,p.jsx)(d.C,{present:n||l.open,children:l.disableHoverableContent?(0,p.jsx)(K,{side:o,...a,ref:t}):(0,p.jsx)(P,{side:o,...a,ref:t})})}),P=o.forwardRef((e,t)=>{let r=A(I,e.__scopeTooltip),n=E(I,e.__scopeTooltip),a=o.useRef(null),i=(0,l.s)(t,a),[s,u]=o.useState(null),{trigger:c,onClose:d}=r,f=a.current,{onPointerInTransitChange:m}=n,g=o.useCallback(()=>{u(null),m(!1)},[m]),h=o.useCallback((e,t)=>{let r,n=e.currentTarget,o={x:e.clientX,y:e.clientY},a=function(e,t){let r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,o,a)){case a:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw Error("unreachable")}}(o,n.getBoundingClientRect());u(((r=[...function(e,t,r=5){let n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(o,a),...function(e){let{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let n=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x))t.pop();else break}t.push(n)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))r.pop();else break}r.push(n)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(r))),m(!0)},[m]);return o.useEffect(()=>()=>g(),[g]),o.useEffect(()=>{if(c&&f){let e=e=>h(e,f),t=e=>h(e,c);return c.addEventListener("pointerleave",e),f.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),f.removeEventListener("pointerleave",t)}}},[c,f,h,g]),o.useEffect(()=>{if(s){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},n=c?.contains(t)||f?.contains(t),o=!function(e,t){let{x:r,y:n}=e,o=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let l=t[e],i=t[a],s=l.x,u=l.y,c=i.x,d=i.y;u>n!=d>n&&r<(c-s)*(n-u)/(d-u)+s&&(o=!o)}return o}(r,s);n?g():o&&(g(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,f,s,d,g]),(0,p.jsx)(K,{...e,ref:i})}),[F,L]=w(k,{isInside:!1}),O=((n=({children:e})=>(0,p.jsx)(p.Fragment,{children:e})).displayName="TooltipContent.Slottable",n.__radixId=m,n),K=o.forwardRef((e,t)=>{let{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:l,onPointerDownOutside:i,...u}=e,d=A(I,r),f=v(r),{onClose:m}=d;return o.useEffect(()=>(document.addEventListener(x,m),()=>document.removeEventListener(x,m)),[m]),o.useEffect(()=>{if(d.trigger){let e=e=>{let t=e.target;t?.contains(d.trigger)&&m()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,m]),(0,p.jsx)(s.qW,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:m,children:(0,p.jsxs)(c.UC,{"data-state":d.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,p.jsx)(O,{children:n}),(0,p.jsx)(F,{scope:r,isInside:!0,children:(0,p.jsx)(h.bL,{id:d.contentId,role:"tooltip",children:a||n})})]})})});_.displayName=I;var $="TooltipArrow";o.forwardRef((e,t)=>{let{__scopeTooltip:r,...n}=e,o=v(r);return L($,r).isInside?null:(0,p.jsx)(c.i3,{...o,...n,ref:t})}).displayName=$;var B=S,U=T,G=M,V=_},37618:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(78340).A)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},43987:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(78340).A)("sprout",[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]])},61108:(e,t,r)=>{let n,o,a;r.d(t,{H_:()=>e2,UC:()=>e0,q7:()=>e5,VF:()=>e3,JU:()=>e1,ZL:()=>eQ,bL:()=>eZ,wv:()=>e4,l9:()=>eJ});var l=r(12115),i=r(70379),s=r(47527),u=r(68599),c=r(98979),d=r(99354),f=r(64831),p=r(1933),m=r(98454),g=r(32007),h=r(69885),w=r(89971),y=r(80878),v=r(19040),b=r(83935),x=r(83478),C=r(95155),E=Symbol("radix.slottable");function S(e){return l.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===E}var k=r(17347),R=r(22954),A=r(78919),T=["Enter"," "],D=["ArrowUp","PageDown","End"],M=["ArrowDown","PageUp","Home",...D],N={ltr:[...T,"ArrowRight"],rtl:[...T,"ArrowLeft"]},j={ltr:["ArrowLeft"],rtl:["ArrowRight"]},I="Menu",[_,P,F]=(0,f.N)(I),[L,O]=(0,u.A)(I,[F,y.Bk,x.RG]),K=(0,y.Bk)(),$=(0,x.RG)(),[B,U]=L(I),[G,V]=L(I),W=e=>{let{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:a,modal:i=!0}=e,s=K(t),[u,c]=l.useState(null),d=l.useRef(!1),f=(0,k.c)(a),m=(0,p.jH)(o);return l.useEffect(()=>{let e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,C.jsx)(y.bL,{...s,children:(0,C.jsx)(B,{scope:t,open:r,onOpenChange:f,content:u,onContentChange:c,children:(0,C.jsx)(G,{scope:t,onClose:l.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:i,children:n})})})};W.displayName=I;var z=l.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,o=K(r);return(0,C.jsx)(y.Mz,{...o,...n,ref:t})});z.displayName="MenuAnchor";var q="MenuPortal",[H,X]=L(q,{forceMount:void 0}),Y=e=>{let{__scopeMenu:t,forceMount:r,children:n,container:o}=e,a=U(q,t);return(0,C.jsx)(H,{scope:t,forceMount:r,children:(0,C.jsx)(b.C,{present:r||a.open,children:(0,C.jsx)(v.Z,{asChild:!0,container:o,children:n})})})};Y.displayName=q;var Z="MenuContent",[J,Q]=L(Z),ee=l.forwardRef((e,t)=>{let r=X(Z,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=U(Z,e.__scopeMenu),l=V(Z,e.__scopeMenu);return(0,C.jsx)(_.Provider,{scope:e.__scopeMenu,children:(0,C.jsx)(b.C,{present:n||a.open,children:(0,C.jsx)(_.Slot,{scope:e.__scopeMenu,children:l.modal?(0,C.jsx)(et,{...o,ref:t}):(0,C.jsx)(er,{...o,ref:t})})})})}),et=l.forwardRef((e,t)=>{let r=U(Z,e.__scopeMenu),n=l.useRef(null),o=(0,s.s)(t,n);return l.useEffect(()=>{let e=n.current;if(e)return(0,R.Eq)(e)},[]),(0,C.jsx)(eo,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:(0,i.mK)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),er=l.forwardRef((e,t)=>{let r=U(Z,e.__scopeMenu);return(0,C.jsx)(eo,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),en=((a=l.forwardRef((e,t)=>{let{children:r,...n}=e;if(l.isValidElement(r)){var o;let e,a,i=(o=r,(a=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(a=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),u=function(e,t){let r={...t};for(let n in t){let o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...e)=>{let t=a(...e);return o(...e),t}:o&&(r[n]=o):"style"===n?r[n]={...o,...a}:"className"===n&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==l.Fragment&&(u.ref=t?(0,s.t)(t,i):i),l.cloneElement(r,u)}return l.Children.count(r)>1?l.Children.only(null):null})).displayName="MenuContent.ScrollLock.SlotClone",n=a,(o=l.forwardRef((e,t)=>{let{children:r,...o}=e,a=l.Children.toArray(r),i=a.find(S);if(i){let e=i.props.children,r=a.map(t=>t!==i?t:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,C.jsx)(n,{...o,ref:t,children:l.isValidElement(e)?l.cloneElement(e,void 0,r):null})}return(0,C.jsx)(n,{...o,ref:t,children:r})})).displayName="MenuContent.ScrollLock.Slot",o),eo=l.forwardRef((e,t)=>{let{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:w,onInteractOutside:v,onDismiss:b,disableOutsideScroll:E,...S}=e,k=U(Z,r),R=V(Z,r),T=K(r),N=$(r),j=P(r),[I,_]=l.useState(null),F=l.useRef(null),L=(0,s.s)(t,F,k.onContentChange),O=l.useRef(0),B=l.useRef(""),G=l.useRef(0),W=l.useRef(null),z=l.useRef("right"),q=l.useRef(0),H=E?A.A:l.Fragment;l.useEffect(()=>()=>window.clearTimeout(O.current),[]),(0,g.Oh)();let X=l.useCallback(e=>{var t,r;return z.current===W.current?.side&&(t=e,!!(r=W.current?.area)&&function(e,t){let{x:r,y:n}=e,o=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let l=t[e],i=t[a],s=l.x,u=l.y,c=i.x,d=i.y;u>n!=d>n&&r<(c-s)*(n-u)/(d-u)+s&&(o=!o)}return o}({x:t.clientX,y:t.clientY},r))},[]);return(0,C.jsx)(J,{scope:r,searchRef:B,onItemEnter:l.useCallback(e=>{X(e)&&e.preventDefault()},[X]),onItemLeave:l.useCallback(e=>{X(e)||(F.current?.focus(),_(null))},[X]),onTriggerLeave:l.useCallback(e=>{X(e)&&e.preventDefault()},[X]),pointerGraceTimerRef:G,onPointerGraceIntentChange:l.useCallback(e=>{W.current=e},[]),children:(0,C.jsx)(H,{...E?{as:en,allowPinchZoom:!0}:void 0,children:(0,C.jsx)(h.n,{asChild:!0,trapped:o,onMountAutoFocus:(0,i.mK)(a,e=>{e.preventDefault(),F.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:(0,C.jsx)(m.qW,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:w,onInteractOutside:v,onDismiss:b,children:(0,C.jsx)(x.bL,{asChild:!0,...N,dir:R.dir,orientation:"vertical",loop:n,currentTabStopId:I,onCurrentTabStopIdChange:_,onEntryFocus:(0,i.mK)(d,e=>{R.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,C.jsx)(y.UC,{role:"menu","aria-orientation":"vertical","data-state":eM(k.open),"data-radix-menu-content":"",dir:R.dir,...T,...S,ref:L,style:{outline:"none",...S.style},onKeyDown:(0,i.mK)(S.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;if(t){var o;let t,a,l,i,s,u;"Tab"===e.key&&e.preventDefault(),!r&&n&&(o=e.key,t=B.current+o,a=j().filter(e=>!e.disabled),l=document.activeElement,i=a.find(e=>e.ref.current===l)?.textValue,s=function(e,t,r){var n;let o=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1,l=(n=Math.max(a,0),e.map((t,r)=>e[(n+r)%e.length]));1===o.length&&(l=l.filter(e=>e!==r));let i=l.find(e=>e.toLowerCase().startsWith(o.toLowerCase()));return i!==r?i:void 0}(a.map(e=>e.textValue),t,i),u=a.find(e=>e.textValue===s)?.ref.current,function e(t){B.current=t,window.clearTimeout(O.current),""!==t&&(O.current=window.setTimeout(()=>e(""),1e3))}(t),u&&setTimeout(()=>u.focus()))}let a=F.current;if(e.target!==a||!M.includes(e.key))return;e.preventDefault();let l=j().filter(e=>!e.disabled).map(e=>e.ref.current);D.includes(e.key)&&l.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(l)}),onBlur:(0,i.mK)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(O.current),B.current="")}),onPointerMove:(0,i.mK)(e.onPointerMove,eI(e=>{let t=e.target,r=q.current!==e.clientX;e.currentTarget.contains(t)&&r&&(z.current=e.clientX>q.current?"right":"left",q.current=e.clientX)}))})})})})})})});ee.displayName=Z;var ea=l.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,C.jsx)(d.sG.div,{role:"group",...n,ref:t})});ea.displayName="MenuGroup";var el=l.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,C.jsx)(d.sG.div,{...n,ref:t})});el.displayName="MenuLabel";var ei="MenuItem",es="menu.itemSelect",eu=l.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:n,...o}=e,a=l.useRef(null),u=V(ei,e.__scopeMenu),c=Q(ei,e.__scopeMenu),f=(0,s.s)(t,a),p=l.useRef(!1);return(0,C.jsx)(ec,{...o,ref:f,disabled:r,onClick:(0,i.mK)(e.onClick,()=>{let e=a.current;if(!r&&e){let t=new CustomEvent(es,{bubbles:!0,cancelable:!0});e.addEventListener(es,e=>n?.(e),{once:!0}),(0,d.hO)(e,t),t.defaultPrevented?p.current=!1:u.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),p.current=!0},onPointerUp:(0,i.mK)(e.onPointerUp,e=>{p.current||e.currentTarget?.click()}),onKeyDown:(0,i.mK)(e.onKeyDown,e=>{let t=""!==c.searchRef.current;r||t&&" "===e.key||T.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});eu.displayName=ei;var ec=l.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:n=!1,textValue:o,...a}=e,u=Q(ei,r),c=$(r),f=l.useRef(null),p=(0,s.s)(t,f),[m,g]=l.useState(!1),[h,w]=l.useState("");return l.useEffect(()=>{let e=f.current;e&&w((e.textContent??"").trim())},[a.children]),(0,C.jsx)(_.ItemSlot,{scope:r,disabled:n,textValue:o??h,children:(0,C.jsx)(x.q7,{asChild:!0,...c,focusable:!n,children:(0,C.jsx)(d.sG.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:p,onPointerMove:(0,i.mK)(e.onPointerMove,eI(e=>{n?u.onItemLeave(e):(u.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,i.mK)(e.onPointerLeave,eI(e=>u.onItemLeave(e))),onFocus:(0,i.mK)(e.onFocus,()=>g(!0)),onBlur:(0,i.mK)(e.onBlur,()=>g(!1))})})})}),ed=l.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:n,...o}=e;return(0,C.jsx)(ev,{scope:e.__scopeMenu,checked:r,children:(0,C.jsx)(eu,{role:"menuitemcheckbox","aria-checked":eN(r)?"mixed":r,...o,ref:t,"data-state":ej(r),onSelect:(0,i.mK)(o.onSelect,()=>n?.(!!eN(r)||!r),{checkForDefaultPrevented:!1})})})});ed.displayName="MenuCheckboxItem";var ef="MenuRadioGroup",[ep,em]=L(ef,{value:void 0,onValueChange:()=>{}}),eg=l.forwardRef((e,t)=>{let{value:r,onValueChange:n,...o}=e,a=(0,k.c)(n);return(0,C.jsx)(ep,{scope:e.__scopeMenu,value:r,onValueChange:a,children:(0,C.jsx)(ea,{...o,ref:t})})});eg.displayName=ef;var eh="MenuRadioItem",ew=l.forwardRef((e,t)=>{let{value:r,...n}=e,o=em(eh,e.__scopeMenu),a=r===o.value;return(0,C.jsx)(ev,{scope:e.__scopeMenu,checked:a,children:(0,C.jsx)(eu,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":ej(a),onSelect:(0,i.mK)(n.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});ew.displayName=eh;var ey="MenuItemIndicator",[ev,eb]=L(ey,{checked:!1}),ex=l.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:n,...o}=e,a=eb(ey,r);return(0,C.jsx)(b.C,{present:n||eN(a.checked)||!0===a.checked,children:(0,C.jsx)(d.sG.span,{...o,ref:t,"data-state":ej(a.checked)})})});ex.displayName=ey;var eC=l.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,C.jsx)(d.sG.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});eC.displayName="MenuSeparator";var eE=l.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,o=K(r);return(0,C.jsx)(y.i3,{...o,...n,ref:t})});eE.displayName="MenuArrow";var[eS,ek]=L("MenuSub"),eR="MenuSubTrigger",eA=l.forwardRef((e,t)=>{let r=U(eR,e.__scopeMenu),n=V(eR,e.__scopeMenu),o=ek(eR,e.__scopeMenu),a=Q(eR,e.__scopeMenu),u=l.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=a,f={__scopeMenu:e.__scopeMenu},p=l.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return l.useEffect(()=>p,[p]),l.useEffect(()=>{let e=c.current;return()=>{window.clearTimeout(e),d(null)}},[c,d]),(0,C.jsx)(z,{asChild:!0,...f,children:(0,C.jsx)(ec,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":eM(r.open),...e,ref:(0,s.t)(t,o.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:(0,i.mK)(e.onPointerMove,eI(t=>{a.onItemEnter(t),!t.defaultPrevented&&(e.disabled||r.open||u.current||(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100)))})),onPointerLeave:(0,i.mK)(e.onPointerLeave,eI(e=>{p();let t=r.content?.getBoundingClientRect();if(t){let n=r.content?.dataset.side,o="right"===n,l=t[o?"left":"right"],i=t[o?"right":"left"];a.onPointerGraceIntentChange({area:[{x:e.clientX+(o?-5:5),y:e.clientY},{x:l,y:t.top},{x:i,y:t.top},{x:i,y:t.bottom},{x:l,y:t.bottom}],side:n}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(e),e.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:(0,i.mK)(e.onKeyDown,t=>{let o=""!==a.searchRef.current;e.disabled||o&&" "===t.key||N[n.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())})})})});eA.displayName=eR;var eT="MenuSubContent",eD=l.forwardRef((e,t)=>{let r=X(Z,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=U(Z,e.__scopeMenu),u=V(Z,e.__scopeMenu),c=ek(eT,e.__scopeMenu),d=l.useRef(null),f=(0,s.s)(t,d);return(0,C.jsx)(_.Provider,{scope:e.__scopeMenu,children:(0,C.jsx)(b.C,{present:n||a.open,children:(0,C.jsx)(_.Slot,{scope:e.__scopeMenu,children:(0,C.jsx)(eo,{id:c.contentId,"aria-labelledby":c.triggerId,...o,ref:f,align:"start",side:"rtl"===u.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{u.isUsingKeyboardRef.current&&d.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,i.mK)(e.onFocusOutside,e=>{e.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:(0,i.mK)(e.onEscapeKeyDown,e=>{u.onClose(),e.preventDefault()}),onKeyDown:(0,i.mK)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=j[u.dir].includes(e.key);t&&r&&(a.onOpenChange(!1),c.trigger?.focus(),e.preventDefault())})})})})})});function eM(e){return e?"open":"closed"}function eN(e){return"indeterminate"===e}function ej(e){return eN(e)?"indeterminate":e?"checked":"unchecked"}function eI(e){return t=>"mouse"===t.pointerType?e(t):void 0}eD.displayName=eT;var e_="DropdownMenu",[eP,eF]=(0,u.A)(e_,[O]),eL=O(),[eO,eK]=eP(e_),e$=e=>{let{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,u=eL(t),d=l.useRef(null),[f,p]=(0,c.i)({prop:o,defaultProp:a??!1,onChange:i,caller:e_});return(0,C.jsx)(eO,{scope:t,triggerId:(0,w.B)(),triggerRef:d,contentId:(0,w.B)(),open:f,onOpenChange:p,onOpenToggle:l.useCallback(()=>p(e=>!e),[p]),modal:s,children:(0,C.jsx)(W,{...u,open:f,onOpenChange:p,dir:n,modal:s,children:r})})};e$.displayName=e_;var eB="DropdownMenuTrigger",eU=l.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,a=eK(eB,r),l=eL(r);return(0,C.jsx)(z,{asChild:!0,...l,children:(0,C.jsx)(d.sG.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:(0,s.t)(t,a.triggerRef),onPointerDown:(0,i.mK)(e.onPointerDown,e=>{!n&&0===e.button&&!1===e.ctrlKey&&(a.onOpenToggle(),a.open||e.preventDefault())}),onKeyDown:(0,i.mK)(e.onKeyDown,e=>{!n&&(["Enter"," "].includes(e.key)&&a.onOpenToggle(),"ArrowDown"===e.key&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});eU.displayName=eB;var eG=e=>{let{__scopeDropdownMenu:t,...r}=e,n=eL(t);return(0,C.jsx)(Y,{...n,...r})};eG.displayName="DropdownMenuPortal";var eV="DropdownMenuContent",eW=l.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eK(eV,r),a=eL(r),s=l.useRef(!1);return(0,C.jsx)(ee,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...n,ref:t,onCloseAutoFocus:(0,i.mK)(e.onCloseAutoFocus,e=>{s.current||o.triggerRef.current?.focus(),s.current=!1,e.preventDefault()}),onInteractOutside:(0,i.mK)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;(!o.modal||n)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eW.displayName=eV,l.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eL(r);return(0,C.jsx)(ea,{...o,...n,ref:t})}).displayName="DropdownMenuGroup";var ez=l.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eL(r);return(0,C.jsx)(el,{...o,...n,ref:t})});ez.displayName="DropdownMenuLabel";var eq=l.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eL(r);return(0,C.jsx)(eu,{...o,...n,ref:t})});eq.displayName="DropdownMenuItem";var eH=l.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eL(r);return(0,C.jsx)(ed,{...o,...n,ref:t})});eH.displayName="DropdownMenuCheckboxItem",l.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eL(r);return(0,C.jsx)(eg,{...o,...n,ref:t})}).displayName="DropdownMenuRadioGroup",l.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eL(r);return(0,C.jsx)(ew,{...o,...n,ref:t})}).displayName="DropdownMenuRadioItem";var eX=l.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eL(r);return(0,C.jsx)(ex,{...o,...n,ref:t})});eX.displayName="DropdownMenuItemIndicator";var eY=l.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eL(r);return(0,C.jsx)(eC,{...o,...n,ref:t})});eY.displayName="DropdownMenuSeparator",l.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eL(r);return(0,C.jsx)(eE,{...o,...n,ref:t})}).displayName="DropdownMenuArrow",l.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eL(r);return(0,C.jsx)(eA,{...o,...n,ref:t})}).displayName="DropdownMenuSubTrigger",l.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=eL(r);return(0,C.jsx)(eD,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent";var eZ=e$,eJ=eU,eQ=eG,e0=eW,e1=ez,e5=eq,e2=eH,e3=eX,e4=eY},83478:(e,t,r)=>{r.d(t,{RG:()=>x,bL:()=>M,q7:()=>N});var n=r(12115),o=r(70379),a=r(64831),l=r(47527),i=r(68599),s=r(89971),u=r(99354),c=r(17347),d=r(98979),f=r(1933),p=r(95155),m="rovingFocusGroup.onEntryFocus",g={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[w,y,v]=(0,a.N)(h),[b,x]=(0,i.A)(h,[v]),[C,E]=b(h),S=n.forwardRef((e,t)=>(0,p.jsx)(w.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,p.jsx)(w.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,p.jsx)(k,{...e,ref:t})})}));S.displayName=h;var k=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:a,loop:i=!1,dir:s,currentTabStopId:w,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:b,onEntryFocus:x,preventScrollOnEntryFocus:E=!1,...S}=e,k=n.useRef(null),R=(0,l.s)(t,k),A=(0,f.jH)(s),[T,M]=(0,d.i)({prop:w,defaultProp:v??null,onChange:b,caller:h}),[N,j]=n.useState(!1),I=(0,c.c)(x),_=y(r),P=n.useRef(!1),[F,L]=n.useState(0);return n.useEffect(()=>{let e=k.current;if(e)return e.addEventListener(m,I),()=>e.removeEventListener(m,I)},[I]),(0,p.jsx)(C,{scope:r,orientation:a,dir:A,loop:i,currentTabStopId:T,onItemFocus:n.useCallback(e=>M(e),[M]),onItemShiftTab:n.useCallback(()=>j(!0),[]),onFocusableItemAdd:n.useCallback(()=>L(e=>e+1),[]),onFocusableItemRemove:n.useCallback(()=>L(e=>e-1),[]),children:(0,p.jsx)(u.sG.div,{tabIndex:N||0===F?-1:0,"data-orientation":a,...S,ref:R,style:{outline:"none",...e.style},onMouseDown:(0,o.mK)(e.onMouseDown,()=>{P.current=!0}),onFocus:(0,o.mK)(e.onFocus,e=>{let t=!P.current;if(e.target===e.currentTarget&&t&&!N){let t=new CustomEvent(m,g);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=_().filter(e=>e.focusable);D([e.find(e=>e.active),e.find(e=>e.id===T),...e].filter(Boolean).map(e=>e.ref.current),E)}}P.current=!1}),onBlur:(0,o.mK)(e.onBlur,()=>j(!1))})})}),R="RovingFocusGroupItem",A=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:a=!0,active:l=!1,tabStopId:i,children:c,...d}=e,f=(0,s.B)(),m=i||f,g=E(R,r),h=g.currentTabStopId===m,v=y(r),{onFocusableItemAdd:b,onFocusableItemRemove:x,currentTabStopId:C}=g;return n.useEffect(()=>{if(a)return b(),()=>x()},[a,b,x]),(0,p.jsx)(w.ItemSlot,{scope:r,id:m,focusable:a,active:l,children:(0,p.jsx)(u.sG.span,{tabIndex:h?0:-1,"data-orientation":g.orientation,...d,ref:t,onMouseDown:(0,o.mK)(e.onMouseDown,e=>{a?g.onItemFocus(m):e.preventDefault()}),onFocus:(0,o.mK)(e.onFocus,()=>g.onItemFocus(m)),onKeyDown:(0,o.mK)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void g.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let o=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(o))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(o)))return T[o]}(e,g.orientation,g.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let o=v().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)o.reverse();else if("prev"===t||"next"===t){var r,n;"prev"===t&&o.reverse();let a=o.indexOf(e.currentTarget);o=g.loop?(r=o,n=a+1,r.map((e,t)=>r[(n+t)%r.length])):o.slice(a+1)}setTimeout(()=>D(o))}}),children:"function"==typeof c?c({isCurrentTabStop:h,hasTabStop:null!=C}):c})})});A.displayName=R;var T={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}var M=S,N=A},98028:(e,t,r)=>{let n,o;r.d(t,{domToJpeg:()=>el,domToPng:()=>ei});let a="[modern-screenshot]",l="u">typeof window,i=l&&"Worker"in window,s=l&&"atob"in window,u=l&&"btoa"in window,c=l?window.navigator?.userAgent:"",d=c.includes("Chrome"),f=c.includes("AppleWebKit")&&!d,p=c.includes("Firefox"),m=e=>"CSSLayerBlockRule"===e.constructor.name,g=e=>1===e.nodeType,h=e=>g(e)&&void 0!==e.style&&"object"!=typeof e.className,w=e=>8===e.nodeType,y=e=>"SLOT"===e.tagName;function v(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(l&&e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i)||!l)return e;let r=b().implementation.createHTMLDocument(),n=r.createElement("base"),o=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(o),t&&(n.href=t),o.href=e,o.href}function b(e){return(e&&g(e)?e?.ownerDocument:e)??window.document}let x="http://www.w3.org/2000/svg",C=e=>{var t;return t="dataUrl",new Promise((r,n)=>{let o=new FileReader;o.onload=()=>r(o.result),o.onerror=()=>n(o.error),o.onabort=()=>n(Error(`Failed read blob to ${t}`)),o.readAsDataURL(e)})};function E(e,t){let r=b(t).createElement("img");return r.decoding="sync",r.loading="eager",r.src=e,r}function S(e,t){return new Promise(r=>{let{timeout:n,ownerDocument:o,onError:a,onWarn:l}=t??{},i="string"==typeof e?E(e,b(o)):e,s=null,u=null;function c(){r(i),s&&clearTimeout(s),u?.()}if(n&&(s=setTimeout(c,n)),"VIDEO"===i.tagName){let e=i.currentSrc||i.src;if(!e)return i.poster?S(i.poster,t).then(r):c();if(i.readyState>=2)return c();let n=t=>{l?.("Failed video load",e,t),a?.(t),c()};u=()=>{i.removeEventListener("loadeddata",c),i.removeEventListener("error",n)},i.addEventListener("loadeddata",c,{once:!0}),i.addEventListener("error",n,{once:!0})}else{let e="image"===i.tagName?i.href.baseVal:i.currentSrc||i.src;if(!e)return c();let t=async()=>{if("IMG"===i.tagName&&"decode"in i)try{await i.decode()}catch(t){l?.("Failed to decode image, trying to render anyway",i.dataset.originalSrc||e,t)}c()},r=t=>{l?.("Failed image load",i.dataset.originalSrc||e,t),c()};if("IMG"===i.tagName&&i.complete)return t();u=()=>{i.removeEventListener("load",t),i.removeEventListener("error",r)},i.addEventListener("load",t,{once:!0}),i.addEventListener("error",r,{once:!0})}})}async function k(e,t){h(e)&&("IMG"===e.tagName||"VIDEO"===e.tagName?await S(e,t):await Promise.all(["img","video"].flatMap(r=>Array.from(e.querySelectorAll(r)).map(e=>S(e,t)))))}let R=(o=0,()=>(o+=1,`u${`0000${(1679616*Math.random()|0).toString(36)}`.slice(-4)}${o}`));function A(e){return e?.split(",").map(e=>e.trim().replace(/"|'/g,"").toLowerCase()).filter(Boolean)}let T=0;async function D(e,t){return e&&"__CONTEXT__"in e?e:M(e,{...t,autoDestruct:!0})}async function M(e,t){let r,n,{scale:o=1,workerUrl:s,workerNumber:u=1}=t||{},c=!!t?.debug,d=t?.features??!0,f=e.ownerDocument??(l?window.document:void 0),p=e.ownerDocument?.defaultView??(l?window:void 0),m=new Map,h={width:0,height:0,quality:1,type:"image/png",scale:o,backgroundColor:null,style:null,filter:null,maximumCanvasSize:0,timeout:3e4,progress:null,debug:c,fetch:{requestInit:{cache:t?.fetch?.bypassingCache?"no-cache":"force-cache"},placeholderImage:"data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bypassingCache:!1,...t?.fetch},fetchFn:null,font:{},drawImageInterval:100,workerUrl:null,workerNumber:u,onCloneEachNode:null,onCloneNode:null,onEmbedNode:null,onCreateForeignObjectSvg:null,includeStyleProperties:null,autoDestruct:!1,...t,__CONTEXT__:!0,log:(r=`${a}[#${T}]`,T++,{time:e=>c&&console.time(`${r} ${e}`),timeEnd:e=>c&&console.timeEnd(`${r} ${e}`),warn:(...e)=>c&&((...e)=>console.warn(a,...e))(...e)}),node:e,ownerDocument:f,ownerWindow:p,dpi:1===o?null:96*o,svgStyleElement:N(f),svgDefsElement:f?.createElementNS(x,"defs"),svgStyles:new Map,defaultComputedStyles:new Map,workers:[...Array.from({length:i&&s&&u?u:0})].map(()=>{try{let e=new Worker(s);return e.onmessage=async e=>{let{url:t,result:r}=e.data;r?m.get(t)?.resolve?.(r):m.get(t)?.reject?.(Error(`Error receiving message from worker: ${t}`))},e.onmessageerror=e=>{let{url:t}=e.data;m.get(t)?.reject?.(Error(`Error receiving message from worker: ${t}`))},e}catch(e){return h.log.warn("Failed to new Worker",e),null}}).filter(Boolean),fontFamilies:new Map,fontCssTexts:new Map,acceptOfImage:`${[((n=f?.createElement?.("canvas"))&&(n.height=n.width=1),!!n&&"toDataURL"in n&&!!n.toDataURL("image/webp").includes("image/webp")&&"image/webp"),"image/svg+xml","image/*","*/*"].filter(Boolean).join(",")};q=0.8`,requests:m,drawImageCount:0,tasks:[],features:d,isEnable:e=>"restoreScrollPosition"===e?"boolean"!=typeof d&&(d[e]??!1):"boolean"==typeof d?d:d[e]??!0,shadowRoots:[]};h.log.time("wait until load"),await k(e,{timeout:h.timeout,onWarn:h.log.warn}),h.log.timeEnd("wait until load");let{width:w,height:y}=function(e,t){let{width:r,height:n}=t;if(g(e)&&(!r||!n)){let t=e.getBoundingClientRect();r=r||t.width||Number(e.getAttribute("width"))||0,n=n||t.height||Number(e.getAttribute("height"))||0}return{width:r,height:n}}(e,h);return h.width=w,h.height=y,h}function N(e){if(!e)return;let t=e.createElement("style"),r=t.ownerDocument.createTextNode(`
.______background-clip--text {
  background-clip: text;
  -webkit-background-clip: text;
}
`);return t.appendChild(r),t}async function j(e,t){let{log:r,timeout:n,drawImageCount:o,drawImageInterval:a}=t;r.time("image to canvas");let l=await S(e,{timeout:n,onWarn:t.log.warn}),{canvas:i,context2d:s}=function(e,t){let{width:r,height:n,scale:o,backgroundColor:a,maximumCanvasSize:l}=t,i=e.createElement("canvas");i.width=Math.floor(r*o),i.height=Math.floor(n*o),i.style.width=`${r}px`,i.style.height=`${n}px`,l&&(i.width>l||i.height>l)&&(i.width>l&&i.height>l?i.width>i.height?(i.height*=l/i.width,i.width=l):(i.width*=l/i.height,i.height=l):i.width>l?(i.height*=l/i.width,i.width=l):(i.width*=l/i.height,i.height=l));let s=i.getContext("2d");return s&&a&&(s.fillStyle=a,s.fillRect(0,0,i.width,i.height)),{canvas:i,context2d:s}}(e.ownerDocument,t),u=()=>{try{s?.drawImage(l,0,0,i.width,i.height)}catch(e){t.log.warn("Failed to drawImage",e)}};if(u(),t.isEnable("fixSvgXmlDecode"))for(let e=0;e<o;e++)await new Promise(t=>{setTimeout(()=>{s?.clearRect(0,0,i.width,i.height),u(),t()},e+a)});return t.drawImageCount=0,r.timeEnd("image to canvas"),i}function I(e,t){if(e.ownerDocument)try{let t=e.toDataURL();if("data:,"!==t)return E(t,e.ownerDocument)}catch(e){t.log.warn("Failed to clone canvas",e)}let r=e.cloneNode(!1),n=e.getContext("2d"),o=r.getContext("2d");try{n&&o&&o.putImageData(n.getImageData(0,0,e.width,e.height),0,0)}catch(e){t.log.warn("Failed to clone canvas",e)}return r}async function _(e,t){if(e.ownerDocument&&!e.currentSrc&&e.poster)return E(e.poster,e.ownerDocument);let r=e.cloneNode(!1);r.crossOrigin="anonymous",e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc);let n=r.ownerDocument;if(n){let o=!0;if(await S(r,{onError:()=>o=!1,onWarn:t.log.warn}),!o)return e.poster?E(e.poster,e.ownerDocument):r;r.currentTime=e.currentTime,await new Promise(e=>{r.addEventListener("seeked",e,{once:!0})});let a=n.createElement("canvas");a.width=e.offsetWidth,a.height=e.offsetHeight;try{let e=a.getContext("2d");e&&e.drawImage(r,0,0,a.width,a.height)}catch(n){if(t.log.warn("Failed to clone video",n),e.poster)return E(e.poster,e.ownerDocument);return r}return I(a,t)}return r}let P=["width","height","-webkit-text-fill-color"],F=["stroke","fill"];function L(e,t,r){let n,o,{defaultComputedStyles:a}=r,l=e.nodeName.toLowerCase(),i="object"==typeof e.className&&"svg"!==l,s=i?F.map(t=>[t,e.getAttribute(t)]).filter(([,e])=>null!==e):[],u=[i&&"svg",l,s.map((e,t)=>`${e}=${t}`).join(","),t].filter(Boolean).join(":");if(a.has(u))return a.get(u);let c=function(e){let t=e.sandbox;if(!t){let{ownerDocument:r}=e;try{r&&((t=r.createElement("iframe")).id=`__SANDBOX__${R()}`,t.width="0",t.height="0",t.style.visibility="hidden",t.style.position="fixed",r.body.appendChild(t),t.srcdoc='<!DOCTYPE html><meta charset="UTF-8"><title></title><body>',e.sandbox=t)}catch(t){e.log.warn("Failed to getSandBox",t)}}return t}(r),d=c?.contentWindow;if(!d)return new Map;let f=d?.document;i?(o=(n=f.createElementNS(x,"svg")).ownerDocument.createElementNS(n.namespaceURI,l),s.forEach(([e,t])=>{o.setAttributeNS(null,e,t)}),n.appendChild(o)):n=o=f.createElement(l),o.textContent=" ",f.body.appendChild(n);let p=d.getComputedStyle(o,t),m=new Map;for(let e=p.length,t=0;t<e;t++){let e=p.item(t);P.includes(e)||m.set(e,p.getPropertyValue(e))}return f.body.removeChild(n),a.set(u,m),m}function O(e,t,r){let n=new Map,o=[],a=new Map;if(r)for(let e of r)l(e);else for(let t=e.length,r=0;r<t;r++)l(e.item(r));for(let e=o.length,t=0;t<e;t++)a.get(o[t])?.forEach((e,t)=>n.set(t,e));function l(r){let l=e.getPropertyValue(r),i=e.getPropertyPriority(r),s=r.lastIndexOf("-"),u=s>-1?r.substring(0,s):void 0;if(u){let e=a.get(u);e||(e=new Map,a.set(u,e)),e.set(r,[l,i])}(t.get(r)!==l||i)&&(u?o.push(u):n.set(r,[l,i]))}return n}let K=["::before","::after"],$=["::-webkit-scrollbar","::-webkit-scrollbar-button","::-webkit-scrollbar-thumb","::-webkit-scrollbar-track","::-webkit-scrollbar-track-piece","::-webkit-scrollbar-corner","::-webkit-resizer"],B=new Set(["symbol"]);async function U(e,t,r,n,o){if(g(r)&&("STYLE"===r.tagName||"SCRIPT"===r.tagName)||n.filter&&!n.filter(r))return;B.has(t.nodeName)||B.has(r.nodeName)?n.currentParentNodeStyle=void 0:n.currentParentNodeStyle=n.currentNodeStyle;let a=await W(r,n,!1,o);n.isEnable("restoreScrollPosition")&&function(e,t){if(!h(e)||!h(t))return;let{scrollTop:r,scrollLeft:n}=e;if(!r&&!n)return;let{transform:o}=t.style,a=new DOMMatrix(o),{a:l,b:i,c:s,d:u}=a;a.a=1,a.b=0,a.c=0,a.d=1,a.translateSelf(-n,-r),a.a=l,a.b=i,a.c=s,a.d=u,t.style.transform=a.toString()}(e,a),t.appendChild(a)}async function G(e,t,r,n){let o=e.firstChild;g(e)&&e.shadowRoot&&(o=e.shadowRoot?.firstChild,r.shadowRoots.push(e.shadowRoot));for(let a=o;a;a=a.nextSibling)if(!w(a))if(g(a)&&y(a)&&"function"==typeof a.assignedNodes){let o=a.assignedNodes();for(let a=0;a<o.length;a++)await U(e,t,o[a],r,n)}else await U(e,t,a,r,n)}let V=/^[\w-:]+$/;async function W(e,t,r=!1,n){let{ownerDocument:o,ownerWindow:a,fontFamilies:l,onCloneEachNode:i}=t;if(o&&3===e.nodeType)return n&&/\S/.test(e.data)&&n(e.data),o.createTextNode(e.data);if(o&&a&&g(e)&&(h(e)||"object"==typeof e.className)){let n=await function(e,t){if("CANVAS"===e.tagName)return I(e,t);if("IFRAME"===e.tagName){try{if(e?.contentDocument?.body)return W(e.contentDocument.body,t)}catch(e){t.log.warn("Failed to clone iframe",e)}return e.cloneNode(!1)}if("IMG"===e.tagName){let t;return t=e.cloneNode(!1),e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager"),t}return"VIDEO"===e.tagName?_(e,t):e.cloneNode(!1)}(e,t);if(t.isEnable("removeAbnormalAttributes")){let e=n.getAttributeNames();for(let t=e.length,r=0;r<t;r++){let t=e[r];V.test(t)||n.removeAttribute(t)}}let o=t.currentNodeStyle=function(e,t,r,n){let{ownerWindow:o,includeStyleProperties:a,currentParentNodeStyle:l}=n,i=t.style,s=o.getComputedStyle(e),u=L(e,null,n);l?.forEach((e,t)=>{u.delete(t)});let c=O(s,u,a);c.delete("transition-property"),c.delete("all"),c.delete("d"),c.delete("content"),r&&(c.delete("margin-top"),c.delete("margin-right"),c.delete("margin-bottom"),c.delete("margin-left"),c.delete("margin-block-start"),c.delete("margin-block-end"),c.delete("margin-inline-start"),c.delete("margin-inline-end"),c.set("box-sizing",["border-box",""])),c.get("background-clip")?.[0]==="text"&&t.classList.add("______background-clip--text"),d&&(c.has("font-kerning")||c.set("font-kerning",["normal",""]),(c.get("overflow-x")?.[0]==="hidden"||c.get("overflow-y")?.[0]==="hidden")&&c.get("text-overflow")?.[0]==="ellipsis"&&e.scrollWidth===e.clientWidth&&c.set("text-overflow",["clip",""]));for(let e=i.length,t=0;t<e;t++)i.removeProperty(i.item(t));return c.forEach(([e,t],r)=>{i.setProperty(r,e,t)}),c}(e,n,r,t);r&&function(e,t){let{backgroundColor:r,width:n,height:o,style:a}=t,l=e.style;if(r&&l.setProperty("background-color",r,"important"),n&&l.setProperty("width",`${n}px`,"important"),o&&l.setProperty("height",`${o}px`,"important"),a)for(let e in a)l[e]=a[e]}(n,t);let a=!1;if(t.isEnable("copyScrollbar")){let t=[o.get("overflow-x")?.[0],o.get("overflow-y")?.[0]];a=t.includes("scroll")||(t.includes("auto")||t.includes("overlay"))&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}let s=o.get("text-transform")?.[0],u=A(o.get("font-family")?.[0]),c=u?e=>{"uppercase"===s?e=e.toUpperCase():"lowercase"===s?e=e.toLowerCase():"capitalize"===s&&(e=e[0].toUpperCase()+e.substring(1)),u.forEach(t=>{let r=l.get(t);r||l.set(t,r=new Set),e.split("").forEach(e=>r.add(e))})}:void 0;return!function(e,t,r,n,o){let{ownerWindow:a,svgStyleElement:l,svgStyles:i,currentNodeStyle:s}=n;function u(r){let l=a.getComputedStyle(e,r),u=l.getPropertyValue("content");if(!u||"none"===u)return;o?.(u),u=u.replace(/(')|(")|(counter\(.+\))/g,"");let c=[R()],d=L(e,r,n);s?.forEach((e,t)=>{d.delete(t)});let f=O(l,d,n.includeStyleProperties);f.delete("content"),f.delete("-webkit-locale"),f.get("background-clip")?.[0]==="text"&&t.classList.add("______background-clip--text");let p=[`content: '${u}';`];if(f.forEach(([e,t],r)=>{p.push(`${r}: ${e}${t?" !important":""};`)}),1===p.length)return;try{t.className=[t.className,...c].join(" ")}catch(e){n.log.warn("Failed to copyPseudoClass",e);return}let m=p.join("\n  "),g=i.get(m);g||(g=[],i.set(m,g)),g.push(`.${c[0]}${r}`)}l&&a&&(K.forEach(u),r&&$.forEach(u))}(e,n,a,t,c),("TEXTAREA"===e.tagName||"INPUT"===e.tagName||"SELECT"===e.tagName)&&n.setAttribute("value",e.value),"VIDEO"!==e.tagName&&await G(e,n,t,c),await i?.(n),n}let s=e.cloneNode(!1);return await G(e,s,t),await i?.(s),s}function z(e,t){let{url:r,requestType:n="text",responseType:o="text",imageDom:a}=t,l=r,{timeout:i,acceptOfImage:s,requests:u,fetchFn:c,fetch:{requestInit:d,bypassingCache:m,placeholderImage:g},font:h,workers:w,fontFamilies:y}=e;"image"===n&&(f||p)&&e.drawImageCount++;let v=u.get(r);if(!v){m&&m instanceof RegExp&&m.test(l)&&(l+=(/\?/.test(l)?"&":"?")+new Date().getTime());let t=n.startsWith("font")&&h&&h.minify,p=new Set;t&&n.split(";")[1].split(",").forEach(e=>{y.has(e)&&y.get(e).forEach(e=>p.add(e))});let b=t&&p.size,x={url:l,timeout:i,responseType:b?"arrayBuffer":o,headers:"image"===n?{accept:s}:void 0,...d};(v={type:n,resolve:void 0,reject:void 0,response:null}).response=(async()=>{if(c&&"image"===n){let e=await c(r);if(e)return e}return!f&&r.startsWith("http")&&w.length?new Promise((e,t)=>{w[u.size&w.length-1].postMessage({rawUrl:r,...x}),v.resolve=e,v.reject=t}):function(e){let{url:t,timeout:r,responseType:n,...o}=e,a=new AbortController,l=r?setTimeout(()=>a.abort(),r):void 0;return fetch(t,{signal:a.signal,...o}).then(e=>{if(!e.ok)throw Error("Failed fetch, not 2xx response",{cause:e});switch(n){case"arrayBuffer":return e.arrayBuffer();case"dataUrl":return e.blob().then(C);default:return e.text()}}).finally(()=>clearTimeout(l))}(x)})().catch(t=>{if(u.delete(r),"image"===n&&g)return e.log.warn("Failed to fetch image base64, trying to use placeholder image",l),"string"==typeof g?g:g(a);throw t}),u.set(r,v)}return v.response}async function q(e,t,r,n){var o,a;let l;if(!H(e))return e;for(let[i,s]of(o=e,a=t,l=[],o.replace(X,(e,t,r)=>(l.push([r,v(r,a)]),e)),l.filter(([e])=>!e.startsWith("data:"))))try{let t=await z(r,{url:s,requestType:n?"image":"text",responseType:"dataUrl"});e=e.replace(function(e){let t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(i),`$1${t}$3`)}catch(e){r.log.warn("Failed to fetch css data url",i,e)}return e}function H(e){return/url\((['"]?)([^'"]+?)\1\)/.test(e)}let X=/url\((['"]?)([^'"]+?)\1\)/g,Y=["background-image","border-image-source","-webkit-border-image","-webkit-mask-image","list-style-image"];async function Z(e,t){let{ownerDocument:r,svgStyleElement:n,fontFamilies:o,fontCssTexts:a,tasks:l,font:i}=t;if(r&&n&&o.size)if(i&&i.cssText){let e=er(i.cssText,t);n.appendChild(r.createTextNode(`${e}
`))}else{let e=Array.from(r.styleSheets).filter(e=>{try{return"cssRules"in e&&!!e.cssRules.length}catch(r){return t.log.warn(`Error while reading CSS rules from ${e.href}`,r),!1}});await Promise.all(e.flatMap(e=>Array.from(e.cssRules).map(async(r,n)=>{if("CSSImportRule"===r.constructor.name){let o=n+1,a=r.href,l="";try{l=await z(t,{url:a,requestType:"text",responseType:"text"})}catch(e){t.log.warn(`Error fetch remote css import from ${a}`,e)}for(let r of function(e){if(null==e)return[];let t=[],r=e.replace(J,"");for(;;){let e=Q.exec(r);if(!e)break;t.push(e[0])}r=r.replace(Q,"");let n=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=n.exec(r);if(e)o.lastIndex=n.lastIndex;else if(e=o.exec(r))n.lastIndex=o.lastIndex;else break;t.push(e[0])}return t}(l.replace(X,(e,t,r)=>e.replace(r,v(r,a)))))try{e.insertRule(r,r.startsWith("@import")?o+=1:e.cssRules.length)}catch(e){t.log.warn("Error inserting rule from remote css import",{rule:r,error:e})}}})));let i=[];e.forEach(e=>{!function e(t,r=[]){for(let n of Array.from(t))m(n)?r.push(...e(n.cssRules)):"cssRules"in n?e(n.cssRules,r):r.push(n);return r}(e.cssRules,i)}),i.filter(e=>"CSSFontFaceRule"===e.constructor.name&&H(e.style.getPropertyValue("src"))&&A(e.style.getPropertyValue("font-family"))?.some(e=>o.has(e))).forEach(e=>{let o=a.get(e.cssText);o?n.appendChild(r.createTextNode(`${o}
`)):l.push(q(e.cssText,e.parentStyleSheet?e.parentStyleSheet.href:null,t).then(o=>{o=er(o,t),a.set(e.cssText,o),n.appendChild(r.createTextNode(`${o}
`))}))})}}let J=/(\/\*[\s\S]*?\*\/)/g,Q=/((@.*?keyframes [\s\S]*?){([\s\S]*?}\s*?)})/gi,ee=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,et=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function er(e,t){let{font:r}=t,n=r?r?.preferredFormat:void 0;return n?e.replace(et,e=>{for(;;){let[t,,r]=ee.exec(e)||[];if(!r)return"";if(r===n)return`src: ${t};`}}):e}async function en(e,t){let r=await D(e,t);if(g(r.node)&&"object"==typeof r.node.className)return r.node;let{ownerDocument:n,log:o,tasks:a,svgStyleElement:l,svgDefsElement:i,svgStyles:s,font:u,progress:c,autoDestruct:d,onCloneNode:m,onEmbedNode:w,onCreateForeignObjectSvg:y}=r;o.time("clone node");let v=await W(r.node,r,!0);if(l&&n){let e="";s.forEach((t,r)=>{e+=`${t.join(",\n")} {
  ${r}
}
`}),l.appendChild(n.createTextNode(e))}o.timeEnd("clone node"),await m?.(v),!1!==u&&g(v)&&(o.time("embed web font"),await Z(v,r),o.timeEnd("embed web font")),o.time("embed node"),function e(t,r){var n;let{tasks:o}=r;g(t)&&(("IMG"===t.tagName||"image"===t.tagName)&&o.push(...function(e,t){if("IMG"===e.tagName){let r=e.currentSrc||e.src;if(!r.startsWith("data:"))return[z(t,{url:r,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(t=>{t&&(e.srcset="",e.dataset.originalSrc=r,e.src=t||"")})];(f||p)&&t.drawImageCount++}else if("object"==typeof e.className&&!e.href.baseVal.startsWith("data:")){let r=e.href.baseVal;return[z(t,{url:r,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(t=>{t&&(e.dataset.originalSrc=r,e.href.baseVal=t||"")})]}return[]}(t,r)),"use"===t.tagName&&o.push(...function(e,t){let{ownerDocument:r,svgDefsElement:n}=t,o=e.getAttribute("href")??e.getAttribute("xlink:href");if(!o)return[];let[a,l]=o.split("#");if(l){let o=`#${l}`,i=t.shadowRoots.reduce((e,t)=>e??t.querySelector(`svg ${o}`),r?.querySelector(`svg ${o}`));if(a&&e.setAttribute("href",o),n?.querySelector(o))return[];if(i)n?.appendChild(i.cloneNode(!0));else if(a)return[z(t,{url:a,responseType:"text"}).then(e=>{n?.insertAdjacentHTML("beforeend",e)})]}return[]}(t,r))),h(t)&&o.push(...(n=t.style,Y.map(e=>{let t=n.getPropertyValue(e);return t&&"none"!==t?((f||p)&&r.drawImageCount++,q(t,null,r,!0).then(r=>{r&&t!==r&&n.setProperty(e,r,n.getPropertyPriority(e))})):null}).filter(Boolean))),t.childNodes.forEach(t=>{e(t,r)})}(v,r);let C=a.length,E=0,S=async()=>{for(;;){let e=a.pop();if(!e)break;try{await e}catch(e){r.log.warn("Failed to run task",e)}c?.(++E,C)}};c?.(E,C),await Promise.all([...Array.from({length:4})].map(S)),o.timeEnd("embed node"),await w?.(v);let k=function(e,t){let r,{width:n,height:o}=t,a=((r=b(e.ownerDocument).createElementNS(x,"svg")).setAttributeNS(null,"width",n.toString()),r.setAttributeNS(null,"height",o.toString()),r.setAttributeNS(null,"viewBox",`0 0 ${n} ${o}`),r),l=a.ownerDocument.createElementNS(a.namespaceURI,"foreignObject");return l.setAttributeNS(null,"x","0%"),l.setAttributeNS(null,"y","0%"),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.append(e),a.appendChild(l),a}(v,r);return i&&k.insertBefore(i,k.children[0]),l&&k.insertBefore(l,k.children[0]),d&&function(e){if(e.ownerDocument=void 0,e.ownerWindow=void 0,e.svgStyleElement=void 0,e.svgDefsElement=void 0,e.svgStyles.clear(),e.defaultComputedStyles.clear(),e.sandbox){try{e.sandbox.remove()}catch(t){e.log.warn("Failed to destroyContext",t)}e.sandbox=void 0}e.workers=[],e.fontFamilies.clear(),e.fontCssTexts.clear(),e.requests.clear(),e.tasks=[],e.shadowRoots=[]}(r),await y?.(k),k}async function eo(e,t){var r;let n,o=await D(e,t),a=await en(o),l=(r=o.isEnable("removeControlCharacter"),n=new XMLSerializer().serializeToString(a),r&&(n=n.replace(/[\u0000-\u0008\v\f\u000E-\u001F\uD800-\uDFFF\uFFFE\uFFFF]/gu,"")),`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`);o.autoDestruct||(o.svgStyleElement=N(o.ownerDocument),o.svgDefsElement=o.ownerDocument?.createElementNS(x,"defs"),o.svgStyles.clear());let i=E(l,a.ownerDocument);return await j(i,o)}async function ea(e,t){let r=await D(e,t),{log:o,quality:a,type:l,dpi:i}=r,c=await eo(r);o.time("canvas to data url");let d=c.toDataURL(l,a);if(["image/png","image/jpeg"].includes(l)&&i&&s&&u){let[e,t]=d.split(","),r=0,o=!1;if("image/png"===l){let e,n=(-1===(e=t.indexOf("AAlwSFlz"))&&(e=t.indexOf("AAAJcEhZ")),-1===e&&(e=t.indexOf("AAAACXBI")),e);n>=0?(r=4*Math.ceil((n+28)/3),o=!0):r=44}else"image/jpeg"===l&&(r=24);let a=t.substring(0,r),s=t.substring(r),u=window.atob(a),c=new Uint8Array(u.length);for(let e=0;e<c.length;e++)c[e]=u.charCodeAt(e);let f="image/png"===l?function(e,t,r=!1){let o=new Uint8Array(13);t*=39.3701,o[0]=112,o[1]=72,o[2]=89,o[3]=115,o[4]=t>>>24,o[5]=t>>>16,o[6]=t>>>8,o[7]=255&t,o[8]=o[4],o[9]=o[5],o[10]=o[6],o[11]=o[7],o[12]=1;let a=function(e){let t=-1;n||(n=function(){let e=new Int32Array(256);for(let t=0;t<256;t++){let r=t;for(let e=0;e<8;e++)r=1&r?0xedb88320^r>>>1:r>>>1;e[t]=r}return e}());for(let r=0;r<e.length;r++)t=n[(t^e[r])&255]^t>>>8;return -1^t}(o),l=new Uint8Array(4);if(l[0]=a>>>24,l[1]=a>>>16,l[2]=a>>>8,l[3]=255&a,r){let t=function(e){let t=e.length-1;for(let r=t;r>=4;r--)if(9===e[r-4]&&112===e[r-3]&&72===e[r-2]&&89===e[r-1]&&115===e[r])return r-3;return 0}(e);return e.set(o,t),e.set(l,t+13),e}{let t=new Uint8Array(4);t[0]=0,t[1]=0,t[2]=0,t[3]=9;let r=new Uint8Array(54);return r.set(e,0),r.set(t,33),r.set(o,37),r.set(l,50),r}}(c,i,o):(c[13]=1,c[14]=i>>8,c[15]=255&i,c[16]=i>>8,c[17]=255&i,c);d=e+","+window.btoa(String.fromCharCode(...f))+s}return o.timeEnd("canvas to data url"),d}async function el(e,t){return ea(await D(e,{...t,type:"image/jpeg"}))}async function ei(e,t){return ea(await D(e,{...t,type:"image/png"}))}}}]);