"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9108],{39734:(e,t,r)=>{r.d(t,{g:()=>o});var a=r(12115),i=r(27529),s=r(88743),c=r(55873),n=r(98883);function l(e,t){let r=(e.length-1)*t,a=Math.floor(r);return void 0!==e[a+1]?parseFloat((e[a]+(r-a)*(e[a+1]-e[a])).toFixed(2)):parseFloat(e[a].toFixed(2))}function o(){let e=(0,s.P)(),[t,r]=(0,a.useState)(!1),[o,m]=(0,a.useState)(null),d=(0,a.useCallback)(async()=>{r(!0),m(null),e.setAnalysisData(null);try{let o=e.counties.map(e=>c.WG[e]||e);if(0===o.length){m("請至少選擇一個縣市"),r(!1);return}let{dateRange:d,startDate:u,endDate:x}=e;if("custom"!==d&&(!u||!x)){let e=(0,n.P)(d);e.startDate&&e.endDate&&(u=e.startDate,x=e.endDate)}let p={districts:e.districts,transactionType:e.transactionType,type:e.transactionType,projectNames:e.projectNames,buildingType:e.buildingType,excludeCommercial:e.excludeCommercial,floorPremium:e.floorPremium,dateRange:d,dateStart:u,dateEnd:x};console.log("[useAnalysisData] Analyzing with counties:",o);let h=o.map(e=>{let t={...p,countyCode:e,counties:[e]};return i.FH.analyzeProjectRanking(t).catch(t=>(console.error(`Failed to fetch data for ${e}:`,t),null))}),f=await Promise.all(h),y=null,P=0;for(let e of f)if(e&&e.projectRanking&&e.coreMetrics){var t,a,s;console.log("Merging result for county:",e.projectRanking?.[0]?.county),t=y,y=e?t?(e.transactionDetails&&Array.isArray(e.transactionDetails)&&(t.transactionDetails||(t.transactionDetails=[]),t.transactionDetails=[...t.transactionDetails,...e.transactionDetails]),t.coreMetrics=function(e,t){if(!t)return e;if(!e)return t;let r=(e.totalSaleAmount||0)+(t.totalSaleAmount||0),a=(e.totalHouseArea||0)+(t.totalHouseArea||0),i=(e.transactionCount||0)+(t.transactionCount||0);return{totalSaleAmount:r,totalHouseArea:a,overallAveragePrice:a>0?r/a:0,transactionCount:i,medianPrice:0,q1Price:0,q3Price:0,minPrice:Math.min(e.minPrice||1/0,t.minPrice||1/0),maxPrice:Math.max(e.maxPrice||0,t.maxPrice||0)}}(t.coreMetrics,e.coreMetrics),e.projectRanking&&Array.isArray(e.projectRanking)&&(t.projectRanking=[...t.projectRanking,...e.projectRanking]),t.priceBandAnalysis=function(e,t){if(!t)return e;let r=Array.isArray(e)?e:e?.details||[],a=Array.isArray(t)?t:t?.details||[],i=e?.locationCrossTable||{},s=t?.locationCrossTable||{},c=e?.allDistricts||[],n=t?.allDistricts||[],l=e?.allRoomTypes||[],o=t?.allRoomTypes||[],m=new Map,d=e=>{let t=null!==e.bathrooms&&void 0!==e.bathrooms?String(e.bathrooms):"null",r=(e.roomType||"").replace(/\s+/g,""),a=`${r}-${t}`,i=Number(e.count)||0,s=Number(e.avgPrice)||0,c=Number(e.minPrice)||0,n=Number(e.maxPrice)||0;if(m.has(a)){let t=m.get(a),r=Number(t.count)||0,l=Number(t.avgPrice)||0,o=s*i,d=r+i,u=d>0?(l*r+o)/d:0;if(t.count=d,t.avgPrice=parseFloat(u.toFixed(2)),t.minPrice=Math.min(t.minPrice,c),t.maxPrice=Math.max(t.maxPrice,n),e.projectNames){let r=new Set([...t.projectNames,...e.projectNames]);t.projectNames=Array.from(r)}e.byDistrict&&Object.entries(e.byDistrict).forEach(([e,r])=>{t.byDistrict[e]=(t.byDistrict[e]||0)+r})}else m.set(a,{...e,roomType:r,count:i,avgPrice:s,minPrice:c,maxPrice:n,projectNames:e.projectNames?[...e.projectNames]:[],byDistrict:e.byDistrict?{...e.byDistrict}:{}})};r.forEach(d),a.forEach(d);let u={...i};Object.entries(s).forEach(([e,t])=>{u[e]?Object.entries(t).forEach(([t,r])=>{u[e][t]=(u[e][t]||0)+r}):u[e]={...t}});let x=Array.from(new Set([...c,...n])).sort(),p=Array.from(new Set([...l,...o])).sort();return{details:Array.from(m.values()),locationCrossTable:u,allDistricts:x,allRoomTypes:p}}(t.priceBandAnalysis,e.priceBandAnalysis),t.unitPriceAnalysis=function(e,t){if(!t)return e;let r=(e,t)=>{if(!t)return e;if(!e)return t;let r=(e.count||0)+(t.count||0);if(0===r)return e;let a={arithmetic:0,weighted:0},i=(e,t)=>"number"==typeof e.avgPrice?e.weightedAvgPrice||e.avgPrice:e.avgPrice?.[t]||0;["arithmetic","weighted"].forEach(s=>{let c=i(e,s),n=i(t,s);a[s]=(c*(e.count||0)+n*(t.count||0))/r});let s=Math.min(e.minPrice,t.minPrice),c=Math.max(e.maxPrice,t.maxPrice),n=e.minPrice<t.minPrice?e.minPriceProject:t.minPriceProject;return{count:r,avgPrice:a,minPrice:s,maxPrice:c,minPriceProject:n,maxPriceProject:e.maxPrice>t.maxPrice?e.maxPriceProject:t.maxPriceProject,medianPrice:0,q1Price:0,q3Price:0}},a=r(e.residentialStats,t.residentialStats),i=r(e.officeStats,t.officeStats),s=r(e.storeStats,t.storeStats),c=[...e.typeComparison||[]];return t.typeComparison&&(c=[...c,...t.typeComparison]),{residentialStats:a,officeStats:i,storeStats:s,typeComparison:c}}(t.unitPriceAnalysis,e.unitPriceAnalysis),t.transactionDetails&&t.transactionDetails.length>0&&function(e,t){if(!e||!t||0===t.length)return;let r=[],a={price:0,area:0,count:0},i=[],s={price:0,area:0,count:0},c=[],n={price:0,area:0,count:0},o=()=>({minPrice:1/0,maxPrice:-1/0,minRecord:null,maxRecord:null}),m=o(),d=o(),u=o();t.forEach(e=>{let t=e["建物型態"],l=e["主要用途"],o=e["房屋單價(萬)"],x=e["房屋總價(萬)"]||0,p=e["建物移轉總面積"]||0;if("number"!=typeof o||o<=0)return;let h=r,f=a,y=m;t?.includes("店")||"商業用"===l||e["備註"]?.includes("店")?(h=c,f=n,y=u):(t?.includes("辦公")||t?.includes("廠辦")||t?.includes("事務所")||l?.includes("辦公"))&&(h=i,f=s,y=d),h.push(o),f.price+=x,f.area+=p,f.count+=1,o>y.maxPrice&&(y.maxPrice=o,y.maxRecord=e),o<y.minPrice&&(y.minPrice=o,y.minRecord=e)});let x=(e,t,r,a)=>{e&&(function(e,t){if(!t||0===t.length){e.medianPrice=0,e.q1Price=0,e.q3Price=0;return}t.sort((e,t)=>e-t),e.medianPrice=l(t,.5),e.q1Price=l(t,.25),e.q3Price=l(t,.75)}(e,t),e.count=r.count,e.avgPrice=r.count>0?t.reduce((e,t)=>e+t,0)/r.count:0,e.weightedAvgPrice=r.area>0?r.price/r.area:0,a.maxRecord&&(e.maxPrice=a.maxPrice,e.maxPriceProject=a.maxRecord["建案名稱"],e.maxPriceUnit=a.maxRecord["戶型"]||a.maxRecord["戶別"],e.maxPriceFloor=a.maxRecord["樓層"]),a.minRecord&&(e.minPrice=a.minPrice,e.minPriceProject=a.minRecord["建案名稱"],e.minPriceUnit=a.minRecord["戶型"]||a.minRecord["戶別"],e.minPriceFloor=a.minRecord["樓層"]))};e.residentialStats&&x(e.residentialStats,r,a,m),e.officeStats&&x(e.officeStats,i,s,d),e.storeStats&&x(e.storeStats,c,n,u);let p=new Map;t.forEach(e=>{let t=e["建案名稱"];if(!t)return;p.has(t)||p.set(t,{resSum:{price:0,area:0,count:0},shopSum:{price:0,area:0,count:0},officeSum:{price:0,area:0,count:0},county:e["縣市"],district:e["行政區"]});let r=p.get(t),a=e["建物型態"],i=e["主要用途"],s=e["房屋單價(萬)"],c=e["房屋總價(萬)"]||0,n=e["建物移轉總面積"]||0;"number"!=typeof s||s<=0||(a?.includes("店")||"商業用"===i||e["備註"]?.includes("店")?(r.shopSum.price+=c,r.shopSum.area+=n,r.shopSum.count+=1):a?.includes("辦公")||a?.includes("廠辦")||a?.includes("事務所")||i?.includes("辦公")?(r.officeSum.price+=c,r.officeSum.area+=n,r.officeSum.count+=1):(r.resSum.price+=c,r.resSum.area+=n,r.resSum.count+=1))});let h=[];p.forEach((e,t)=>{let r=e.resSum.area>0?e.resSum.price/e.resSum.area:0,a=e.shopSum.area>0?e.shopSum.price/e.shopSum.area:0,i=e.officeSum.area>0?e.officeSum.price/e.officeSum.area:0;r>0&&(a>0||i>0)&&h.push({projectName:t,county:e.county,district:e.district,residentialAvg:r,shopAvg:a,officeAvg:i,shopMultiple:r>0?a/r:0,officeMultiple:r>0?i/r:0})}),h.sort((e,t)=>e.projectName.localeCompare(t.projectName))}(t.unitPriceAnalysis,t.transactionDetails),t.parkingAnalysis=function(e,t){if(!t)return e;let r=e.parkingRatio,a=t.parkingRatio,i=null;if(r&&a){let e=r.withParking.count,t=r.withoutParking.count,s=a.withParking.count,c=a.withoutParking.count,n=e+s,l=t+c,o=n+l;i={withParking:{count:n,percentage:o>0?n/o*100:0},withoutParking:{count:l,percentage:o>0?l/o*100:0}}}else i=r||a;let s=new Map,c=e=>{if(s.has(e.type)){let t=s.get(e.type),r=t.count+e.count,a=t.transactionCount+e.transactionCount,i=t.avgPrice,c=e.avgPrice,n=a>0?(i*t.transactionCount+c*e.transactionCount)/a:0;t.count=r,t.transactionCount=a,t.avgPrice=n}else s.set(e.type,{...e})};(e.avgPriceByType||[]).forEach(c),(t.avgPriceByType||[]).forEach(c);let n=Array.from(s.values()),l=new Map,o=e=>{if(l.has(e.floor)){let t=l.get(e.floor),r=t.count+e.count;e.rawRecords&&(t.rawRecords=[...t.rawRecords||[],...e.rawRecords]);let a=r>0?(t.avgPrice*t.count+e.avgPrice*e.count)/r:0;t.count=r,t.avgPrice=a,t.minPrice=Math.min(t.minPrice,e.minPrice),t.maxPrice=Math.max(t.maxPrice,e.maxPrice),e.maxPrice>t.maxPrice&&(t.maxPriceProject=e.maxPriceProject,t.maxPriceUnit=e.maxPriceUnit,t.maxPriceFloor=e.maxPriceFloor),e.minPrice<t.minPrice&&(t.minPriceProject=e.minPriceProject,t.minPriceUnit=e.minPriceUnit,t.minPriceFloor=e.minPriceFloor)}else l.set(e.floor,{...e,rawRecords:e.rawRecords?[...e.rawRecords]:[]})};return(e.rampPlanePriceByFloor||[]).forEach(o),(t.rampPlanePriceByFloor||[]).forEach(o),{parkingRatio:i,avgPriceByType:n,rampPlanePriceByFloor:Array.from(l.values())}}(t.parkingAnalysis,e.parkingAnalysis),t.salesVelocityAnalysis=function(e,t){if(!t)return e;let r=e.overall||{},a=t.overall||{},i=r.transactionCount||0,s=a.transactionCount||0,c=i+s,n={avgDaysToSell:0,medianDaysToSell:0,fastestSale:0,transactionCount:c};if(c>0){n.avgDaysToSell=((r.avgDaysToSell||0)*i+(a.avgDaysToSell||0)*s)/c;let e=void 0!==r.fastestSale?r.fastestSale:1/0;n.fastestSale=Math.min(e,void 0!==a.fastestSale?a.fastestSale:1/0),n.fastestSale===1/0&&(n.fastestSale=0),n.medianDaysToSell=((r.medianDaysToSell||0)*i+(a.medianDaysToSell||0)*s)/c}let l=new Map,o=e=>{if(!e)return;let t=e.roomType;if(l.has(t)){let r=l.get(t),a=r.count+e.count,i=r.avgDays||0,s=e.avgDays||0;r.avgDays=a>0?(i*r.count+s*e.count)/a:0,r.count=a}else l.set(t,{...e})};(e.byRoomType||[]).forEach(o),(t.byRoomType||[]).forEach(o);let m=Array.from(l.values()),d=Array.from(new Set([...e.allRoomTypes||[],...t.allRoomTypes||[]])),u={};return["monthly","quarterly","yearly","weekly"].forEach(r=>{let a=e[r]||{},i=t[r]||{},s={};new Set([...Object.keys(a),...Object.keys(i)]).forEach(e=>{let t=a[e]||{},r=i[e]||{},c=new Set([...Object.keys(t),...Object.keys(r)]),n={};c.forEach(e=>{let a=t[e],i=r[e];if(a&&i){let t=a.count+i.count,r=a.priceSum+i.priceSum,s=a.areaSum+i.areaSum;n[e]={count:t,priceSum:r,areaSum:s,avgPrice:s>0?r/s:0}}else a?n[e]={...a}:i&&(n[e]={...i})}),s[e]=n}),u[r]=s}),{overall:n,byRoomType:m,allRoomTypes:d,...u}}(t.salesVelocityAnalysis,e.salesVelocityAnalysis),a=t.priceGridAnalysis,t.priceGridAnalysis=(s=e.priceGridAnalysis)?{projectNames:[...a.projectNames||[],...s.projectNames||[]],byProject:{...a.byProject||{},...s.byProject||{}}}:a,t.areaDistributionAnalysis=function(e,t){if(!t)return e;if(!e)return t;let r={...e};return Object.keys(t).forEach(e=>{r[e]?r[e]=[...r[e],...t[e]]:r[e]=[...t[e]]}),r}(t.areaDistributionAnalysis,e.areaDistributionAnalysis),t):JSON.parse(JSON.stringify(e)):t,P++}if(console.log("Aggregation complete. Total Transaction Details:",y?.transactionDetails?.length),0===P){if(e.projectNames.length>0)throw Error("這段時間 這個建案查詢不到資料");throw Error("無法取得任何縣市的分析數據")}if(P<o.length){let e=o.length-P;m(`注意：有 ${e} 個縣市的資料載入失敗，分析結果可能不完整。`)}e.setAnalysisData(y)}catch(e){console.error("Analysis failed:",e),m(e.message||"無法取得分析數據，請稍後再試。")}finally{r(!1)}},[e]);return{loading:t,error:o,analysisData:e.analysisData,handleAnalyze:d,setError:m,setLoading:r,setAnalysisData:e.setAnalysisData}}},58822:(e,t,r)=>{r.d(t,{e:()=>c});var a=r(95155);r(12115);var i=r(9425),s=r(68500);function c({children:e}){return(0,a.jsxs)("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 flex",children:[(0,a.jsx)(i.Sidebar,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col lg:pl-20 min-w-0 transition-all duration-300",children:[(0,a.jsx)(s.Header,{}),(0,a.jsxs)("main",{className:"flex-1 p-4 md:p-6 lg:p-8",children:[(0,a.jsx)("div",{className:"container-custom py-6 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 min-h-[calc(100vh-12rem)]",children:e}),(0,a.jsxs)("footer",{className:"py-8 text-center border-t border-white/5 mt-8",children:[(0,a.jsx)("p",{className:"text-zinc-600 text-sm font-medium",children:"\xa9 2026 平米內參 sqmtalk.com. All rights reserved."}),(0,a.jsx)("a",{href:"mailto:sqmtalk7@gmail.com",className:"block mt-2 text-zinc-700 hover:text-cyan-500 text-xs transition-colors",children:"Contact: sqmtalk7@gmail.com"})]})]})]})]})}},93398:(e,t,r)=>{r.d(t,{t:()=>x});var a=r(95155),i=r(12115),s=r(47650),c=r(40980),n=r(41159),l=r(89974),o=r(43987),m=r(7810);let d=(e,t=0)=>e?.toLocaleString(void 0,{maximumFractionDigits:t}),u=({children:e,triggerRect:t,isTopRow:r})=>{if(!t)return null;let i={position:"fixed",left:t.left+t.width/2,transform:"translateX(-50%)",zIndex:9999};return r?i.top=t.bottom+8:i.bottom=window.innerHeight-t.top+8,(0,s.createPortal)((0,a.jsx)("div",{style:i,className:"pointer-events-none",children:e}),document.body)};function x({data:e,floorPremium:t=.3,showGrid:r=!0,showSummary:s=!0,showComparison:x=!0}){let{horizontalGrid:p,sortedFloors:h,sortedUnits:f,unitColorMap:y,summary:P,horizontalComparison:g}=e,[j,b]=(0,i.useState)(null),N=()=>{b(null)};return p&&h&&f?(0,a.jsxs)("div",{className:"space-y-8 overflow-x-auto relative",children:[j&&(0,a.jsx)(u,{triggerRect:j.rect,isTopRow:j.isTopRow,children:(0,a.jsx)("div",{className:"w-48 bg-zinc-900 border border-zinc-700 rounded-lg p-3 shadow-xl animate-in fade-in zoom-in-95 duration-200",children:(0,a.jsxs)("div",{className:"space-y-1",children:[0===j.data.premium&&(0,a.jsx)("div",{className:"text-cyan-400 font-bold mb-1",children:"★ 基準戶"}),null!==j.data.premium&&(0,a.jsxs)("div",{className:"text-zinc-300",children:["調價: ",(0,a.jsxs)("span",{className:(0,c.cn)(j.data.premium>0?"text-red-400":j.data.premium<0?"text-violet-400":"text-zinc-400"),children:[j.data.premium>0?"+":"",j.data.premium.toFixed(2),"%"]})]}),(0,a.jsx)("div",{className:"h-px bg-zinc-700 my-2"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-xs text-zinc-400",children:[(0,a.jsx)("span",{children:"成交總價:"})," ",(0,a.jsxs)("span",{className:"text-white text-right",children:[d(j.data.tooltipInfo.totalPrice),"萬"]}),(0,a.jsx)("span",{children:"房屋總價:"})," ",(0,a.jsxs)("span",{className:"text-white text-right",children:[d(j.data.tooltipInfo.housePrice),"萬"]}),(0,a.jsx)("span",{children:"車位總價:"})," ",(0,a.jsxs)("span",{className:"text-white text-right",children:[d(j.data.tooltipInfo.parkingPrice),"萬"]}),(0,a.jsx)("span",{children:"房屋面積:"})," ",(0,a.jsxs)("span",{className:"text-white text-right",children:[d(j.data.tooltipInfo.houseArea,2),"坪"]})]})]})})}),r&&(0,a.jsx)("div",{className:"min-w-max pb-32",children:(0,a.jsxs)("table",{className:"divide-y divide-zinc-800 border-collapse w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"sticky left-0 bg-dark-card z-20 p-2 text-zinc-400 border-r border-zinc-800",children:"樓層 \\ 戶別"}),f.map(e=>(0,a.jsx)("th",{className:"p-2 text-zinc-300 font-medium border-l border-zinc-800/50 bg-zinc-900/50",children:e},e))]})}),(0,a.jsx)("tbody",{className:"divide-y divide-zinc-800/50",children:h.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-zinc-800/30 transition-colors",children:[(0,a.jsx)("td",{className:"sticky left-0 bg-dark-card z-10 p-2 font-bold text-zinc-300 border-r border-zinc-800 text-center",children:e}),f.map(r=>{let i=p[e]?.[r];return i&&0!==i.length?(0,a.jsx)("td",{className:"p-1 border-l border-zinc-800/50 align-top",children:(0,a.jsx)("div",{className:"flex flex-col gap-1",children:i.map((e,r)=>{var i;let s=(i=e.premium,e.isStorefront?"rgba(217, 119, 6, 0.4)":e.isOffice?"rgba(37, 99, 235, 0.4)":null===i?"#1f2937":i<0?"rgba(139, 92, 246, 0.4)":0===i?"#06b6d4":i>5?"rgba(244, 63, 94, 0.5)":i>2?"rgba(234, 179, 8, 0.4)":"rgba(34, 197, 94, 0.3)"),d=e.isStorefront?{icon:(0,a.jsx)(n.A,{className:"w-3 h-3"}),label:"店舖"}:e.isOffice?{icon:(0,a.jsx)(l.A,{className:"w-3 h-3"}),label:"辦公"}:e.remark?.includes("露台")?{icon:(0,a.jsx)(o.A,{className:"w-3 h-3"}),label:"露台"}:e.remark?.includes("親友")||e.remark?.includes("員工")?{icon:(0,a.jsx)(m.A,{className:"w-3 h-3"}),label:"親友"}:null,u=0===e.premium,x=t<3;return(0,a.jsxs)("div",{className:(0,c.cn)("p-1.5 rounded text-xs transition-transform hover:scale-105 cursor-default relative group",u&&"ring-1 ring-cyan-500"),style:{backgroundColor:s},onMouseEnter:t=>{b({rect:t.currentTarget.getBoundingClientRect(),data:e,isTopRow:x})},onMouseLeave:N,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,a.jsxs)("span",{className:"font-semibold text-white flex items-center gap-1",children:[d&&(0,a.jsx)("span",{className:"text-zinc-200",title:d.label,children:d.icon}),e.unitPrice.toFixed(1),"萬"]}),e.hasParking&&(0,a.jsx)("span",{className:"flex items-center justify-center w-3.5 h-3.5 bg-blue-500 text-white text-[9px] font-bold rounded-sm ml-0.5",title:"含車位",children:"P"})]}),(0,a.jsx)("div",{className:"text-[10px] text-zinc-300 mt-0.5 font-mono tracking-tight opacity-90",children:e.transactionDate||"-"})]},r)})})},`${e}-${r}`):(0,a.jsx)("td",{className:"p-2 border-l border-zinc-800/50 bg-zinc-900/20 text-center text-zinc-600",children:"-"},`${e}-${r}`)})]},e))})]})}),s&&P&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-zinc-200",children:"調價幅度統計摘要 (排除店舖/辦公室)"}),(0,a.jsx)("div",{className:"overflow-x-auto rounded-lg border border-zinc-800",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left text-zinc-300",children:[(0,a.jsx)("thead",{className:"text-xs text-zinc-400 uppercase bg-zinc-900/50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3",children:"基準房屋總價"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"調價幅度總額"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"總溢價率"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"已售房屋坪數"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"平均單價調價"})]})}),(0,a.jsx)("tbody",{children:(0,a.jsxs)("tr",{className:"bg-zinc-900/20 border-b border-zinc-800",children:[(0,a.jsxs)("td",{className:"px-6 py-4",children:[d(P.totalBaselineHousePrice)," 萬"]}),(0,a.jsxs)("td",{className:(0,c.cn)("px-6 py-4 font-bold",P.totalPricePremiumValue>0?"text-red-400":"text-violet-400"),children:[P.totalPricePremiumValue>0?"+":"",d(P.totalPricePremiumValue)," 萬"]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(P.totalPricePremiumValue/P.totalBaselineHousePrice*100).toFixed(2)," %"]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[d(P.totalSoldArea)," 坪"]}),(0,a.jsxs)("td",{className:(0,c.cn)("px-6 py-4",P.totalPricePremiumValue>0?"text-red-400":"text-violet-400"),children:[(P.totalPricePremiumValue/P.totalSoldArea).toFixed(2)," 萬/坪"]})]})})]})})]}),x&&g&&g.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-zinc-200",children:"戶型水平價差與溢價貢獻"}),(0,a.jsx)("div",{className:"overflow-x-auto rounded-lg border border-zinc-800",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left text-zinc-300",children:[(0,a.jsx)("thead",{className:"text-xs text-zinc-400 uppercase bg-zinc-900/50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3",children:"戶型"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"基準戶 (樓/價)"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"水平價差(萬/坪)"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"去化戶數"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"溢價貢獻"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"貢獻佔比"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"基準房屋總價"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"平均單價調價"})]})}),(0,a.jsx)("tbody",{children:g.map((e,t)=>(0,a.jsxs)("tr",{className:"bg-zinc-900/20 border-b border-zinc-800 hover:bg-zinc-800/20",children:[(0,a.jsx)("td",{className:"px-4 py-3 font-medium text-white",children:e.unitType}),(0,a.jsx)("td",{className:"px-4 py-3",children:e.anchorInfo}),(0,a.jsx)("td",{className:(0,c.cn)("px-4 py-3",(e.horizontalPriceDiff||0)>0?"text-red-400":"text-zinc-400"),children:"number"==typeof e.horizontalPriceDiff?`${e.horizontalPriceDiff>0?"+":""}${e.horizontalPriceDiff.toFixed(2)} 萬/坪`:"-"}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[e.unitsSold," 戶"]}),(0,a.jsxs)("td",{className:(0,c.cn)("px-4 py-3 font-bold",e.timePremiumContribution>0?"text-red-400":"text-violet-400"),children:[e.timePremiumContribution>0?"+":"",d(e.timePremiumContribution)," 萬"]}),(0,a.jsxs)("td",{className:"px-4 py-3",children:["number"==typeof e.contributionPercentage?e.contributionPercentage.toFixed(2):"0.00","%"]}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[d(e.baselineHousePrice)," 萬"]}),(0,a.jsxs)("td",{className:"px-4 py-3",children:["number"==typeof e.avgPriceAdjustment?e.avgPriceAdjustment.toFixed(2):"-"," 萬/坪"]})]},t))})]})})]})]}):(0,a.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"無有效熱力圖資料"})}}}]);