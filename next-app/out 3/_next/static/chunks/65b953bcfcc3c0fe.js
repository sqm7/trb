(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90660,e=>{"use strict";function t(){for(var e,t,i=0,r="";i<arguments.length;)(e=arguments[i++])&&(t=function e(t){var i,r,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t))for(i=0;i<t.length;i++)t[i]&&(r=e(t[i]))&&(n&&(n+=" "),n+=r);else for(i in t)t[i]&&(n&&(n+=" "),n+=i);return n}(e))&&(r&&(r+=" "),r+=t);return r}e.s(["clsx",()=>t,"default",0,t])},86897,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.dontSetMe=function(e,t,i){if(e[t])return Error("Invalid prop ".concat(t," passed to ").concat(i," - do not set this, set it on the child."))},i.findInArray=function(e,t){for(let i=0,r=e.length;i<r;i++)if(t.apply(t,[e[i],i,e]))return e[i]},i.int=function(e){return parseInt(e,10)},i.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},i.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},73355,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.browserPrefixToKey=s,i.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},i.default=void 0,i.getPrefix=n;let r=["Moz","Webkit","O","ms"];function n(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("u"<typeof window)return"";let i=null==(e=window.document)||null==(e=e.documentElement)?void 0:e.style;if(!i||t in i)return"";for(let e=0;e<r.length;e++)if(s(t,r[e])in i)return r[e];return""}function s(e,t){return t?"".concat(t).concat(function(e){let t="",i=!0;for(let r=0;r<e.length;r++)i?(t+=e[r].toUpperCase(),i=!1):"-"===e[r]?i=!0:t+=e[r];return t}(e)):e}i.default=n()},36055,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.addClassName=c,i.addEvent=function(e,t,i,r){if(!e)return;let n={capture:!0,...r};e.addEventListener?e.addEventListener(t,i,n):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},i.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&c(e.body,"react-draggable-transparent-selection")},i.createCSSTransform=function(e,t){let i=l(e,t,"px");return{[(0,n.browserPrefixToKey)("transform",n.default)]:i}},i.createSVGTransform=function(e,t){return l(e,t,"")},i.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,e=>t===e.identifier)||e.changedTouches&&(0,r.findInArray)(e.changedTouches,e=>t===e.identifier)},i.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},i.getTranslation=l,i.innerHeight=function(e){let t=e.clientHeight,i=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(i.paddingTop),t-=(0,r.int)(i.paddingBottom)},i.innerWidth=function(e){let t=e.clientWidth,i=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(i.paddingLeft),t-=(0,r.int)(i.paddingRight)},i.matchesSelector=o,i.matchesSelectorAndParentsTo=function(e,t,i){let r=e;do{if(o(r,t))return!0;if(r===i)break;r=r.parentNode}while(r)return!1},i.offsetXYFromParent=function(e,t,i){let r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/i,y:(e.clientY+t.scrollTop-r.top)/i}},i.outerHeight=function(e){let t=e.clientHeight,i=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(i.borderTopWidth),t+=(0,r.int)(i.borderBottomWidth)},i.outerWidth=function(e){let t=e.clientWidth,i=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(i.borderLeftWidth),t+=(0,r.int)(i.borderRightWidth)},i.removeClassName=d,i.removeEvent=function(e,t,i,r){if(!e)return;let n={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,i,n):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=null},i.removeUserSelectStyles=function(e){if(e)try{if(e.body&&d(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{let t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var r=e.r(86897),n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=s(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,i&&i.set(e,r),r}(e.r(73355));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(s=function(e){return e?i:t})(e)}let a="";function o(e,t){return a||(a=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,r.isFunction)(e[t])})),!!(0,r.isFunction)(e[a])&&e[a](t)}function l(e,t,i){let{x:r,y:n}=e,s="translate(".concat(r).concat(i,",").concat(n).concat(i,")");if(t){let e="".concat("string"==typeof t.x?t.x:t.x+i),r="".concat("string"==typeof t.y?t.y:t.y+i);s="translate(".concat(e,", ").concat(r,")")+s}return s}function c(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function d(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},79166,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},i.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},i.createCoreData=function(e,t,i){let n=!(0,r.isNum)(e.lastX),a=s(e);return n?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:i,x:t,y:i}:{node:a,deltaX:t-e.lastX,deltaY:i-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:i}},i.createDraggableData=function(e,t){let i=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/i,y:e.state.y+t.deltaY/i,deltaX:t.deltaX/i,deltaY:t.deltaY/i,lastX:e.state.x,lastY:e.state.y}},i.getBoundPosition=function(e,t,i){var a;if(!e.props.bounds)return[t,i];let{bounds:o}=e.props;o="string"==typeof o?o:{left:(a=o).left,top:a.top,right:a.right,bottom:a.bottom};let l=s(e);if("string"==typeof o){let e,{ownerDocument:t}=l,i=t.defaultView;if(!((e="parent"===o?l.parentNode:t.querySelector(o))instanceof i.HTMLElement))throw Error('Bounds selector "'+o+'" could not find an element.');let s=i.getComputedStyle(l),a=i.getComputedStyle(e);o={left:-l.offsetLeft+(0,r.int)(a.paddingLeft)+(0,r.int)(s.marginLeft),top:-l.offsetTop+(0,r.int)(a.paddingTop)+(0,r.int)(s.marginTop),right:(0,n.innerWidth)(e)-(0,n.outerWidth)(l)-l.offsetLeft+(0,r.int)(a.paddingRight)-(0,r.int)(s.marginRight),bottom:(0,n.innerHeight)(e)-(0,n.outerHeight)(l)-l.offsetTop+(0,r.int)(a.paddingBottom)-(0,r.int)(s.marginBottom)}}return(0,r.isNum)(o.right)&&(t=Math.min(t,o.right)),(0,r.isNum)(o.bottom)&&(i=Math.min(i,o.bottom)),(0,r.isNum)(o.left)&&(t=Math.max(t,o.left)),(0,r.isNum)(o.top)&&(i=Math.max(i,o.top)),[t,i]},i.getControlPosition=function(e,t,i){let r="number"==typeof t?(0,n.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;let a=s(i),o=i.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,n.offsetXYFromParent)(r||e,o,i.props.scale)},i.snapToGrid=function(e,t,i){return[Math.round(t/e[0])*e[0],Math.round(i/e[1])*e[1]]};var r=e.r(86897),n=e.r(36055);function s(e){let t=e.findDOMNode();if(!t)throw Error("<DraggableCore>: Unmounted during event!");return t}},570,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){}},26396,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=h(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=n?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,i&&i.set(e,r),r}(e.r(68524)),n=d(e.r(94170)),s=d(e.r(1801)),a=e.r(36055),o=e.r(79166),l=e.r(86897),c=d(e.r(570));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(h=function(e){return e?i:t})(e)}function u(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let p={start:"touchstart",move:"touchmove",stop:"touchend"},f={start:"mousedown",move:"mousemove",stop:"mouseup"},g=f;class m extends r.Component{constructor(){super(...arguments),u(this,"dragging",!1),u(this,"lastX",NaN),u(this,"lastY",NaN),u(this,"touchIdentifier",null),u(this,"mounted",!1),u(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;let t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw Error("<DraggableCore> not mounted on DragStart!");let{ownerDocument:i}=t;if(this.props.disabled||!(e.target instanceof i.defaultView.Node)||this.props.handle&&!(0,a.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,a.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();let r=(0,a.getTouchIdentifier)(e);this.touchIdentifier=r;let n=(0,o.getControlPosition)(e,r,this);if(null==n)return;let{x:s,y:l}=n,d=(0,o.createCoreData)(this,s,l);(0,c.default)("DraggableCore: handleDragStart: %j",d),(0,c.default)("calling",this.props.onStart),!1!==this.props.onStart(e,d)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(i),this.dragging=!0,this.lastX=s,this.lastY=l,(0,a.addEvent)(i,g.move,this.handleDrag),(0,a.addEvent)(i,g.stop,this.handleDragStop))}),u(this,"handleDrag",e=>{let t=(0,o.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:i,y:r}=t;if(Array.isArray(this.props.grid)){let e=i-this.lastX,t=r-this.lastY;if([e,t]=(0,o.snapToGrid)(this.props.grid,e,t),!e&&!t)return;i=this.lastX+e,r=this.lastY+t}let n=(0,o.createCoreData)(this,i,r);if((0,c.default)("DraggableCore: handleDrag: %j",n),!1===this.props.onDrag(e,n)||!1===this.mounted){try{this.handleDragStop(new MouseEvent("mouseup"))}catch(t){let e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}return}this.lastX=i,this.lastY=r}),u(this,"handleDragStop",e=>{if(!this.dragging)return;let t=(0,o.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:i,y:r}=t;if(Array.isArray(this.props.grid)){let e=i-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,o.snapToGrid)(this.props.grid,e,t),i=this.lastX+e,r=this.lastY+t}let n=(0,o.createCoreData)(this,i,r);if(!1===this.props.onStop(e,n)||!1===this.mounted)return!1;let s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(s.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",n),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,c.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(s.ownerDocument,g.move,this.handleDrag),(0,a.removeEvent)(s.ownerDocument,g.stop,this.handleDragStop))}),u(this,"onMouseDown",e=>(g=f,this.handleDragStart(e))),u(this,"onMouseUp",e=>(g=f,this.handleDragStop(e))),u(this,"onTouchStart",e=>(g=p,this.handleDragStart(e))),u(this,"onTouchEnd",e=>(g=p,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;let e=this.findDOMNode();e&&(0,a.addEvent)(e,p.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let e=this.findDOMNode();if(e){let{ownerDocument:t}=e;(0,a.removeEvent)(t,f.move,this.handleDrag),(0,a.removeEvent)(t,p.move,this.handleDrag),(0,a.removeEvent)(t,f.stop,this.handleDragStop),(0,a.removeEvent)(t,p.stop,this.handleDragStop),(0,a.removeEvent)(e,p.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!=(e=this.props)&&e.nodeRef?null==(t=this.props)||null==(t=t.nodeRef)?void 0:t.current:s.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}i.default=m,u(m,"displayName","DraggableCore"),u(m,"propTypes",{allowAnyClick:n.default.bool,children:n.default.node.isRequired,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw Error("Draggable's offsetParent must be a DOM Node.")},grid:n.default.arrayOf(n.default.number),handle:n.default.string,cancel:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),u(m,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},45469,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),i.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=p(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=n?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,i&&i.set(e,r),r}(e.r(68524)),n=u(e.r(94170)),s=u(e.r(1801)),a=u(e.r(90660)),o=e.r(36055),l=e.r(79166),c=e.r(86897),d=u(e.r(26396)),h=u(e.r(570));function u(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(p=function(e){return e?i:t})(e)}function f(){return(f=Object.assign.bind()).apply(this,arguments)}function g(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m extends r.Component{static getDerivedStateFromProps(e,t){let{position:i}=e,{prevPropsPosition:r}=t;return i&&(!r||i.x!==r.x||i.y!==r.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:i,prevPropsPosition:r}),{x:i.x,y:i.y,prevPropsPosition:{...i}}):null}constructor(e){super(e),g(this,"onDragStart",(e,t)=>{if((0,h.default)("Draggable: onDragStart: %j",t),!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(e,t)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",t);let i=(0,l.createDraggableData)(this,t),r={x:i.x,y:i.y,slackX:0,slackY:0};if(this.props.bounds){let{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;let[n,s]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=n,r.y=s,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),i.x=r.x,i.y=r.y,i.deltaX=r.x-this.state.x,i.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,i))return!1;this.setState(r)}),g(this,"onDragStop",(e,t)=>{if(!this.state.dragging||!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,h.default)("Draggable: onDragStop: %j",t);let i={dragging:!1,slackX:0,slackY:0};if(this.props.position){let{x:e,y:t}=this.props.position;i.x=e,i.y=t}this.setState(i)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},e.position&&!(e.onDrag||e.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!=(e=null==(t=this.props)||null==(t=t.nodeRef)?void 0:t.current)?e:s.default.findDOMNode(this)}render(){let{axis:e,bounds:t,children:i,defaultPosition:n,defaultClassName:s,defaultClassNameDragging:c,defaultClassNameDragged:h,position:u,positionOffset:p,scale:g,...m}=this.props,x={},b=null,v=!u||this.state.dragging,y=u||n,w={x:(0,l.canDragX)(this)&&v?this.state.x:y.x,y:(0,l.canDragY)(this)&&v?this.state.y:y.y};this.state.isElementSVG?b=(0,o.createSVGTransform)(w,p):x=(0,o.createCSSTransform)(w,p);let j=(0,a.default)(i.props.className||"",s,{[c]:this.state.dragging,[h]:this.state.dragged});return r.createElement(d.default,f({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(i),{className:j,style:{...i.props.style,...x},transform:b}))}}i.default=m,g(m,"displayName","Draggable"),g(m,"propTypes",{...d.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),g(m,"defaultProps",{...d.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},61226,(e,t,i)=>{"use strict";let{default:r,DraggableCore:n}=e.r(45469);t.exports=r,t.exports.default=r,t.exports.DraggableCore=n},28546,e=>{"use strict";let t;var i,r,n,s,a,o,l,c,d,h,u,p,f,g,m,x,b,v,y,w,j=e.i(25191),S=e.i(68524),z=e.i(21643),N=e.i(14302),D=e.i(14897),M=e.i(74579),k=e.i(91568);let R=(0,k.default)("file-down",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),C=(0,k.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);var P=e.i(34939),E=e.i(67690),T=e.i(50294),A=e.i(74614);function O({width:e,height:t,children:i,items:r,onClickBackground:n,onMarqueeSelect:s}){let a=(0,S.useRef)(null),o=(0,S.useRef)(null),[l,c]=(0,S.useState)(1),[d,h]=(0,S.useState)(!1),[u,p]=(0,S.useState)(null);S.default.useEffect(()=>{let i=()=>{if(a.current){let i=a.current.parentElement;i&&c(Math.min((i.clientWidth-64)/e,(i.clientHeight-64)/t,1))}};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[e,t]);let f=(0,S.useCallback)(e=>{if(e.target!==e.currentTarget)return;let t=e.currentTarget.getBoundingClientRect(),i=(e.clientX-t.left)/l,r=(e.clientY-t.top)/l;h(!0),p({startX:i,startY:r,endX:i,endY:r,isShiftPressed:e.shiftKey})},[l]),g=(0,S.useCallback)(i=>{if(!d||!u)return;let r=i.currentTarget.getBoundingClientRect(),n=Math.max(0,Math.min(e,(i.clientX-r.left)/l)),s=Math.max(0,Math.min(t,(i.clientY-r.top)/l));p(e=>e?{...e,endX:n,endY:s,isShiftPressed:i.shiftKey}:null)},[d,u,l,e,t]),m=(0,S.useCallback)(e=>{if(d&&u){let t,i,a,o,l=(t=Math.min(u.startX,u.endX),i=Math.max(u.startX,u.endX),a=Math.min(u.startY,u.endY),o=Math.max(u.startY,u.endY),r.filter(e=>{let r=e.x+e.width,n=e.y+e.height;return!(e.x>i||r<t||e.y>o||n<a)}).map(e=>e.id)),c=Math.abs(u.endX-u.startX),d=Math.abs(u.endY-u.startY);c<5&&d<5?n?.():l.length>0?s?.(l,e.shiftKey||u.isShiftPressed):n?.()}h(!1),p(null)},[d,u,r,n,s]),x=u?{left:Math.min(u.startX,u.endX),top:Math.min(u.startY,u.endY),width:Math.abs(u.endX-u.startX),height:Math.abs(u.endY-u.startY)}:null;return(0,j.jsx)("div",{ref:a,className:"relative",style:{width:e*l,height:t*l},children:(0,j.jsxs)("div",{ref:o,className:(0,A.cn)("absolute origin-top-left bg-zinc-900 border border-white/10 rounded-lg shadow-2xl overflow-hidden","transition-transform duration-200",d&&"cursor-crosshair"),style:{width:e,height:t,transform:`scale(${l})`},onMouseDown:f,onMouseMove:g,onMouseUp:m,onMouseLeave:m,children:[(0,j.jsx)("div",{className:"absolute inset-0 opacity-30 pointer-events-none",style:{backgroundImage:`
                            linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
                            linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px)
                        `,backgroundSize:"20px 20px"}}),(0,j.jsx)("div",{className:"relative w-full h-full report-canvas-content",children:i}),d&&x&&(0,j.jsx)("div",{className:"absolute border-2 border-violet-500 bg-violet-500/20 pointer-events-none z-50",style:x}),(0,j.jsxs)("div",{className:"absolute bottom-2 right-2 text-[10px] text-zinc-600 font-mono bg-zinc-950/80 px-2 py-1 rounded",children:[e," Ã— ",t]})]})})}var W=e.i(61226),B=e.i(1801),L=function(){return(L=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},H={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},I={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},X={width:"20px",height:"20px",position:"absolute",zIndex:1},F={top:L(L({},H),{top:"-5px"}),right:L(L({},I),{left:void 0,right:"-5px"}),bottom:L(L({},H),{top:void 0,bottom:"-5px"}),left:L(L({},I),{left:"-5px"}),topRight:L(L({},X),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:L(L({},X),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:L(L({},X),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:L(L({},X),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Y=(0,S.memo)(function(e){var t=e.onResizeStart,i=e.direction,r=e.children,n=e.replaceStyles,s=e.className,a=(0,S.useCallback)(function(e){t(e,i)},[t,i]),o=(0,S.useCallback)(function(e){t(e,i)},[t,i]),l=(0,S.useMemo)(function(){return L(L({position:"absolute",userSelect:"none"},F[i]),null!=n?n:{})},[n,i]);return(0,j.jsx)("div",{className:s||void 0,style:l,onMouseDown:a,onTouchStart:o,children:r})}),U=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),_=function(){return(_=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},G={width:"auto",height:"auto"},V=function(e,t,i){return Math.max(Math.min(e,i),t)},K=function(e,t,i){var r=Math.round(e/t);return r*t+i*(r-1)},q=function(e,t){return RegExp(e,"i").test(t)},$=function(e){return!!(e.touches&&e.touches.length)},J=function(e,t,i){void 0===i&&(i=0);var r=t.reduce(function(i,r,n){return Math.abs(r-e)<Math.abs(t[i]-e)?n:i},0),n=Math.abs(t[r]-e);return 0===i||n<i?t[r]:e},Q=function(e){return"auto"===(e=e.toString())||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:"".concat(e,"px")},Z=function(e,t,i,r){if(e&&"string"==typeof e){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var n=Number(e.replace("%",""))/100;return t*n}if(e.endsWith("vw")){var n=Number(e.replace("vw",""))/100;return i*n}if(e.endsWith("vh")){var n=Number(e.replace("vh",""))/100;return r*n}}return e},ee=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],et="__resizable_base__",ei=function(e){function t(t){var i,r,n,s,a=e.call(this,t)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var e=a.parentNode;if(!e)return null;var t=a.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(et):t.className+=et,e.appendChild(t),t},a.removeBase=function(e){var t=a.parentNode;t&&t.removeChild(e)},a.state={isResizing:!1,width:null!=(r=null==(i=a.propsSize)?void 0:i.width)?r:"auto",height:null!=(s=null==(n=a.propsSize)?void 0:n.height)?s:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return U(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||G},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,r=this.resizable.offsetHeight,n=this.resizable.style.position;"relative"!==n&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:i,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=n}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,i=function(t){var i;if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&(null==(i=e.propsSize[t])?void 0:i.toString().endsWith("%"))){if(e.state[t].toString().endsWith("%"))return e.state[t].toString();var r=e.getParentSize(),n=Number(e.state[t].toString().replace("px",""))/r[t]*100;return"".concat(n,"%")}return Q(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?Q(t.width):i("width"),height:t&&void 0!==t.height&&!this.state.isResizing?Q(t.height):i("height")}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,i=this.parentNode.style.flexWrap;"wrap"!==i&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=i),this.removeBase(e),r},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var i=this.propsSize&&this.propsSize[t];return"auto"===this.state[t]&&this.state.original[t]===e&&(void 0===i||"auto"===i)?"auto":e},t.prototype.calculateNewMaxFromBoundary=function(e,t){var i,r,n=this.props.boundsByDirection,s=this.state.direction,a=n&&q("left",s),o=n&&q("top",s);if("parent"===this.props.bounds){var l=this.parentNode;l&&(i=a?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),r=o?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(i=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,r=o?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(i=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=o?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return i&&Number.isFinite(i)&&(e=e&&e<i?e:i),r&&Number.isFinite(r)&&(t=t&&t<r?t:r),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var i,r=this.props.scale||1,n=Array.isArray(i=this.props.resizeRatio||1)?i:[i,i],s=n[0],a=n[1],o=this.state,l=o.direction,c=o.original,d=this.props,h=d.lockAspectRatio,u=d.lockAspectRatioExtraHeight,p=d.lockAspectRatioExtraWidth,f=c.width,g=c.height,m=u||0,x=p||0;return q("right",l)&&(f=c.width+(e-c.x)*s/r,h&&(g=(f-x)/this.ratio+m)),q("left",l)&&(f=c.width-(e-c.x)*s/r,h&&(g=(f-x)/this.ratio+m)),q("bottom",l)&&(g=c.height+(t-c.y)*a/r,h&&(f=(g-m)*this.ratio+x)),q("top",l)&&(g=c.height-(t-c.y)*a/r,h&&(f=(g-m)*this.ratio+x)),{newWidth:f,newHeight:g}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,i,r){var n=this.props,s=n.lockAspectRatio,a=n.lockAspectRatioExtraHeight,o=n.lockAspectRatioExtraWidth,l=void 0===r.width?10:r.width,c=void 0===i.width||i.width<0?e:i.width,d=void 0===r.height?10:r.height,h=void 0===i.height||i.height<0?t:i.height,u=a||0,p=o||0;if(s){var f=(d-u)*this.ratio+p,g=(h-u)*this.ratio+p,m=(l-p)/this.ratio+u,x=(c-p)/this.ratio+u,b=Math.max(d,m),v=Math.min(h,x);e=V(e,Math.max(l,f),Math.min(c,g)),t=V(t,b,v)}else e=V(e,l,c),t=V(t,d,h);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){var e=1/(this.props.scale||1);if("parent"===this.props.bounds){var t=this.parentNode;if(t){var i=t.getBoundingClientRect();this.parentLeft=i.left*e,this.parentTop=i.top*e}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var r=this.props.bounds.getBoundingClientRect();this.targetLeft=r.left*e,this.targetTop=r.top*e}if(this.resizable){var n=this.resizable.getBoundingClientRect(),s=n.left,a=n.top,o=n.right,l=n.bottom;this.resizableLeft=s*e,this.resizableRight=o*e,this.resizableTop=a*e,this.resizableBottom=l*e}},t.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var i,r,n=0,s=0;if(e.nativeEvent&&((i=e.nativeEvent).clientX||0===i.clientX)&&(i.clientY||0===i.clientY)?(n=e.nativeEvent.clientX,s=e.nativeEvent.clientY):e.nativeEvent&&$(e.nativeEvent)&&(n=e.nativeEvent.touches[0].clientX,s=e.nativeEvent.touches[0].clientY),!this.props.onResizeStart||!this.resizable||!1!==this.props.onResizeStart(e,t,this.resizable)){this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var a=this.window.getComputedStyle(this.resizable);if("auto"!==a.flexBasis){var o=this.parentNode;if(o){var l=this.window.getComputedStyle(o).flexDirection;this.flexDir=l.startsWith("row")?"row":"column",r=a.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var c={original:{x:n,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:_(_({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:r};this.setState(c)}}},t.prototype.onMouseMove=function(e){var t=this;if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&$(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var i,r,n,s,a,o,l=this.props,c=l.maxWidth,d=l.maxHeight,h=l.minWidth,u=l.minHeight,p=$(e)?e.touches[0].clientX:e.clientX,f=$(e)?e.touches[0].clientY:e.clientY,g=this.state,m=g.direction,x=g.original,b=g.width,v=g.height,y=this.getParentSize(),w=(i=this.window.innerWidth,r=this.window.innerHeight,n=c,s=d,a=h,o=u,n=Z(n,y.width,i,r),s=Z(s,y.height,i,r),a=Z(a,y.width,i,r),o=Z(o,y.height,i,r),{maxWidth:void 0===n?void 0:Number(n),maxHeight:void 0===s?void 0:Number(s),minWidth:void 0===a?void 0:Number(a),minHeight:void 0===o?void 0:Number(o)});c=w.maxWidth,d=w.maxHeight,h=w.minWidth,u=w.minHeight;var j=this.calculateNewSizeFromDirection(p,f),S=j.newHeight,z=j.newWidth,N=this.calculateNewMaxFromBoundary(c,d);this.props.snap&&this.props.snap.x&&(z=J(z,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(S=J(S,this.props.snap.y,this.props.snapGap));var D=this.calculateNewSizeFromAspectRatio(z,S,{width:N.maxWidth,height:N.maxHeight},{width:h,height:u});if(z=D.newWidth,S=D.newHeight,this.props.grid){var M=K(z,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),k=K(S,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),R=this.props.snapGap||0,C=0===R||Math.abs(M-z)<=R?M:z,P=0===R||Math.abs(k-S)<=R?k:S;z=C,S=P}var E={width:z-x.width,height:S-x.height};if(this.delta=E,b&&"string"==typeof b){if(b.endsWith("%")){var T=z/y.width*100;z="".concat(T,"%")}else if(b.endsWith("vw")){var A=z/this.window.innerWidth*100;z="".concat(A,"vw")}else if(b.endsWith("vh")){var O=z/this.window.innerHeight*100;z="".concat(O,"vh")}}if(v&&"string"==typeof v){if(v.endsWith("%")){var T=S/y.height*100;S="".concat(T,"%")}else if(v.endsWith("vw")){var A=S/this.window.innerWidth*100;S="".concat(A,"vw")}else if(v.endsWith("vh")){var O=S/this.window.innerHeight*100;S="".concat(O,"vh")}}var W={width:this.createSizeForCssProperty(z,"width"),height:this.createSizeForCssProperty(S,"height")};"row"===this.flexDir?W.flexBasis=W.width:"column"===this.flexDir&&(W.flexBasis=W.height);var L=this.state.width!==W.width,H=this.state.height!==W.height,I=this.state.flexBasis!==W.flexBasis,X=L||H||I;X&&(0,B.flushSync)(function(){t.setState(W)}),this.props.onResize&&X&&this.props.onResize(e,m,this.resizable,E)}},t.prototype.onMouseUp=function(e){var t,i,r=this.state,n=r.isResizing,s=r.direction;r.original,n&&this.resizable&&(this.props.onResizeStop&&this.props.onResizeStop(e,s,this.resizable,this.delta),this.props.size&&this.setState({width:null!=(t=this.props.size.width)?t:"auto",height:null!=(i=this.props.size.height)?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:_(_({},this.state.backgroundStyle),{cursor:"auto"})}))},t.prototype.updateSize=function(e){var t,i;this.setState({width:null!=(t=e.width)?t:"auto",height:null!=(i=e.height)?i:"auto"})},t.prototype.renderResizer=function(){var e=this,t=this.props,i=t.enable,r=t.handleStyles,n=t.handleClasses,s=t.handleWrapperStyle,a=t.handleWrapperClass,o=t.handleComponent;if(!i)return null;var l=Object.keys(i).map(function(t){return!1!==i[t]?(0,j.jsx)(Y,{direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:n&&n[t],children:o&&o[t]?o[t]:null},t):null});return(0,j.jsx)("div",{className:a,style:s,children:l})},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce(function(t,i){return -1!==ee.indexOf(i)||(t[i]=e.props[i]),t},{}),i=_(_(_({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var r=this.props.as||"div";return(0,j.jsxs)(r,_({style:i,className:this.props.className},t,{ref:function(t){t&&(e.resizable=t)},children:[this.state.isResizing&&(0,j.jsx)("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(S.PureComponent),er=function(e,t){return(er=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},en=function(){return(en=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},es={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},ea=function(e){function t(){this.constructor=i}function i(t){var i=e.call(this,t)||this;return i.resizingPosition={x:0,y:0},i.offsetFromParent={left:0,top:0},i.resizableElement={current:null},i.originalPosition={x:0,y:0},i.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},i.onResizeStart=i.onResizeStart.bind(i),i.onResize=i.onResize.bind(i),i.onResizeStop=i.onResizeStop.bind(i),i.onDragStart=i.onDragStart.bind(i),i.onDrag=i.onDrag.bind(i),i.onDragStop=i.onDragStop.bind(i),i.getMaxSizesFromProps=i.getMaxSizesFromProps.bind(i),i}return er(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t),i.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,i=e.top,r=this.getDraggablePosition(),n=r.x,s=r.y;this.draggable.setState({x:n-t,y:s-i}),this.forceUpdate()},i.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},i.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},i.prototype.getParentSize=function(){return this.resizable.getParentSize()},i.prototype.getMaxSizesFromProps=function(){return{maxWidth:void 0===this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:void 0===this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},i.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},i.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},i.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},i.prototype.onDragStart=function(e,t){this.props.onDragStart&&this.props.onDragStart(e,t);var i,r=this.getDraggablePosition();if(this.originalPosition=r,this.props.bounds){var n=this.getParent(),s=this.props.scale;if("parent"===this.props.bounds)i=n;else if("body"===this.props.bounds){var a=n.getBoundingClientRect(),o=a.left,l=a.top,c=document.body.getBoundingClientRect(),d=-(o-n.offsetLeft*s-c.left)/s,h=-(l-n.offsetTop*s-c.top)/s,u=(document.body.offsetWidth-this.resizable.size.width*s)/s+d,p=(document.body.offsetHeight-this.resizable.size.height*s)/s+h;return this.setState({bounds:{top:h,right:u,bottom:p,left:d}})}else if("window"===this.props.bounds){if(!this.resizable)return;var f=n.getBoundingClientRect(),g=f.left,m=f.top,x=-(g-n.offsetLeft*s)/s,b=-(m-n.offsetTop*s)/s,u=(window.innerWidth-this.resizable.size.width*s)/s+x,p=(window.innerHeight-this.resizable.size.height*s)/s+b;return this.setState({bounds:{top:b,right:u,bottom:p,left:x}})}else"string"==typeof this.props.bounds?i=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(i=this.props.bounds);if(i instanceof HTMLElement&&n instanceof HTMLElement){var v=i.getBoundingClientRect(),y=v.left,w=v.top,j=n.getBoundingClientRect(),S=j.left,z=j.top,N=(y-S)/s,D=w-z;if(this.resizable){this.updateOffsetFromParent();var M=this.offsetFromParent;this.setState({bounds:{top:D-M.top,right:N+(i.offsetWidth-this.resizable.size.width)-M.left/s,bottom:D+(i.offsetHeight-this.resizable.size.height)-M.top,left:N-M.left/s}})}}}},i.prototype.onDrag=function(e,t){if(this.props.onDrag){var i=this.offsetFromParent,r=i.left,n=i.top;if(!this.props.dragAxis||"both"===this.props.dragAxis)return this.props.onDrag(e,en(en({},t),{x:t.x+r,y:t.y+n}));if("x"===this.props.dragAxis)return this.props.onDrag(e,en(en({},t),{x:t.x+r,y:this.originalPosition.y+n,deltaY:0}));if("y"===this.props.dragAxis)return this.props.onDrag(e,en(en({},t),{x:this.originalPosition.x+r,y:t.y+n,deltaX:0}))}},i.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var i=this.offsetFromParent,r=i.left,n=i.top;if(!this.props.dragAxis||"both"===this.props.dragAxis)return this.props.onDragStop(e,en(en({},t),{x:t.x+r,y:t.y+n}));if("x"===this.props.dragAxis)return this.props.onDragStop(e,en(en({},t),{x:t.x+r,y:this.originalPosition.y+n,deltaY:0}));if("y"===this.props.dragAxis)return this.props.onDragStop(e,en(en({},t),{x:this.originalPosition.x+r,y:t.y+n,deltaX:0}))}},i.prototype.onResizeStart=function(e,t,i){e.stopPropagation(),this.setState({resizing:!0});var r=this.props.scale,n=this.offsetFromParent,s=this.getDraggablePosition();if(this.resizingPosition={x:s.x+n.left,y:s.y+n.top},this.originalPosition=s,this.props.bounds){var a=this.getParent(),o=void 0;"parent"===this.props.bounds?o=a:"body"===this.props.bounds?o=document.body:"window"===this.props.bounds?o=window:"string"==typeof this.props.bounds?o=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(o=this.props.bounds);var l=this.getSelfElement();if(l instanceof Element&&(o instanceof HTMLElement||o===window)&&a instanceof HTMLElement){var c=this.getMaxSizesFromProps(),d=c.maxWidth,h=c.maxHeight,u=this.getParentSize();if(d&&"string"==typeof d)if(d.endsWith("%")){var p=Number(d.replace("%",""))/100;d=u.width*p}else d.endsWith("px")&&(d=Number(d.replace("px","")));if(h&&"string"==typeof h)if(h.endsWith("%")){var p=Number(h.replace("%",""))/100;h=u.height*p}else h.endsWith("px")&&(h=Number(h.replace("px","")));var f=l.getBoundingClientRect(),g=f.left,m=f.top,x="window"===this.props.bounds?{left:0,top:0}:o.getBoundingClientRect(),b=x.left,v=x.top,y=this.getOffsetWidth(o),w=this.getOffsetHeight(o),j=t.toLowerCase().endsWith("left"),S=t.toLowerCase().endsWith("right"),z=t.startsWith("top"),N=t.startsWith("bottom");if((j||z)&&this.resizable){var D=(g-b)/r+this.resizable.size.width;this.setState({maxWidth:D>Number(d)?d:D})}if(S||this.props.lockAspectRatio&&!j&&!z){var D=y+(b-g)/r;this.setState({maxWidth:D>Number(d)?d:D})}if((z||j)&&this.resizable){var D=(m-v)/r+this.resizable.size.height;this.setState({maxHeight:D>Number(h)?h:D})}if(N||this.props.lockAspectRatio&&!z&&!j){var D=w+(v-m)/r;this.setState({maxHeight:D>Number(h)?h:D})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,i)},i.prototype.onResize=function(e,t,i,r){var n=this,s={x:this.originalPosition.x,y:this.originalPosition.y},a=-r.width,o=-r.height;["top","left","topLeft","bottomLeft","topRight"].includes(t)&&("bottomLeft"===t?s.x+=a:("topRight"===t||(s.x+=a),s.y+=o));var l=this.draggable.state;(s.x!==l.x||s.y!==l.y)&&(0,B.flushSync)(function(){n.draggable.setState(s)}),this.updateOffsetFromParent();var c=this.offsetFromParent,d=this.getDraggablePosition().x+c.left,h=this.getDraggablePosition().y+c.top;this.resizingPosition={x:d,y:h},this.props.onResize&&this.props.onResize(e,t,i,r,{x:d,y:h})},i.prototype.onResizeStop=function(e,t,i,r){this.setState({resizing:!1});var n=this.getMaxSizesFromProps(),s=n.maxWidth,a=n.maxHeight;this.setState({maxWidth:s,maxHeight:a}),this.props.onResizeStop&&this.props.onResizeStop(e,t,i,r,this.resizingPosition)},i.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},i.prototype.updatePosition=function(e){this.draggable.setState(e)},i.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),i=this.getSelfElement();if(!t||null===i)return{top:0,left:0};var r=t.getBoundingClientRect(),n=r.left,s=r.top,a=i.getBoundingClientRect(),o=this.getDraggablePosition(),l=t.scrollLeft,c=t.scrollTop;this.offsetFromParent={left:a.left-n+l-o.x*e,top:a.top-s+c-o.y*e}},i.prototype.render=function(){var e,t=this,i=this.props,r=i.disableDragging,n=i.style,s=i.dragHandleClassName,a=i.position,o=i.onMouseDown,l=i.onMouseUp,c=i.dragAxis,d=i.dragGrid,h=i.bounds,u=i.enableUserSelectHack,p=i.cancel,f=i.children,g=(i.onResizeStart,i.onResize,i.onResizeStop,i.onDragStart,i.onDrag,i.onDragStop,i.resizeHandleStyles),m=i.resizeHandleClasses,x=i.resizeHandleComponent,b=i.enableResizing,v=i.resizeGrid,y=i.resizeHandleWrapperClass,w=i.resizeHandleWrapperStyle,j=i.scale,z=i.allowAnyClick,N=i.dragPositionOffset,D=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(i[r[n]]=e[r[n]]);return i}(i,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),M=this.props.default?en({},this.props.default):void 0;delete D.default;var k=en(en(en({},es),r||s?{cursor:"auto"}:{cursor:"move"}),n),R=this.offsetFromParent,C=R.left,P=R.top;a&&(e={x:a.x-C,y:a.y-P});var E=this.state.resizing?void 0:e,T=this.state.resizing?"both":c;return(0,S.createElement)(W.default,{ref:function(e){e&&(t.draggable=e)},handle:s?".".concat(s):void 0,defaultPosition:M,onMouseDown:o,onMouseUp:l,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:T,disabled:r,grid:d,bounds:h?this.state.bounds:void 0,position:E,enableUserSelectHack:u,cancel:p,scale:j,allowAnyClick:z,nodeRef:this.resizableElement,positionOffset:N},(0,S.createElement)(ei,en({},D,{ref:function(e){e&&(t.resizable=e,t.resizableElement.current=e.resizable)},defaultSize:M,size:this.props.size,enable:"boolean"==typeof b?{bottom:b,bottomLeft:b,bottomRight:b,left:b,right:b,top:b,topLeft:b,topRight:b}:b,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:k,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:v,handleWrapperClass:y,handleWrapperStyle:w,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:g,handleClasses:m,handleComponent:x,scale:this.props.scale}),f))},i.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},i}(S.PureComponent),eo=e.i(45299);let el=(0,k.default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),ec=(0,k.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),ed=(0,k.default)("crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]),eh=(0,k.default)("move-3d",[["path",{d:"M5 3v16h16",key:"1mqmf9"}],["path",{d:"m5 19 6-6",key:"jh6hbb"}],["path",{d:"m2 6 3-3 3 3",key:"tkyvxa"}],["path",{d:"m18 16 3 3-3 3",key:"1d4glt"}]]),eu=(0,k.default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);var ep=e.i(12112),ef=e.i(8563),eg=e.i(50183),em=e.i(843),ex=e.i(19542),eb=e.i(71925);let ev=(0,e.i(67123).default)(()=>e.A(31593),{loadableGenerated:{modules:[94861]},ssr:!1}),ey=e=>(0,j.jsx)(ev,{...e});var ew=e.i(99432),ej=e.i(78956),eS=e.i(30286);let ez={"ranking-metrics":"æ ¸å¿ƒæ•¸æ“šæŒ‡æ¨™","unit-price-stats":"å„ç”¨é€”å–®åƒ¹çµ±è¨ˆ","ranking-chart":"å»ºæ¡ˆæŽ’å","ranking-table":"å»ºæ¡ˆæŽ’è¡Œåˆ—è¡¨","price-band-chart":"ç¸½åƒ¹å¸¶åˆ†ä½ˆ","price-band-table":"ç¸½åƒ¹å¸¶è©³ç´°æ•¸æ“š","price-band-location-table":"å€åŸŸæˆ¿åž‹æˆäº¤åˆ†ä½ˆ","price-band-location-chart":"å€åŸŸæˆäº¤ä½”æ¯”","unit-price-bubble":"å–®åƒ¹æ³¡æ³¡åœ–","type-comparison-table":"ç”¢å“é¡žåž‹å–®åƒ¹æ¯”è¼ƒ","sales-velocity-chart":"éŠ·å”®é€Ÿåº¦","sales-velocity-table":"éŠ·å”®é€Ÿåº¦æ˜Žç´°","parking-pie":"è»Šä½é…æ¯”","parking-price":"è»Šä½é¡žåž‹å‡åƒ¹","parking-scatter":"è»Šä½åªæ•¸åˆ†æž","parking-floor":"è»Šä½æ¨“å±¤åˆ†æž",heatmap:"éŠ·æŽ§ç†±åŠ›åœ–","heatmap-grid":"å»ºæ¡ˆéŠ·æŽ§ç†±åŠ›åœ–","heatmap-stats":"èª¿åƒ¹å¹…åº¦æ‘˜è¦","heatmap-comparison":"æˆ¶åž‹æº¢åƒ¹è²¢ç»","sales-heatmap":"æˆ¿åž‹é¢ç©ç†±åŠ›åœ–","sales-heatmap-detail":"ç†±åŠ›è©³ç´°äº¤æ˜“è¡¨","data-list":"äº¤æ˜“æ˜Žç´°è¡¨"};function eN({item:e,isSelected:t,onSelect:i,onUpdate:r,onRemove:n,onMoveToPage:s,analysisData:a}){let o=(0,ef.useReportBuilderStore)(e=>e.selectedIds),l=(0,ef.useReportBuilderStore)(e=>e.batchUpdateItems),c=(0,ef.useReportBuilderStore)(e=>e.pages),d=(0,ef.useReportBuilderStore)(e=>e.currentPageIndex),h=c[d]?.items||[],u=S.default.useRef({}),p=S.default.useRef(!1),[f,g]=S.default.useState(!1),[m,x]=S.default.useState({x:0,y:0}),b=e=>{f&&(e.stopPropagation(),g(!1))};return S.default.useEffect(()=>{"fit"===e.scaleMode&&r({contentScale:Math.min(e.width/400,e.height/300)})},[e.width,e.height,e.scaleMode]),(0,j.jsxs)(ea,{size:{width:e.width,height:e.height},position:{x:e.x,y:e.y},onDragStart:e=>{if(t){p.current=!0;let e={};o.forEach(t=>{let i=h.find(e=>e.id===t);i&&(e[t]={x:i.x,y:i.y})}),u.current=e,console.log("Group drag start:",e)}else p.current=!1},onDrag:(t,i)=>{if(p.current&&o.length>1){let t=i.x-(u.current[e.id]?.x||e.x),r=i.y-(u.current[e.id]?.y||e.y),n={};o.forEach(i=>{i!==e.id&&u.current[i]&&(n[i]={x:u.current[i].x+t,y:u.current[i].y+r})}),Object.keys(n).length>0&&l(n)}},onDragStop:(i,n)=>{let a=i.clientX||i.changedTouches?.[0]?.clientX,c=i.clientY||i.changedTouches?.[0]?.clientY;if(void 0!==a&&void 0!==c){let e=document.elementsFromPoint(a,c).find(e=>"true"===e.getAttribute("data-page-drop-target"));if(e){let i=parseInt(e.getAttribute("data-page-index")||"-1",10);if(i>=0){t?ef.useReportBuilderStore.getState().moveSelectedItemsToPage(i):s&&s(i),p.current=!1,u.current={};return}}}if(p.current&&o.length>1){let t=n.x-(u.current[e.id]?.x||e.x),i=n.y-(u.current[e.id]?.y||e.y),r={};o.forEach(s=>{let a=u.current[s];a&&(r[s]={x:s===e.id?n.x:a.x+t,y:s===e.id?n.y:a.y+i})}),l(r)}else r({x:n.x,y:n.y});p.current=!1,u.current={}},onResizeStop:(e,t,i,n,s)=>{r({width:parseInt(i.style.width,10),height:parseInt(i.style.height,10),x:s.x,y:s.y})},minWidth:150,minHeight:100,bounds:"parent",onClick:e=>{e.stopPropagation(),i(e)},className:(0,A.cn)("bg-zinc-800/80 backdrop-blur-sm rounded-lg border-2 transition-colors overflow-hidden",t?"border-violet-500 shadow-lg shadow-violet-500/20":"border-transparent hover:border-zinc-600"),enableResizing:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},resizeHandleStyles:{topRight:{cursor:"ne-resize"},bottomRight:{cursor:"se-resize"},bottomLeft:{cursor:"sw-resize"},topLeft:{cursor:"nw-resize"}},children:[(0,j.jsxs)("div",{className:"h-7 bg-zinc-900/90 flex items-center justify-between px-2 cursor-move border-b border-white/5 select-none group/header",children:[(0,j.jsxs)("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[(0,j.jsx)(eo.Move,{className:"h-3 w-3 text-zinc-500 group-hover/header:text-violet-400"}),(0,j.jsx)("span",{className:"text-[10px] text-zinc-400 font-medium truncate",children:ez[e.type]})]}),(0,j.jsxs)("div",{className:"flex items-center gap-1",children:[(0,j.jsx)(ep.TooltipProvider,{delayDuration:0,children:(0,j.jsxs)("div",{className:"flex items-center bg-zinc-800 rounded p-0.5 gap-0.5",children:[(0,j.jsxs)(ep.Tooltip,{children:[(0,j.jsx)(ep.TooltipTrigger,{asChild:!0,children:(0,j.jsx)("button",{onClick:e=>{e.stopPropagation(),r({scaleMode:"crop"})},className:(0,A.cn)("p-1 rounded transition-colors","crop"===e.scaleMode?"bg-violet-600 text-white":"text-zinc-500 hover:text-white"),children:(0,j.jsx)(ed,{className:"h-3 w-3"})})}),(0,j.jsx)(ep.TooltipContent,{side:"bottom",className:"text-xs",children:"è£å‰ªæ¨¡å¼"})]}),(0,j.jsxs)(ep.Tooltip,{children:[(0,j.jsx)(ep.TooltipTrigger,{asChild:!0,children:(0,j.jsx)("button",{onClick:e=>{e.stopPropagation(),r({scaleMode:"pan"})},className:(0,A.cn)("p-1 rounded transition-colors","pan"===e.scaleMode?"bg-cyan-600 text-white":"text-zinc-500 hover:text-white"),children:(0,j.jsx)(eh,{className:"h-3 w-3"})})}),(0,j.jsx)(ep.TooltipContent,{side:"bottom",className:"text-xs",children:"å¹³ç§»æ¨¡å¼"})]}),(0,j.jsxs)(ep.Tooltip,{children:[(0,j.jsx)(ep.TooltipTrigger,{asChild:!0,children:(0,j.jsx)("button",{onClick:e=>{e.stopPropagation(),r({scaleMode:"fit"})},className:(0,A.cn)("p-1 rounded transition-colors","fit"===e.scaleMode?"bg-emerald-600 text-white":"text-zinc-500 hover:text-white"),children:(0,j.jsx)(eu,{className:"h-3 w-3"})})}),(0,j.jsx)(ep.TooltipContent,{side:"bottom",className:"text-xs",children:"ç¸®æ”¾æ¨¡å¼"})]})]})}),(0,j.jsxs)("span",{className:"text-[9px] text-zinc-600 font-mono hidden sm:inline ml-1",children:[e.width,"Ã—",e.height]}),(0,j.jsx)("button",{onClick:e=>{e.stopPropagation(),n()},className:"p-1 rounded hover:bg-red-500/20 text-zinc-600 hover:text-red-400 transition-colors",children:(0,j.jsx)(M.Trash2,{className:"h-3 w-3"})})]})]}),(0,j.jsxs)("div",{className:(0,A.cn)("p-2 relative group/content","crop"===e.scaleMode&&"overflow-hidden","pan"===e.scaleMode&&"overflow-hidden cursor-grab active:cursor-grabbing","fit"===e.scaleMode&&"overflow-hidden"),style:{height:"calc(100% - 28px)"},onMouseDown:t=>{"pan"===e.scaleMode&&(t.stopPropagation(),g(!0),x({x:t.clientX,y:t.clientY}))},onMouseMove:t=>{if(!f||"pan"!==e.scaleMode)return;t.stopPropagation();let i=t.clientX-m.x,n=t.clientY-m.y;r({panOffset:{x:(e.panOffset?.x||0)+i,y:(e.panOffset?.y||0)+n}}),x({x:t.clientX,y:t.clientY})},onMouseUp:b,onMouseLeave:b,children:[(0,j.jsx)("div",{style:{transform:"pan"===e.scaleMode?`translate(${e.panOffset?.x||0}px, ${e.panOffset?.y||0}px)`:"fit"===e.scaleMode?`scale(${e.contentScale||1})`:void 0,transformOrigin:"top left",width:"fit"===e.scaleMode?400:"100%",height:"fit"===e.scaleMode?300:"100%"},children:(()=>{if(!a)return(0,j.jsx)("div",{className:"flex items-center justify-center h-full text-zinc-500 text-sm",children:"ç„¡æ•¸æ“š"});switch(e.type){case"sales-heatmap":{let t=e.data?.distribution||a.areaDistributionAnalysis;if(!t)return(0,j.jsx)("div",{className:"p-4 text-zinc-500",children:"ç„¡ç†±åŠ›åœ–æ•¸æ“š"});return(0,j.jsx)("div",{className:"h-full overflow-hidden p-1",children:(0,j.jsx)(eS.AreaHeatmapChart,{data:t,selectedRooms:e.data?.selectedRooms||["2æˆ¿","3æˆ¿"],minArea:e.data?.min||15,maxArea:e.data?.max||65,interval:e.data?.interval||5})})}case"sales-heatmap-detail":{let t=S.default.useMemo(()=>{if(e.data&&Array.isArray(e.data)&&e.data.length>0)return e.data;if(!a.transactionDetails)return[];let t={};return a.transactionDetails.forEach(e=>{let i=e["å»ºæ¡ˆåç¨±"]||e.projectName||"æœªçŸ¥";t[i]||(t[i]=[]),t[i].push(e)}),Object.entries(t).map(([e,t])=>{let i=t.map(e=>e["ç”¢æ¬Šç¸½åƒ¹"]||e["äº¤æ˜“ç¸½åƒ¹(è¬)"]||e.totalPrice||0).filter(e=>e>0).sort((e,t)=>e-t),r=t.map(e=>e["æˆ¿å±‹å–®åƒ¹"]||e["æˆ¿å±‹å–®åƒ¹(è¬)"]||e.unitPrice||0).filter(e=>e>0),n=0;if(i.length>0){let e=Math.floor(i.length/2);n=i.length%2!=0?i[e]:(i[e-1]+i[e])/2}return{projectName:e,count:t.length,priceRange:{median:n},unitPriceRange:{min:r.length?Math.min(...r):0,max:r.length?Math.max(...r):0}}}).sort((e,t)=>t.unitPriceRange.max-e.unitPriceRange.max)},[e.data,a.transactionDetails]);if(0===t.length)return(0,j.jsx)("div",{className:"p-4 text-zinc-500 text-xs text-center",children:"ç„¡æ•¸æ“š"});return(0,j.jsx)("div",{className:"h-full overflow-auto custom-scrollbar p-1",children:(0,j.jsxs)("table",{className:"w-full text-xs border-collapse",children:[(0,j.jsx)("thead",{className:"bg-zinc-800 text-zinc-300 sticky top-0",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"p-2 text-left",children:"å»ºæ¡ˆåç¨±"}),(0,j.jsx)("th",{className:"p-2 text-center",children:"å–®åƒ¹ç¯„åœ(è¬/åª)"}),(0,j.jsx)("th",{className:"p-2 text-center",children:"ç¸½åƒ¹ä¸­ä½æ•¸(è¬)"}),(0,j.jsx)("th",{className:"p-2 text-center",children:"äº¤æ˜“ç­†æ•¸"})]})}),(0,j.jsx)("tbody",{className:"divide-y divide-white/5",children:t.map((e,t)=>(0,j.jsxs)("tr",{className:"hover:bg-zinc-800/30",children:[(0,j.jsx)("td",{className:"p-2 text-white font-medium",children:e.projectName}),(0,j.jsxs)("td",{className:"p-2 text-center text-cyan-400",children:[e.unitPriceRange?.min?.toFixed(1)," ~ ",e.unitPriceRange?.max?.toFixed(1)]}),(0,j.jsx)("td",{className:"p-2 text-center text-violet-400",children:Math.round(e.priceRange?.median||0).toLocaleString()}),(0,j.jsx)("td",{className:"p-2 text-center text-zinc-300",children:e.count})]},t))})]})})}case"heatmap":case"heatmap-grid":{let t=e.data?.projectData||(a.priceGridAnalysis?.byProject?a.priceGridAnalysis.byProject[Object.keys(a.priceGridAnalysis.byProject)[0]]:null),i=e.data?.floorPremium||.3;return(0,j.jsx)("div",{className:"h-full overflow-auto custom-scrollbar p-1",children:t?(0,j.jsx)(ej.PricingHeatmap,{data:t,floorPremium:i,showGrid:!0,showSummary:!1,showComparison:!1}):(0,j.jsx)("div",{className:"text-zinc-500 text-sm p-4 text-center",children:"ç„¡ç†±åŠ›åœ–æ•¸æ“š (è«‹å…ˆè¼‰å…¥å»ºæ¡ˆè³‡æ–™)"})})}case"heatmap-stats":{let t=e.data?.summary?{summary:e.data.summary}:a.priceGridAnalysis?.byProject?a.priceGridAnalysis.byProject[Object.keys(a.priceGridAnalysis.byProject)[0]]:null;return(0,j.jsx)("div",{className:"h-full overflow-auto custom-scrollbar p-1",children:t?.summary?(0,j.jsx)(ej.PricingHeatmap,{data:t,showGrid:!1,showSummary:!0,showComparison:!1}):(0,j.jsx)("div",{className:"text-zinc-500 text-sm p-4 text-center",children:"ç„¡çµ±è¨ˆæ‘˜è¦æ•¸æ“š"})})}case"heatmap-comparison":{let t=e.data?.horizontalComparison?{horizontalComparison:e.data.horizontalComparison}:a.priceGridAnalysis?.byProject?a.priceGridAnalysis.byProject[Object.keys(a.priceGridAnalysis.byProject)[0]]:null;return(0,j.jsx)("div",{className:"h-full overflow-auto custom-scrollbar p-1",children:t?.horizontalComparison?(0,j.jsx)(ej.PricingHeatmap,{data:t,showGrid:!1,showSummary:!1,showComparison:!0}):(0,j.jsx)("div",{className:"text-zinc-500 text-sm p-4 text-center",children:"ç„¡æº¢åƒ¹è²¢ç»æ•¸æ“š"})})}case"unit-price-stats":{let t=e.data||{residentialStats:a.unitPriceAnalysis?.residentialStats,officeStats:a.unitPriceAnalysis?.officeStats,storeStats:a.unitPriceAnalysis?.storeStats,averageType:"weighted"};return(0,j.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 h-full p-2 overflow-y-auto custom-scrollbar",children:[(0,j.jsx)(ew.UnitPriceStatsBlock,{title:"ä½å®…çµ±è¨ˆ",stats:t.residentialStats,noDataMessage:"ç„¡æ•¸æ“š",className:"bg-zinc-900/40 border-violet-500/20 scale-[0.9] origin-top",averageType:t.averageType||"weighted"}),(0,j.jsx)(ew.UnitPriceStatsBlock,{title:"è¾¦å…¬çµ±è¨ˆ",stats:t.officeStats,noDataMessage:"ç„¡æ•¸æ“š",className:"bg-zinc-900/40 border-cyan-500/20 scale-[0.9] origin-top",averageType:t.averageType||"weighted"}),(0,j.jsx)(ew.UnitPriceStatsBlock,{title:"åº—èˆ–çµ±è¨ˆ",stats:t.storeStats,noDataMessage:"ç„¡æ•¸æ“š",className:"bg-zinc-900/40 border-amber-500/20 lg:col-span-2 scale-[0.9] origin-top",averageType:t.averageType||"weighted"})]})}case"ranking-metrics":{let t=a.rankingAnalysis?.projectRanking||a.projectRanking||[],{coreMetrics:i,derivedMetrics:r}=e.data||{coreMetrics:a.rankingAnalysis?.coreMetrics||a.coreMetrics,derivedMetrics:{min:Math.min(...t.map(e=>e.minPrice).filter(e=>e>0)||[0]),max:Math.max(...t.map(e=>e.maxPrice)||[0]),median:t.length?t.reduce((e,t)=>e+(t.medianPrice||0),0)/t.length:0,parking:t.length?t.reduce((e,t)=>e+(t.avgParkingPrice||0),0)/t.length:0}};if(!i)return(0,j.jsx)("div",{className:"p-4 text-zinc-500 text-xs text-center flex items-center justify-center h-full",children:"ç„¡æŒ‡æ¨™æ•¸æ“š"});let n=[{title:"å¸‚å ´åŽ»åŒ–ç¸½éŠ·å”®é‡‘é¡",value:i.totalSaleAmount?.toLocaleString(),unit:"è¬"},{title:"ç¸½éŠ·åŽ»åŒ–æˆ¿å±‹åªæ•¸",value:i.totalHouseArea?.toLocaleString(void 0,{maximumFractionDigits:1}),unit:"åª"},{title:"ç¸½å¹³å‡å–®åƒ¹",value:i.overallAveragePrice?.toLocaleString(void 0,{maximumFractionDigits:1}),unit:"è¬/åª"},{title:"ç¸½äº¤æ˜“ç­†æ•¸",value:i.transactionCount?.toLocaleString(),unit:"ç­†"},{title:"æœ€ä½Žæˆäº¤å–®åƒ¹",value:r.min?.toLocaleString(void 0,{maximumFractionDigits:1}),unit:"è¬/åª"},{title:"æœ€é«˜æˆäº¤å–®åƒ¹",value:r.max?.toLocaleString(void 0,{maximumFractionDigits:1}),unit:"è¬/åª"},{title:"å¹³å‡ä¸­ä½æ•¸å–®åƒ¹",value:r.median?.toLocaleString(void 0,{maximumFractionDigits:1}),unit:"è¬/åª"},{title:"å¹³å‡è»Šä½åƒ¹æ ¼",value:r.parking?.toLocaleString(void 0,{maximumFractionDigits:0}),unit:"è¬"}];return(0,j.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 h-full p-1 overflow-y-auto custom-scrollbar",children:n.map((e,t)=>(0,j.jsxs)("div",{className:"bg-zinc-800/40 rounded border border-white/5 p-2 flex flex-col items-center justify-center text-center",children:[(0,j.jsx)("div",{className:"text-zinc-500 text-[10px] mb-1 truncate w-full",children:e.title}),(0,j.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,j.jsx)("span",{className:"text-sm font-bold text-white",children:e.value}),(0,j.jsx)("span",{className:"text-[8px] text-zinc-600",children:e.unit})]})]},t))})}case"ranking-chart":let t=e.data||a.rankingAnalysis?.projectRanking||a.projectRanking||[];return(0,j.jsx)(eg.RankingChart,{data:t.slice(0,10),sortKey:"saleAmountSum",limit:10,chartType:"bar",height:"100%"});case"price-band-chart":let i=a.priceBandAnalysis?.details||[];return(0,j.jsx)(em.PriceBandChart,{data:e.data||i});case"price-band-table":let r=void 0!==e.data?e.data:a.priceBandAnalysis?.details||[];return(0,j.jsx)("div",{className:"h-full overflow-auto custom-scrollbar",children:(0,j.jsxs)("table",{className:"w-full text-[10px] text-left",children:[(0,j.jsx)("thead",{className:"bg-zinc-900 sticky top-0 text-zinc-500",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"p-1",children:"æˆ¿åž‹"}),(0,j.jsx)("th",{className:"p-1",children:"è¡›æµ´äºº"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"å¹³å‡ç¸½åƒ¹"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"ä¸­ä½æ•¸"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"ç­†æ•¸"})]})}),(0,j.jsx)("tbody",{className:"divide-y divide-white/5",children:r.map((e,t)=>(0,j.jsxs)("tr",{className:"text-zinc-300",children:[(0,j.jsx)("td",{className:"p-1",children:e.roomType}),(0,j.jsx)("td",{className:"p-1 text-zinc-500",children:e.bathrooms??"-"}),(0,j.jsx)("td",{className:"p-1 text-right text-zinc-300",children:Math.round(e.avgPrice||0).toLocaleString()}),(0,j.jsx)("td",{className:"p-1 text-right text-violet-400",children:Math.round(e.medianPrice||0).toLocaleString()}),(0,j.jsx)("td",{className:"p-1 text-right text-zinc-500",children:e.count})]},t))})]})});case"price-band-location-table":let n=e.data;if(!n)return(0,j.jsx)("div",{className:"flex items-center justify-center h-full text-zinc-500 text-sm",children:"ç„¡å€åŸŸæ•¸æ“š"});let s=n.locations&&n.rows,o=s?n.locations:Object.keys(n[0]||{}).filter(e=>"æˆ¿åž‹"!==e&&"ç¸½è¨ˆ"!==e),l=s?n.rows:n;if(!l||0===l.length)return(0,j.jsx)("div",{className:"flex items-center justify-center h-full text-zinc-500 text-sm",children:"ç„¡å€åŸŸæ•¸æ“š"});return(0,j.jsx)("div",{className:"h-full overflow-auto custom-scrollbar",children:(0,j.jsxs)("table",{className:"w-full text-[10px] text-left border-collapse",children:[(0,j.jsx)("thead",{className:"bg-zinc-900 sticky top-0 text-zinc-500",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"p-1 sticky left-0 bg-zinc-900 z-10 border-r border-white/5",children:"æˆ¿åž‹"}),o.map(e=>(0,j.jsx)("th",{className:"p-1 text-center min-w-[40px]",children:e},e)),(0,j.jsx)("th",{className:"p-1 text-center font-bold text-white border-l border-white/5",children:"ç¸½è¨ˆ"})]})}),(0,j.jsx)("tbody",{className:"divide-y divide-white/5",children:l.map((e,t)=>(0,j.jsxs)("tr",{className:"text-zinc-300 hover:bg-zinc-800/30",children:[(0,j.jsx)("td",{className:"p-1 sticky left-0 bg-zinc-950/90 border-r border-white/5",children:e.roomType||e["æˆ¿åž‹"]}),o.map((t,i)=>{let r=s?e.cells[i]:e[t],n="number"==typeof r&&r>0?Math.min(r/10,1):0;return(0,j.jsx)("td",{className:"p-1 text-center text-zinc-400",style:r>0?{backgroundColor:`rgba(6, 182, 212, ${.3*n})`}:{},children:r>0?r:"-"},t)}),(0,j.jsx)("td",{className:"p-1 text-center text-cyan-400 border-l border-white/5 font-bold",children:e.rowTotal||e["ç¸½è¨ˆ"]})]},t))})]})});case"price-band-location-chart":let c=e.data;if(!c)return(0,j.jsx)("div",{className:"flex items-center justify-center h-full text-zinc-500 text-sm",children:"ç„¡æ•¸æ“š"});let d=c.locations&&c.rows,h=d?c.locations:Object.keys(c[0]||{}).filter(e=>"æˆ¿åž‹"!==e&&"ç¸½è¨ˆ"!==e),u=d?c.rows.map(e=>e.roomType):c.map(e=>e["æˆ¿åž‹"]);if(0===u.length)return(0,j.jsx)("div",{className:"flex items-center justify-center h-full text-zinc-500 text-sm",children:"ç„¡æ•¸æ“š"});let p=h.map((e,t)=>({name:e,data:d?c.rows.map(e=>e.cells[t]||0):c.map(t=>t[e]||0)}));return(0,j.jsx)(ey,{options:{chart:{type:"bar",stacked:!0,background:"transparent",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,borderRadius:2}},dataLabels:{enabled:!1},xaxis:{categories:u,labels:{style:{colors:"#71717a"}}},yaxis:{labels:{style:{colors:"#71717a"}}},grid:{borderColor:"#27272a"},legend:{position:"bottom",labels:{colors:"#a1a1aa"}},theme:{mode:"dark"},colors:["#06b6d4","#8b5cf6","#f59e0b","#10b981","#ef4444","#ec4899"]},series:p,type:"bar",height:"100%"});case"unit-price-bubble":let f=a.transactionDetails||[];return(0,j.jsx)(ex.BubbleChart,{data:f,minPrice:30,maxPrice:150,interval:5,sizeMetric:"count",onMinPriceChange:()=>{},onMaxPriceChange:()=>{},onIntervalChange:()=>{},onSizeMetricChange:()=>{}});case"sales-velocity-chart":let g=a.salesVelocityAnalysis;if(!g?.weekly)return(0,j.jsx)("div",{className:"flex items-center justify-center h-full text-zinc-500 text-sm",children:"ç„¡éŠ·å”®é€Ÿåº¦æ•¸æ“š"});return(0,j.jsx)(eb.SalesVelocityChart,{data:g.weekly,selectedRooms:["1æˆ¿","2æˆ¿","3æˆ¿"],metric:"count"});case"ranking-table":let m=e.data||a.rankingAnalysis?.projectRanking||a.projectRanking||[];return(0,j.jsx)("div",{className:"h-full overflow-auto custom-scrollbar",children:(0,j.jsxs)("table",{className:"w-full text-[10px] text-left",children:[(0,j.jsx)("thead",{className:"bg-zinc-900 sticky top-0 text-zinc-500",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"p-1",children:"å»ºæ¡ˆ"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"äº¤æ˜“ç¸½åƒ¹"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"å–®åƒ¹"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"ç­†æ•¸"})]})}),(0,j.jsx)("tbody",{className:"divide-y divide-white/5",children:m.slice(0,50).map((e,t)=>(0,j.jsxs)("tr",{className:"text-zinc-300",children:[(0,j.jsx)("td",{className:"p-1 truncate max-w-[80px]",title:e.projectName,children:e.projectName}),(0,j.jsxs)("td",{className:"p-1 text-right font-mono text-zinc-400",children:[(e.saleAmountSum/1e4).toFixed(0),"å„„"]}),(0,j.jsx)("td",{className:"p-1 text-right font-mono text-cyan-400",children:e.averagePrice?.toFixed(1)}),(0,j.jsx)("td",{className:"p-1 text-right font-mono text-zinc-500",children:e.transactionCount})]},t))})]})});case"sales-velocity-table":let x=e.data||[];if(!x||0===x.length)return(0,j.jsx)("div",{className:"flex items-center justify-center h-full text-zinc-500 text-sm",children:"ç„¡æ•¸æ“š"});return(0,j.jsx)("div",{className:"h-full overflow-auto custom-scrollbar",children:(0,j.jsxs)("table",{className:"w-full text-[10px] text-left",children:[(0,j.jsx)("thead",{className:"bg-zinc-900 sticky top-0 text-zinc-500",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"p-1",children:"å€é–“"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"ç­†æ•¸"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"ç¸½éŠ·(å„„)"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"åªæ•¸"})]})}),(0,j.jsx)("tbody",{className:"divide-y divide-white/5",children:x.map((e,t)=>(0,j.jsxs)("tr",{className:"text-zinc-300",children:[(0,j.jsx)("td",{className:"p-1 text-zinc-400",children:e.period}),(0,j.jsx)("td",{className:"p-1 text-right font-mono text-white",children:e.total?.count||0}),(0,j.jsx)("td",{className:"p-1 text-right font-mono text-cyan-400",children:((e.total?.priceSum||0)/1e4).toFixed(1)}),(0,j.jsx)("td",{className:"p-1 text-right font-mono text-zinc-500",children:Math.round(e.total?.areaSum||0)})]},t))})]})});case"type-comparison-table":let b=e.data||a.unitPriceAnalysis?.typeComparison||[];return(0,j.jsx)("div",{className:"h-full overflow-auto custom-scrollbar",children:(0,j.jsxs)("table",{className:"w-full text-[10px] text-left",children:[(0,j.jsx)("thead",{className:"bg-zinc-900 sticky top-0 text-zinc-500",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"p-1",children:"å»ºæ¡ˆ"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"ä½å®…"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"åº—é¢"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"è¾¦å…¬"})]})}),(0,j.jsx)("tbody",{className:"divide-y divide-white/5",children:b.map((e,t)=>(0,j.jsxs)("tr",{className:"text-zinc-300",children:[(0,j.jsx)("td",{className:"p-1 truncate max-w-[80px]",children:e.projectName}),(0,j.jsx)("td",{className:"p-1 text-right font-mono text-cyan-400",children:e.residentialAvg?e.residentialAvg.toFixed(1):"-"}),(0,j.jsx)("td",{className:"p-1 text-right font-mono text-amber-400",children:e.storeAvg?e.storeAvg.toFixed(1):"-"}),(0,j.jsx)("td",{className:"p-1 text-right font-mono text-violet-400",children:e.officeAvg?e.officeAvg.toFixed(1):"-"})]},t))})]})});case"parking-pie":let v=a.parkingAnalysis?.parkingRatio,y=[{name:"æœ‰è»Šä½",value:v?.withParking?.count||0},{name:"ç„¡è»Šä½",value:v?.withoutParking?.count||0}],w={chart:{type:"donut",background:"transparent"},labels:y.map(e=>e.name),colors:["#8b5cf6","#3f3f46"],stroke:{show:!1},dataLabels:{enabled:!1},legend:{show:!0,position:"bottom",labels:{colors:"#a1a1aa"}},theme:{mode:"dark"}};return(0,j.jsx)(ey,{options:w,series:y.map(e=>e.value),type:"donut",height:"100%"});case"parking-price":let z=a.parkingAnalysis?.avgPriceByType||[];return(0,j.jsx)("div",{className:"h-full overflow-auto custom-scrollbar",children:(0,j.jsxs)("table",{className:"w-full text-[10px] text-left",children:[(0,j.jsx)("thead",{className:"bg-zinc-900 sticky top-0 text-zinc-500",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"p-1",children:"é¡žåž‹"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"å‡åƒ¹"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"ç¸½æ•¸"})]})}),(0,j.jsx)("tbody",{className:"divide-y divide-white/5",children:z.map(e=>(0,j.jsxs)("tr",{className:"text-zinc-300",children:[(0,j.jsx)("td",{className:"p-1",children:e.type}),(0,j.jsx)("td",{className:"p-1 text-right text-cyan-400",children:Math.round(e.avgPrice).toLocaleString()}),(0,j.jsx)("td",{className:"p-1 text-right text-zinc-500",children:e.count})]},e.type))})]})});case"heatmap":return(0,j.jsxs)("div",{className:"h-full flex flex-col items-center justify-center p-4 text-center",children:[(0,j.jsx)("div",{className:"w-16 h-16 rounded-lg bg-violet-500/10 flex items-center justify-center mb-2",children:(0,j.jsx)(el,{className:"h-8 w-8 text-violet-500"})}),(0,j.jsx)("p",{className:"text-xs text-zinc-400",children:"ç”±æ–¼ç†±åŠ›åœ–éœ€è¦å°ˆæ¡ˆé¸æ“‡ï¼Œæ­¤å…ƒä»¶å°‡åœ¨åŒ¯å‡ºæ™‚å‘ˆç¾å°ˆæ¡ˆéŠ·æŽ§ç‹€æ…‹ã€‚"}),(0,j.jsx)("div",{className:"mt-2 grid grid-cols-4 gap-1 w-full max-w-[200px]",children:Array.from({length:12}).map((e,t)=>(0,j.jsx)("div",{className:(0,A.cn)("h-3 rounded-sm",t%3==0?"bg-red-500/50":"bg-zinc-700/50")},t))})]});case"data-list":let N=a.transactionDetails||[];return(0,j.jsx)("div",{className:"h-full overflow-auto custom-scrollbar",children:(0,j.jsxs)("table",{className:"w-full text-[9px] text-left",children:[(0,j.jsx)("thead",{className:"bg-zinc-900 sticky top-0 text-zinc-500",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"p-1",children:"å»ºæ¡ˆåç¨±"}),(0,j.jsx)("th",{className:"p-1",children:"æ—¥æœŸ"}),(0,j.jsx)("th",{className:"p-1 text-right",children:"å–®åƒ¹"})]})}),(0,j.jsx)("tbody",{className:"divide-y divide-white/5",children:N.slice(0,50).map((e,t)=>(0,j.jsxs)("tr",{className:"text-zinc-300",children:[(0,j.jsx)("td",{className:"p-1 truncate max-w-[80px]",children:e["å»ºæ¡ˆåç¨±"]}),(0,j.jsx)("td",{className:"p-1 text-zinc-500",children:e["äº¤æ˜“æ—¥"]}),(0,j.jsx)("td",{className:"p-1 text-right text-violet-400",children:e["æˆ¿å±‹å–®åƒ¹(è¬)"]||"-"})]},t))})]})});case"parking-scatter":return(0,j.jsxs)("div",{className:"h-full flex flex-col items-center justify-center p-4 text-center",children:[(0,j.jsx)("div",{className:"w-12 h-12 rounded-full bg-cyan-500/10 flex items-center justify-center mb-2",children:(0,j.jsx)(ec,{className:"h-6 w-6 text-cyan-500"})}),(0,j.jsx)("p",{className:"text-[10px] text-zinc-400",children:"è»Šä½åªæ•¸æ•£ä½ˆåˆ†æž"}),(0,j.jsx)("div",{className:"mt-2 w-full h-24 bg-zinc-900/50 rounded flex items-end justify-around p-2 gap-1",children:Array.from({length:15}).map((e,t)=>(0,j.jsx)("div",{className:"w-1 bg-cyan-500/40 rounded-full",style:{height:`${20+60*Math.random()}%`}},t))})]});case"parking-floor":return(0,j.jsxs)("div",{className:"h-full flex flex-col items-center justify-center p-4 text-center border border-dashed border-white/5 rounded",children:[(0,j.jsx)("div",{className:"w-12 h-12 rounded bg-violet-500/10 flex items-center justify-center mb-2",children:(0,j.jsx)(C,{className:"h-6 w-6 text-violet-500"})}),(0,j.jsx)("p",{className:"text-[10px] text-zinc-400",children:"æ¨“å±¤åƒ¹å·®åˆ†æžæ•¸æ“š"}),(0,j.jsx)("div",{className:"mt-2 space-y-1 w-full",children:["B1","B2","B3"].map(e=>(0,j.jsxs)("div",{className:"flex justify-between text-[8px] bg-zinc-900/50 p-1 rounded",children:[(0,j.jsxs)("span",{className:"text-zinc-500",children:[e,"å±¤"]}),(0,j.jsx)("span",{className:"text-cyan-400",children:"æ¼²å¹… +2.4%"})]},e))})]});default:return(0,j.jsx)("div",{className:"flex items-center justify-center h-full text-zinc-500 text-sm",children:"æœªçŸ¥åœ–è¡¨é¡žåž‹"})}})()}),!t&&!f&&(0,j.jsx)("div",{className:"absolute inset-0 z-10 cursor-pointer",onClick:e=>{e.stopPropagation(),i(e)}})]})]})}var eD=e.i(2953);let eM=(0,k.default)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);var ek=e.i(80467),eR=e.i(67874);let eC=[{id:"ranking",title:"æ ¸å¿ƒæŒ‡æ¨™èˆ‡æŽ’å",items:[{type:"ranking-metrics",label:"æ ¸å¿ƒæ•¸æ“šæŒ‡æ¨™",icon:(0,j.jsx)(ec,{className:"h-4 w-4"}),description:"8 é …é—œéµæˆäº¤æŒ‡æ¨™å¡ç‰‡"},{type:"ranking-chart",label:"å»ºæ¡ˆæŽ’ååœ–è¡¨",icon:(0,j.jsx)(eD.BarChart3,{className:"h-4 w-4"}),description:"ç¸½éŠ·èˆ‡å„é …æŒ‡æ¨™æŽ’å"},{type:"ranking-table",label:"å»ºæ¡ˆæŽ’ååˆ—è¡¨",icon:(0,j.jsx)(eD.BarChart3,{className:"h-4 w-4"}),description:"è©³ç´°æ•¸æ“šåˆ—è¡¨"}]},{id:"price-band",title:"ç¸½åƒ¹å¸¶åˆ†æž",items:[{type:"price-band-chart",label:"ç¸½åƒ¹å¸¶åˆ†ä½ˆ",icon:(0,j.jsx)(el,{className:"h-4 w-4"}),description:"åƒ¹æ ¼å€é–“ç®±åž‹åœ–"},{type:"price-band-table",label:"ç¸½åƒ¹å¸¶è©³æƒ…",icon:(0,j.jsx)(el,{className:"h-4 w-4"}),description:"å„æˆ¿åž‹è¡›æµ´çµ±è¨ˆ"},{type:"price-band-location-chart",label:"å€åŸŸæˆäº¤ä½”æ¯”",icon:(0,j.jsx)(eM,{className:"h-4 w-4"}),description:"å„å€æˆ¿åž‹åˆ†ä½ˆ"},{type:"price-band-location-table",label:"å€åŸŸæˆ¿åž‹åˆ†ä½ˆ",icon:(0,j.jsx)(el,{className:"h-4 w-4"}),description:"å€åŸŸäº¤å‰åˆ†æžè¡¨"}]},{id:"unit-price",title:"å–®åƒ¹åˆ†æž",items:[{type:"unit-price-stats",label:"å„ç”¨é€”å–®åƒ¹çµ±è¨ˆ",icon:(0,j.jsx)(ec,{className:"h-4 w-4"}),description:"ä½å®…/è¾¦å…¬/åº—é¢æŒ‡æ¨™å¡"},{type:"unit-price-bubble",label:"å–®åƒ¹æ³¡æ³¡åœ–",icon:(0,j.jsx)(ec,{className:"h-4 w-4"}),description:"æˆäº¤å–®åƒ¹ç†±åº¦åˆ†ä½ˆ"},{type:"type-comparison-table",label:"ç”¢å“é¡žåž‹æ¯”è¼ƒ",icon:(0,j.jsx)(el,{className:"h-4 w-4"}),description:"ä½å®…/åº—é¢/è¾¦å…¬å‡åƒ¹"}]},{id:"heatmap",title:"èª¿åƒ¹ç†±åŠ›åœ–",items:[{type:"heatmap-grid",label:"éŠ·æŽ§ç†±åŠ›åœ–",icon:(0,j.jsx)(el,{className:"h-4 w-4"}),description:"æ¨“å±¤æˆ¶åˆ¥åƒ¹å·®åˆ†æž"},{type:"heatmap-stats",label:"èª¿åƒ¹å¹…åº¦æ‘˜è¦",icon:(0,j.jsx)(el,{className:"h-4 w-4"}),description:"ç¸½æº¢åƒ¹èˆ‡å¹³å‡èª¿åƒ¹"},{type:"heatmap-comparison",label:"æˆ¶åž‹æº¢åƒ¹è²¢ç»",icon:(0,j.jsx)(el,{className:"h-4 w-4"}),description:"å„æˆ¶åž‹æ°´å¹³åƒ¹å·®æ¯”è¼ƒ"}]},{id:"velocity",title:"éŠ·å”®é€Ÿåº¦èˆ‡æˆ¿åž‹",items:[{type:"sales-velocity-chart",label:"éŠ·å”®é€Ÿåº¦è¶¨å‹¢",icon:(0,j.jsx)(ek.TrendingUp,{className:"h-4 w-4"}),description:"åŽ»åŒ–é€Ÿåº¦èˆ‡é‡èƒ½"},{type:"sales-velocity-table",label:"éŠ·å”®é€Ÿåº¦æ˜Žç´°",icon:(0,j.jsx)(el,{className:"h-4 w-4"}),description:"è©³ç´°éŠ·å”®æ•¸æ“š"},{type:"sales-heatmap",label:"æˆ¿åž‹é¢ç©ç†±åŠ›åœ–",icon:(0,j.jsx)(el,{className:"h-4 w-4"}),description:"åªæ•¸åŽ»åŒ–åˆ†ä½ˆ"},{type:"sales-heatmap-detail",label:"ç†±åŠ›è©³ç´°äº¤æ˜“è¡¨",icon:(0,j.jsx)(eR.Table2,{className:"h-4 w-4"}),description:"ç†±åŠ›åœ–é»žæ“Šè©³ç´°åˆ†æž"}]},{id:"parking",title:"è»Šä½åˆ†æž",items:[{type:"parking-pie",label:"æˆ¿è»Šé…æ¯”",icon:(0,j.jsx)(eM,{className:"h-4 w-4"}),description:"æœ‰/ç„¡è»Šä½æ¯”ä¾‹"},{type:"parking-price",label:"è»Šä½å‡åƒ¹",icon:(0,j.jsx)(eD.BarChart3,{className:"h-4 w-4"}),description:"å„é¡žè»Šä½è¡Œæƒ…"},{type:"parking-scatter",label:"è»Šä½åªæ•¸æ•£ä½ˆ",icon:(0,j.jsx)(ec,{className:"h-4 w-4"}),description:"è¦æ¨¡èˆ‡åƒ¹å€¼åˆ†æž"},{type:"parking-floor",label:"æ¨“å±¤åƒ¹å·®",icon:(0,j.jsx)(ek.TrendingUp,{className:"h-4 w-4"}),description:"åœ°ä¸‹å®¤æ¨“å±¤åƒ¹å·®"}]},{id:"others",title:"å…¶ä»–",items:[{type:"data-list",label:"äº¤æ˜“æ˜Žç´°åˆ—è¡¨",icon:(0,j.jsx)(eD.BarChart3,{className:"h-4 w-4"}),description:"åŽŸå§‹äº¤æ˜“æ•¸æ“š"}]}];function eP({onAddItem:e,hasData:t}){return(0,j.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:[(0,j.jsx)("div",{className:"p-3 space-y-6",children:eC.map(i=>(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsx)("h3",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider pl-1",children:i.title}),(0,j.jsx)("div",{className:"space-y-1",children:i.items.map(i=>(0,j.jsxs)("button",{onClick:()=>e(i.type),disabled:!t,className:(0,A.cn)("w-full p-2.5 rounded-lg border text-left transition-all group relative overflow-hidden",t?"bg-zinc-800/40 border-white/5 hover:bg-zinc-700/60 hover:border-violet-500/30 cursor-pointer":"bg-zinc-900/30 border-white/5 opacity-50 cursor-not-allowed"),children:[(0,j.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[(0,j.jsx)("div",{className:(0,A.cn)("p-1.5 rounded-md transition-colors",t?"bg-zinc-700/50 group-hover:bg-violet-500/20 text-zinc-400 group-hover:text-violet-300":"bg-zinc-800 text-zinc-600"),children:i.icon}),(0,j.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,j.jsx)("div",{className:"text-xs font-medium text-zinc-200 group-hover:text-white truncate",children:i.label}),(0,j.jsx)("div",{className:"text-[10px] text-zinc-500 group-hover:text-zinc-400 truncate",children:i.description})]})]}),t&&(0,j.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-transparent to-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]},i.type))})]},i.id))}),!t&&(0,j.jsx)("div",{className:"text-center py-8 text-xs text-zinc-500 px-4",children:"è«‹å…ˆå¾žå·¦å´è¼‰å…¥å„€è¡¨æ¿æ•¸æ“šï¼Œæ‰èƒ½ä½¿ç”¨çµ„å»ºåŠŸèƒ½ã€‚"})]})}let eE="u">typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function eT(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function eA(e){return"nodeType"in e}function eO(e){var t,i;return e?eT(e)?e:eA(e)&&null!=(t=null==(i=e.ownerDocument)?void 0:i.defaultView)?t:window:window}function eW(e){let{Document:t}=eO(e);return e instanceof t}function eB(e){return!eT(e)&&e instanceof eO(e).HTMLElement}function eL(e){return e instanceof eO(e).SVGElement}function eH(e){return e?eT(e)?e.document:eA(e)?eW(e)?e:eB(e)||eL(e)?e.ownerDocument:document:document:document}let eI=eE?S.useLayoutEffect:S.useEffect;function eX(e){let t=(0,S.useRef)(e);return eI(()=>{t.current=e}),(0,S.useCallback)(function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];return null==t.current?void 0:t.current(...i)},[])}function eF(e,t){void 0===t&&(t=[e]);let i=(0,S.useRef)(e);return eI(()=>{i.current!==e&&(i.current=e)},t),i}function eY(e,t){let i=(0,S.useRef)();return(0,S.useMemo)(()=>{let t=e(i.current);return i.current=t,t},[...t])}function eU(e){let t=eX(e),i=(0,S.useRef)(null),r=(0,S.useCallback)(e=>{e!==i.current&&(null==t||t(e,i.current)),i.current=e},[]);return[i,r]}function e_(e){let t=(0,S.useRef)();return(0,S.useEffect)(()=>{t.current=e},[e]),t.current}let eG={};function eV(e,t){return(0,S.useMemo)(()=>{if(t)return t;let i=null==eG[e]?0:eG[e]+1;return eG[e]=i,e+"-"+i},[e,t])}function eK(e){return function(t){for(var i=arguments.length,r=Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return r.reduce((t,i)=>{for(let[r,n]of Object.entries(i)){let i=t[r];null!=i&&(t[r]=i+e*n)}return t},{...t})}}let eq=eK(1),e$=eK(-1);function eJ(e){if(!e)return!1;let{KeyboardEvent:t}=eO(e.target);return t&&e instanceof t}function eQ(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=eO(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:i}=e.touches[0];return{x:t,y:i}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:i}=e.changedTouches[0];return{x:t,y:i}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let eZ=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:i}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:i}=e;return"scaleX("+t+") scaleY("+i+")"}},Transform:{toString(e){if(e)return[eZ.Translate.toString(e),eZ.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:i,easing:r}=e;return t+" "+i+"ms "+r}}}),e0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",e1={display:"none"};function e5(e){let{id:t,value:i}=e;return S.default.createElement("div",{id:t,style:e1},i)}function e2(e){let{id:t,announcement:i,ariaLiveType:r="assertive"}=e;return S.default.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},i)}let e4=(0,S.createContext)(null),e9={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},e3={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:i}=e;return i?"Draggable item "+t.id+" was moved over droppable area "+i.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:i}=e;return i?"Draggable item "+t.id+" was dropped over droppable area "+i.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function e6(e){var t;let i,{announcements:r=e3,container:n,hiddenTextDescribedById:s,screenReaderInstructions:a=e9}=e,{announce:o,announcement:l}=function(){let[e,t]=(0,S.useState)("");return{announce:(0,S.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),c=eV("DndLiveRegion"),[d,h]=(0,S.useState)(!1);if((0,S.useEffect)(()=>{h(!0)},[]),t=(0,S.useMemo)(()=>({onDragStart(e){let{active:t}=e;o(r.onDragStart({active:t}))},onDragMove(e){let{active:t,over:i}=e;r.onDragMove&&o(r.onDragMove({active:t,over:i}))},onDragOver(e){let{active:t,over:i}=e;o(r.onDragOver({active:t,over:i}))},onDragEnd(e){let{active:t,over:i}=e;o(r.onDragEnd({active:t,over:i}))},onDragCancel(e){let{active:t,over:i}=e;o(r.onDragCancel({active:t,over:i}))}}),[o,r]),i=(0,S.useContext)(e4),(0,S.useEffect)(()=>{if(!i)throw Error("useDndMonitor must be used within a children of <DndContext>");return i(t)},[t,i]),!d)return null;let u=S.default.createElement(S.default.Fragment,null,S.default.createElement(e5,{id:s,value:a.draggable}),S.default.createElement(e2,{id:c,announcement:l}));return n?(0,B.createPortal)(u,n):u}function e8(){}(r=u||(u={})).DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable";let e7=Object.freeze({x:0,y:0});function te(e,t){let{data:{value:i}}=e,{data:{value:r}}=t;return i-r}function tt(e,t){let{data:{value:i}}=e,{data:{value:r}}=t;return r-i}function ti(e,t,i){return void 0===t&&(t=e.left),void 0===i&&(i=e.top),{x:t+.5*e.width,y:i+.5*e.height}}let tr=e=>{let{collisionRect:t,droppableRects:i,droppableContainers:r}=e,n=ti(t,t.left,t.top),s=[];for(let e of r){let{id:t}=e,r=i.get(t);if(r){var a;let i=(a=ti(r),Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2)));s.push({id:t,data:{droppableContainer:e,value:i}})}}return s.sort(te)},tn=e=>{let{collisionRect:t,droppableRects:i,droppableContainers:r}=e,n=[];for(let e of r){let{id:r}=e,s=i.get(r);if(s){let i=function(e,t){let i=Math.max(t.top,e.top),r=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height);if(r<n&&i<s){let a=t.width*t.height,o=e.width*e.height,l=(n-r)*(s-i);return Number((l/(a+o-l)).toFixed(4))}return 0}(s,t);i>0&&n.push({id:r,data:{droppableContainer:e,value:i}})}}return n.sort(tt)};function ts(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:e7}let ta=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return i.reduce((e,t)=>({...e,top:e.top+ +t.y,bottom:e.bottom+ +t.y,left:e.left+ +t.x,right:e.right+ +t.x}),{...e})},to={ignoreTransform:!1};function tl(e,t){void 0===t&&(t=to);let i=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:r}=eO(e).getComputedStyle(e);t&&(i=function(e,t,i){let r=function(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;let{scaleX:n,scaleY:s,x:a,y:o}=r,l=e.left-a-(1-n)*parseFloat(i),c=e.top-o-(1-s)*parseFloat(i.slice(i.indexOf(" ")+1)),d=n?e.width/n:e.width,h=s?e.height/s:e.height;return{width:d,height:h,top:c,right:l+d,bottom:c+h,left:l}}(i,t,r))}let{top:r,left:n,width:s,height:a,bottom:o,right:l}=i;return{top:r,left:n,width:s,height:a,bottom:o,right:l}}function tc(e){return tl(e,{ignoreTransform:!0})}function td(e,t){let i=[];return e?function r(n){var s,a;let o;if(null!=t&&i.length>=t||!n)return i;if(eW(n)&&null!=n.scrollingElement&&!i.includes(n.scrollingElement))return i.push(n.scrollingElement),i;if(!eB(n)||eL(n)||i.includes(n))return i;let l=eO(e).getComputedStyle(n);return(n!==e&&(void 0===(s=l)&&(s=eO(n).getComputedStyle(n)),o=/(auto|scroll|overlay)/,["overflow","overflowX","overflowY"].some(e=>{let t=s[e];return"string"==typeof t&&o.test(t)}))&&i.push(n),void 0===(a=l)&&(a=eO(n).getComputedStyle(n)),"fixed"===a.position)?i:r(n.parentNode)}(e):i}function th(e){let[t]=td(e,1);return null!=t?t:null}function tu(e){return eE&&e?eT(e)?e:eA(e)?eW(e)||e===eH(e).scrollingElement?window:eB(e)?e:null:null:null}function tp(e){return eT(e)?e.scrollX:e.scrollLeft}function tf(e){return eT(e)?e.scrollY:e.scrollTop}function tg(e){return{x:tp(e),y:tf(e)}}function tm(e){return!!eE&&!!e&&e===document.scrollingElement}function tx(e){let t={x:0,y:0},i=tm(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-i.width,y:e.scrollHeight-i.height},n=e.scrollTop<=t.y,s=e.scrollLeft<=t.x;return{isTop:n,isLeft:s,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}(n=p||(p={}))[n.Forward=1]="Forward",n[n.Backward=-1]="Backward";let tb={x:.2,y:.2};function tv(e){return e.reduce((e,t)=>eq(e,tg(t)),e7)}let ty=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+tp(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+tf(t),0)}]];class tw{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=td(t),r=tv(i);for(const[t,n,s]of(this.rect={...e},this.width=e.width,this.height=e.height,ty))for(const e of n)Object.defineProperty(this,e,{get:()=>{let n=s(i),a=r[t]-n;return this.rect[e]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class tj{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,i){var r;null==(r=this.target)||r.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function tS(e,t){let i=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(i**2+r**2)>t:"x"in t&&"y"in t?i>t.x&&r>t.y:"x"in t?i>t.x:"y"in t&&r>t.y}function tz(e){e.preventDefault()}function tN(e){e.stopPropagation()}(s=f||(f={})).Click="click",s.DragStart="dragstart",s.Keydown="keydown",s.ContextMenu="contextmenu",s.Resize="resize",s.SelectionChange="selectionchange",s.VisibilityChange="visibilitychange",(a=g||(g={})).Space="Space",a.Down="ArrowDown",a.Right="ArrowRight",a.Left="ArrowLeft",a.Up="ArrowUp",a.Esc="Escape",a.Enter="Enter",a.Tab="Tab";let tD={start:[g.Space,g.Enter],cancel:[g.Esc],end:[g.Space,g.Enter,g.Tab]},tM=(e,t)=>{let{currentCoordinates:i}=t;switch(e.code){case g.Right:return{...i,x:i.x+25};case g.Left:return{...i,x:i.x-25};case g.Down:return{...i,y:i.y+25};case g.Up:return{...i,y:i.y-25}}};class tk{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new tj(eH(t)),this.windowListeners=new tj(eO(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(f.Resize,this.handleCancel),this.windowListeners.add(f.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(f.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&function(e,t){if(void 0===t&&(t=tl),!e)return;let{top:i,left:r,bottom:n,right:s}=t(e);th(e)&&(n<=0||s<=0||i>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(i),t(e7)}handleKeyDown(e){if(eJ(e)){let{active:t,context:i,options:r}=this.props,{keyboardCodes:n=tD,coordinateGetter:s=tM,scrollBehavior:a="smooth"}=r,{code:o}=e;if(n.end.includes(o))return void this.handleEnd(e);if(n.cancel.includes(o))return void this.handleCancel(e);let{collisionRect:l}=i.current,c=l?{x:l.left,y:l.top}:e7;this.referenceCoordinates||(this.referenceCoordinates=c);let d=s(e,{active:t,context:i.current,currentCoordinates:c});if(d){let t=e$(d,c),r={x:0,y:0},{scrollableAncestors:n}=i.current;for(let i of n){let n=e.code,{isTop:s,isRight:o,isLeft:l,isBottom:c,maxScroll:h,minScroll:u}=tx(i),p=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:i,right:r,bottom:n}=e.getBoundingClientRect();return{top:t,left:i,right:r,bottom:n,width:e.clientWidth,height:e.clientHeight}}(i),f={x:Math.min(n===g.Right?p.right-p.width/2:p.right,Math.max(n===g.Right?p.left:p.left+p.width/2,d.x)),y:Math.min(n===g.Down?p.bottom-p.height/2:p.bottom,Math.max(n===g.Down?p.top:p.top+p.height/2,d.y))},m=n===g.Right&&!o||n===g.Left&&!l,x=n===g.Down&&!c||n===g.Up&&!s;if(m&&f.x!==d.x){let e=i.scrollLeft+t.x,s=n===g.Right&&e<=h.x||n===g.Left&&e>=u.x;if(s&&!t.y)return void i.scrollTo({left:e,behavior:a});s?r.x=i.scrollLeft-e:r.x=n===g.Right?i.scrollLeft-h.x:i.scrollLeft-u.x,r.x&&i.scrollBy({left:-r.x,behavior:a});break}if(x&&f.y!==d.y){let e=i.scrollTop+t.y,s=n===g.Down&&e<=h.y||n===g.Up&&e>=u.y;if(s&&!t.x)return void i.scrollTo({top:e,behavior:a});s?r.y=i.scrollTop-e:r.y=n===g.Down?i.scrollTop-h.y:i.scrollTop-u.y,r.y&&i.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,eq(e$(d,this.referenceCoordinates),r))}}}handleMove(e,t){let{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function tR(e){return!!(e&&"distance"in e)}function tC(e){return!!(e&&"delay"in e)}tk.activators=[{eventName:"onKeyDown",handler:(e,t,i)=>{let{keyboardCodes:r=tD,onActivation:n}=t,{active:s}=i,{code:a}=e.nativeEvent;if(r.start.includes(a)){let t=s.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==n||n({event:e.nativeEvent}),!0)}return!1}}];class tP{constructor(e,t,i){var r;void 0===i&&(i=function(e){let{EventTarget:t}=eO(e);return e instanceof t?e:eH(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:n}=e,{target:s}=n;this.props=e,this.events=t,this.document=eH(s),this.documentListeners=new tj(this.document),this.listeners=new tj(i),this.windowListeners=new tj(eO(s)),this.initialCoordinates=null!=(r=eQ(n))?r:e7,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(f.Resize,this.handleCancel),this.windowListeners.add(f.DragStart,tz),this.windowListeners.add(f.VisibilityChange,this.handleCancel),this.windowListeners.add(f.ContextMenu,tz),this.documentListeners.add(f.Keydown,this.handleKeydown),t){if(null!=i&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(tC(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(tR(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:i,onPending:r}=this.props;r(i,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(f.Click,tN,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(f.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:i,initialCoordinates:r,props:n}=this,{onMove:s,options:{activationConstraint:a}}=n;if(!r)return;let o=null!=(t=eQ(e))?t:e7,l=e$(r,o);if(!i&&a){if(tR(a)){if(null!=a.tolerance&&tS(l,a.tolerance))return this.handleCancel();if(tS(l,a.distance))return this.handleStart()}return tC(a)&&tS(l,a.tolerance)?this.handleCancel():void this.handlePending(a,l)}e.cancelable&&e.preventDefault(),s(o)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===g.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let tE={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class tT extends tP{constructor(e){const{event:t}=e;super(e,tE,eH(t.target))}}tT.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:i}=e,{onActivation:r}=t;return!!i.isPrimary&&0===i.button&&(null==r||r({event:i}),!0)}}];(o=m||(m={}))[o.RightClick=2]="RightClick";(l=x||(x={}))[l.Pointer=0]="Pointer",l[l.DraggableRect=1]="DraggableRect",(c=b||(b={}))[c.TreeOrder=0]="TreeOrder",c[c.ReversedTreeOrder=1]="ReversedTreeOrder";let tA={x:{[p.Backward]:!1,[p.Forward]:!1},y:{[p.Backward]:!1,[p.Forward]:!1}};(d=v||(v={}))[d.Always=0]="Always",d[d.BeforeDragging=1]="BeforeDragging",d[d.WhileDragging=2]="WhileDragging",(y||(y={})).Optimized="optimized";let tO=new Map;function tW(e,t){return eY(i=>e?i||("function"==typeof t?t(e):e):null,[t,e])}function tB(e){let{callback:t,disabled:i}=e,r=eX(t),n=(0,S.useMemo)(()=>{if(i||"u"<typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(r)},[i]);return(0,S.useEffect)(()=>()=>null==n?void 0:n.disconnect(),[n]),n}function tL(e){return new tw(tl(e),e)}function tH(e,t,i){void 0===t&&(t=tL);let[r,n]=(0,S.useState)(null);function s(){n(r=>{if(!e)return null;if(!1===e.isConnected){var n;return null!=(n=null!=r?r:i)?n:null}let s=t(e);return JSON.stringify(r)===JSON.stringify(s)?r:s})}let a=function(e){let{callback:t,disabled:i}=e,r=eX(t),n=(0,S.useMemo)(()=>{if(i||"u"<typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(r)},[r,i]);return(0,S.useEffect)(()=>()=>null==n?void 0:n.disconnect(),[n]),n}({callback(t){if(e)for(let i of t){let{type:t,target:r}=i;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){s();break}}}}),o=tB({callback:s});return eI(()=>{s(),e?(null==o||o.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==o||o.disconnect(),null==a||a.disconnect())},[e]),r}let tI=[];function tX(e,t){void 0===t&&(t=[]);let i=(0,S.useRef)(null);return(0,S.useEffect)(()=>{i.current=null},t),(0,S.useEffect)(()=>{let t=e!==e7;t&&!i.current&&(i.current=e),!t&&i.current&&(i.current=null)},[e]),i.current?e$(e,i.current):e7}function tF(e){return(0,S.useMemo)(()=>{let t,i;return e?(t=e.innerWidth,{top:0,left:0,right:t,bottom:i=e.innerHeight,width:t,height:i}):null},[e])}let tY=[],tU=[{sensor:tT,options:{}},{sensor:tk,options:{}}],t_={current:{}},tG={draggable:{measure:tc},droppable:{measure:tc,strategy:v.WhileDragging,frequency:y.Optimized},dragOverlay:{measure:tl}};class tV extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return null!=(t=null==(i=this.get(e))?void 0:i.node.current)?t:void 0}}let tK={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new tV,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:e8},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:tG,measureDroppableContainers:e8,windowRect:null,measuringScheduled:!1},tq={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:e8,draggableNodes:new Map,over:null,measureDroppableContainers:e8},t$=(0,S.createContext)(tq),tJ=(0,S.createContext)(tK);function tQ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new tV}}}function tZ(e,t){switch(t.type){case u.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case u.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case u.DragEnd:case u.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case u.RegisterDroppable:{let{element:i}=t,{id:r}=i,n=new tV(e.droppable.containers);return n.set(r,i),{...e,droppable:{...e.droppable,containers:n}}}case u.SetDroppableDisabled:{let{id:i,key:r,disabled:n}=t,s=e.droppable.containers.get(i);if(!s||r!==s.key)return e;let a=new tV(e.droppable.containers);return a.set(i,{...s,disabled:n}),{...e,droppable:{...e.droppable,containers:a}}}case u.UnregisterDroppable:{let{id:i,key:r}=t,n=e.droppable.containers.get(i);if(!n||r!==n.key)return e;let s=new tV(e.droppable.containers);return s.delete(i),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function t0(e){let{disabled:t}=e,{active:i,activatorEvent:r,draggableNodes:n}=(0,S.useContext)(t$),s=e_(r),a=e_(null==i?void 0:i.id);return(0,S.useEffect)(()=>{if(!t&&!r&&s&&null!=a){if(!eJ(s)||document.activeElement===s.target)return;let e=n.get(a);if(!e)return;let{activatorNode:t,node:i}=e;(t.current||i.current)&&requestAnimationFrame(()=>{for(let e of[t.current,i.current]){if(!e)continue;let t=e.matches(e0)?e:e.querySelector(e0);if(t){t.focus();break}}})}},[r,t,n,a,s]),null}let t1=(0,S.createContext)({...e7,scaleX:1,scaleY:1});(h=w||(w={}))[h.Uninitialized=0]="Uninitialized",h[h.Initializing=1]="Initializing",h[h.Initialized=2]="Initialized";let t5=(0,S.memo)(function(e){var t,i,r,n,s,a,o,l;let c,d,h,f,g,m,y,j,{id:z,accessibility:N,autoScroll:D=!0,children:M,sensors:k=tU,collisionDetection:R=tn,measuring:C,modifiers:P,...E}=e,[T,A]=(0,S.useReducer)(tZ,void 0,tQ),[O,W]=function(){let[e]=(0,S.useState)(()=>new Set),t=(0,S.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,S.useCallback)(t=>{let{type:i,event:r}=t;e.forEach(e=>{var t;return null==(t=e[i])?void 0:t.call(e,r)})},[e]),t]}(),[L,H]=(0,S.useState)(w.Uninitialized),I=L===w.Initialized,{draggable:{active:X,nodes:F,translate:Y},droppable:{containers:U}}=T,_=null!=X?F.get(X):null,G=(0,S.useRef)({initial:null,translated:null}),V=(0,S.useMemo)(()=>{var e;return null!=X?{id:X,data:null!=(e=null==_?void 0:_.data)?e:t_,rect:G}:null},[X,_]),K=(0,S.useRef)(null),[q,$]=(0,S.useState)(null),[J,Q]=(0,S.useState)(null),Z=eF(E,Object.values(E)),ee=eV("DndDescribedBy",z),et=(0,S.useMemo)(()=>U.getEnabled(),[U]),ei=(0,S.useMemo)(()=>({draggable:{...tG.draggable,...null==C?void 0:C.draggable},droppable:{...tG.droppable,...null==C?void 0:C.droppable},dragOverlay:{...tG.dragOverlay,...null==C?void 0:C.dragOverlay}}),[null==C?void 0:C.draggable,null==C?void 0:C.droppable,null==C?void 0:C.dragOverlay]),{droppableRects:er,measureDroppableContainers:en,measuringScheduled:es}=function(e,t){let{dragging:i,dependencies:r,config:n}=t,[s,a]=(0,S.useState)(null),{frequency:o,measure:l,strategy:c}=n,d=(0,S.useRef)(e),h=function(){switch(c){case v.Always:return!1;case v.BeforeDragging:return i;default:return!i}}(),u=eF(h),p=(0,S.useCallback)(function(e){void 0===e&&(e=[]),u.current||a(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[u]),f=(0,S.useRef)(null),g=eY(t=>{if(h&&!i)return tO;if(!t||t===tO||d.current!==e||null!=s){let t=new Map;for(let i of e){if(!i)continue;if(s&&s.length>0&&!s.includes(i.id)&&i.rect.current){t.set(i.id,i.rect.current);continue}let e=i.node.current,r=e?new tw(l(e),e):null;i.rect.current=r,r&&t.set(i.id,r)}return t}return t},[e,s,i,h,l]);return(0,S.useEffect)(()=>{d.current=e},[e]),(0,S.useEffect)(()=>{h||p()},[i,h]),(0,S.useEffect)(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),(0,S.useEffect)(()=>{h||"number"!=typeof o||null!==f.current||(f.current=setTimeout(()=>{p(),f.current=null},o))},[o,h,p,...r]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:null!=s}}(et,{dragging:I,dependencies:[Y.x,Y.y],config:ei.droppable}),ea=eY(e=>{var t;return null==X?null:null!=(t=null!=g?g:e)?t:null},[g=(f=null!=X?F.get(X):void 0)?f.node.current:null,X]),eo=(0,S.useMemo)(()=>J?eQ(J):null,[J]),el=(c=(null==q?void 0:q.autoScrollEnabled)===!1,d="object"==typeof D?!1===D.enabled:!1===D,h=I&&!c&&!d,"object"==typeof D?{...D,enabled:h}:{enabled:h}),ec=tW(ea,ei.draggable.measure);!function(e){let{activeNode:t,measure:i,initialRect:r,config:n=!0}=e,s=(0,S.useRef)(!1),{x:a,y:o}="boolean"==typeof n?{x:n,y:n}:n;eI(()=>{if(!a&&!o||!t){s.current=!1;return}if(s.current||!r)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let n=ts(i(e),r);if(a||(n.x=0),o||(n.y=0),s.current=!0,Math.abs(n.x)>0||Math.abs(n.y)>0){let t=th(e);t&&t.scrollBy({top:n.y,left:n.x})}},[t,a,o,r,i])}({activeNode:null!=X?F.get(X):null,config:el.layoutShiftCompensation,initialRect:ec,measure:ei.draggable.measure});let ed=tH(ea,ei.draggable.measure,ec),eh=tH(ea?ea.parentElement:null),eu=(0,S.useRef)({activatorEvent:null,active:null,activeNode:ea,collisionRect:null,collisions:null,droppableRects:er,draggableNodes:F,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ep=U.getNodeFor(null==(t=eu.current.over)?void 0:t.id),ef=function(e){let{measure:t}=e,[i,r]=(0,S.useState)(null),n=tB({callback:(0,S.useCallback)(e=>{for(let{target:i}of e)if(eB(i)){r(e=>{let r=t(i);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),[s,a]=eU((0,S.useCallback)(e=>{let i=function(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return eB(t)?t:e}(e);null==n||n.disconnect(),i&&(null==n||n.observe(i)),r(i?t(i):null)},[t,n]));return(0,S.useMemo)(()=>({nodeRef:s,rect:i,setRef:a}),[i,s,a])}({measure:ei.dragOverlay.measure}),eg=null!=(i=ef.nodeRef.current)?i:ea,em=I?null!=(r=ef.rect)?r:ed:null,ex=!!(ef.nodeRef.current&&ef.rect),eb=(m=tW(s=ex?null:ed),ts(s,m)),ev=tF(eg?eO(eg):null),ey=(a=I?null!=ep?ep:ea:null,y=(0,S.useRef)(a),j=eY(e=>a?e&&e!==tI&&a&&y.current&&a.parentNode===y.current.parentNode?e:td(a):tI,[a]),(0,S.useEffect)(()=>{y.current=a},[a]),j),ew=function(e,t){void 0===t&&(t=tl);let[i]=e,r=tF(i?eO(i):null),[n,s]=(0,S.useState)(tY);function a(){s(()=>e.length?e.map(e=>tm(e)?r:new tw(t(e),e)):tY)}let o=tB({callback:a});return eI(()=>{null==o||o.disconnect(),a(),e.forEach(e=>null==o?void 0:o.observe(e))},[e]),n}(ey),ej=function(e,t){let{transform:i,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),i):i}(P,{transform:{x:Y.x-eb.x,y:Y.y-eb.y,scaleX:1,scaleY:1},activatorEvent:J,active:V,activeNodeRect:ed,containerNodeRect:eh,draggingNodeRect:em,over:eu.current.over,overlayNodeRect:ef.rect,scrollableAncestors:ey,scrollableAncestorRects:ew,windowRect:ev}),eS=eo?eq(eo,Y):null,ez=function(e){let[t,i]=(0,S.useState)(null),r=(0,S.useRef)(e),n=(0,S.useCallback)(e=>{let t=tu(e.target);t&&i(e=>e?(e.set(t,tg(t)),new Map(e)):null)},[]);return(0,S.useEffect)(()=>{let t=r.current;if(e!==t){s(t);let a=e.map(e=>{let t=tu(e);return t?(t.addEventListener("scroll",n,{passive:!0}),[t,tg(t)]):null}).filter(e=>null!=e);i(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(t)};function s(e){e.forEach(e=>{let t=tu(e);null==t||t.removeEventListener("scroll",n)})}},[n,e]),(0,S.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>eq(e,t),e7):tv(e):e7,[e,t])}(ey),eN=tX(ez),eD=tX(ez,[ed]),eM=eq(ej,eN),ek=em?ta(em,ej):null,eR=V&&ek?R({active:V,collisionRect:ek,droppableRects:er,droppableContainers:et,pointerCoordinates:eS}):null,eC=function(e,t){if(!e||0===e.length)return null;let[i]=e;return i.id}(eR,0),[eP,eT]=(0,S.useState)(null),eA=(o=ex?ej:eq(ej,eD),l=null!=(n=null==eP?void 0:eP.rect)?n:null,{...o,scaleX:l&&ed?l.width/ed.width:1,scaleY:l&&ed?l.height/ed.height:1}),eW=(0,S.useRef)(null),eL=(0,S.useCallback)((e,t)=>{let{sensor:i,options:r}=t;if(null==K.current)return;let n=F.get(K.current);if(!n)return;let s=e.nativeEvent,a=new i({active:K.current,activeNode:n,event:s,options:r,context:eu,onAbort(e){if(!F.get(e))return;let{onDragAbort:t}=Z.current,i={id:e};null==t||t(i),O({type:"onDragAbort",event:i})},onPending(e,t,i,r){if(!F.get(e))return;let{onDragPending:n}=Z.current,s={id:e,constraint:t,initialCoordinates:i,offset:r};null==n||n(s),O({type:"onDragPending",event:s})},onStart(e){let t=K.current;if(null==t)return;let i=F.get(t);if(!i)return;let{onDragStart:r}=Z.current,n={activatorEvent:s,active:{id:t,data:i.data,rect:G}};(0,B.unstable_batchedUpdates)(()=>{null==r||r(n),H(w.Initializing),A({type:u.DragStart,initialCoordinates:e,active:t}),O({type:"onDragStart",event:n}),$(eW.current),Q(s)})},onMove(e){A({type:u.DragMove,coordinates:e})},onEnd:o(u.DragEnd),onCancel:o(u.DragCancel)});function o(e){return async function(){let{active:t,collisions:i,over:r,scrollAdjustedTranslate:n}=eu.current,a=null;if(t&&n){let{cancelDrop:o}=Z.current;a={activatorEvent:s,active:t,collisions:i,delta:n,over:r},e===u.DragEnd&&"function"==typeof o&&await Promise.resolve(o(a))&&(e=u.DragCancel)}K.current=null,(0,B.unstable_batchedUpdates)(()=>{A({type:e}),H(w.Uninitialized),eT(null),$(null),Q(null),eW.current=null;let t=e===u.DragEnd?"onDragEnd":"onDragCancel";if(a){let e=Z.current[t];null==e||e(a),O({type:t,event:a})}})}}eW.current=a},[F]),eH=(0,S.useCallback)((e,t)=>(i,r)=>{let n=i.nativeEvent,s=F.get(r);null!==K.current||!s||n.dndKit||n.defaultPrevented||!0===e(i,t.options,{active:s})&&(n.dndKit={capturedBy:t.sensor},K.current=r,eL(i,t))},[F,eL]),eX=(0,S.useMemo)(()=>k.reduce((e,t)=>{let{sensor:i}=t;return[...e,...i.activators.map(e=>({eventName:e.eventName,handler:eH(e.handler,t)}))]},[]),[k,eH]);(0,S.useEffect)(()=>{if(!eE)return;let e=k.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},k.map(e=>{let{sensor:t}=e;return t})),eI(()=>{ed&&L===w.Initializing&&H(w.Initialized)},[ed,L]),(0,S.useEffect)(()=>{let{onDragMove:e}=Z.current,{active:t,activatorEvent:i,collisions:r,over:n}=eu.current;if(!t||!i)return;let s={active:t,activatorEvent:i,collisions:r,delta:{x:eM.x,y:eM.y},over:n};(0,B.unstable_batchedUpdates)(()=>{null==e||e(s),O({type:"onDragMove",event:s})})},[eM.x,eM.y]),(0,S.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:i,droppableContainers:r,scrollAdjustedTranslate:n}=eu.current;if(!e||null==K.current||!t||!n)return;let{onDragOver:s}=Z.current,a=r.get(eC),o=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,l={active:e,activatorEvent:t,collisions:i,delta:{x:n.x,y:n.y},over:o};(0,B.unstable_batchedUpdates)(()=>{eT(o),null==s||s(l),O({type:"onDragOver",event:l})})},[eC]),eI(()=>{eu.current={activatorEvent:J,active:V,activeNode:ea,collisionRect:ek,collisions:eR,droppableRects:er,draggableNodes:F,draggingNode:eg,draggingNodeRect:em,droppableContainers:U,over:eP,scrollableAncestors:ey,scrollAdjustedTranslate:eM},G.current={initial:em,translated:ek}},[V,ea,eR,ek,F,eg,em,er,U,eP,ey,eM]),function(e){let t,{acceleration:i,activator:r=x.Pointer,canScroll:n,draggingRect:s,enabled:a,interval:o=5,order:l=b.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:h,delta:u,threshold:f}=e,g=function(e){let{delta:t,disabled:i}=e,r=e_(t);return eY(e=>{if(i||!r||!e)return tA;let n={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[p.Backward]:e.x[p.Backward]||-1===n.x,[p.Forward]:e.x[p.Forward]||1===n.x},y:{[p.Backward]:e.y[p.Backward]||-1===n.y,[p.Forward]:e.y[p.Forward]||1===n.y}}},[i,t,r])}({delta:u,disabled:!a}),[m,v]=(t=(0,S.useRef)(null),[(0,S.useCallback)((e,i)=>{t.current=setInterval(e,i)},[]),(0,S.useCallback)(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[])]),y=(0,S.useRef)({x:0,y:0}),w=(0,S.useRef)({x:0,y:0}),j=(0,S.useMemo)(()=>{switch(r){case x.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case x.DraggableRect:return s}},[r,s,c]),z=(0,S.useRef)(null),N=(0,S.useCallback)(()=>{let e=z.current;if(!e)return;let t=y.current.x*w.current.x,i=y.current.y*w.current.y;e.scrollBy(t,i)},[]),D=(0,S.useMemo)(()=>l===b.TreeOrder?[...d].reverse():d,[l,d]);(0,S.useEffect)(()=>{if(!a||!d.length||!j)return void v();for(let e of D){if((null==n?void 0:n(e))===!1)continue;let t=h[d.indexOf(e)];if(!t)continue;let{direction:r,speed:s}=function(e,t,i,r,n){let{top:s,left:a,right:o,bottom:l}=i;void 0===r&&(r=10),void 0===n&&(n=tb);let{isTop:c,isBottom:d,isLeft:h,isRight:u}=tx(e),f={x:0,y:0},g={x:0,y:0},m={height:t.height*n.y,width:t.width*n.x};return!c&&s<=t.top+m.height?(f.y=p.Backward,g.y=r*Math.abs((t.top+m.height-s)/m.height)):!d&&l>=t.bottom-m.height&&(f.y=p.Forward,g.y=r*Math.abs((t.bottom-m.height-l)/m.height)),!u&&o>=t.right-m.width?(f.x=p.Forward,g.x=r*Math.abs((t.right-m.width-o)/m.width)):!h&&a<=t.left+m.width&&(f.x=p.Backward,g.x=r*Math.abs((t.left+m.width-a)/m.width)),{direction:f,speed:g}}(e,t,j,i,f);for(let e of["x","y"])g[e][r[e]]||(s[e]=0,r[e]=0);if(s.x>0||s.y>0){v(),z.current=e,m(N,o),y.current=s,w.current=r;return}}y.current={x:0,y:0},w.current={x:0,y:0},v()},[i,N,n,v,a,o,JSON.stringify(j),JSON.stringify(g),m,d,D,h,JSON.stringify(f)])}({...el,delta:Y,draggingRect:ek,pointerCoordinates:eS,scrollableAncestors:ey,scrollableAncestorRects:ew});let eG=(0,S.useMemo)(()=>({active:V,activeNode:ea,activeNodeRect:ed,activatorEvent:J,collisions:eR,containerNodeRect:eh,dragOverlay:ef,draggableNodes:F,droppableContainers:U,droppableRects:er,over:eP,measureDroppableContainers:en,scrollableAncestors:ey,scrollableAncestorRects:ew,measuringConfiguration:ei,measuringScheduled:es,windowRect:ev}),[V,ea,ed,J,eR,eh,ef,F,U,er,eP,en,ey,ew,ei,es,ev]),eK=(0,S.useMemo)(()=>({activatorEvent:J,activators:eX,active:V,activeNodeRect:ed,ariaDescribedById:{draggable:ee},dispatch:A,draggableNodes:F,over:eP,measureDroppableContainers:en}),[J,eX,V,ed,A,ee,F,eP,en]);return S.default.createElement(e4.Provider,{value:W},S.default.createElement(t$.Provider,{value:eK},S.default.createElement(tJ.Provider,{value:eG},S.default.createElement(t1.Provider,{value:eA},M)),S.default.createElement(t0,{disabled:(null==N?void 0:N.restoreFocus)===!1})),S.default.createElement(e6,{...N,hiddenTextDescribedById:ee}))}),t2=(0,S.createContext)(null),t4="button",t9={timeout:25};function t3(e){let{data:t,disabled:i=!1,id:r,resizeObserverConfig:n}=e,s=eV("Droppable"),{active:a,dispatch:o,over:l,measureDroppableContainers:c}=(0,S.useContext)(t$),d=(0,S.useRef)({disabled:i}),h=(0,S.useRef)(!1),p=(0,S.useRef)(null),f=(0,S.useRef)(null),{disabled:g,updateMeasurementsFor:m,timeout:x}={...t9,...n},b=eF(null!=m?m:r),v=tB({callback:(0,S.useCallback)(()=>{if(!h.current){h.current=!0;return}null!=f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{c(Array.isArray(b.current)?b.current:[b.current]),f.current=null},x)},[x]),disabled:g||!a}),[y,w]=eU((0,S.useCallback)((e,t)=>{v&&(t&&(v.unobserve(t),h.current=!1),e&&v.observe(e))},[v])),j=eF(t);return(0,S.useEffect)(()=>{v&&y.current&&(v.disconnect(),h.current=!1,v.observe(y.current))},[y,v]),(0,S.useEffect)(()=>(o({type:u.RegisterDroppable,element:{id:r,key:s,disabled:i,node:y,rect:p,data:j}}),()=>o({type:u.UnregisterDroppable,key:s,id:r})),[r]),(0,S.useEffect)(()=>{i!==d.current.disabled&&(o({type:u.SetDroppableDisabled,id:r,key:s,disabled:i}),d.current.disabled=i)},[r,s,i,o]),{active:a,rect:p,isOver:(null==l?void 0:l.id)===r,node:y,over:l,setNodeRef:w}}let t6={position:"fixed",touchAction:"none"},t8=e=>eJ(e)?"transform 250ms ease":void 0;function t7(e,t,i){let r=e.slice();return r.splice(i<0?r.length+i:i,0,r.splice(t,1)[0]),r}function ie(e){return null!==e&&e>=0}(e,t)=>{let{as:i,activatorEvent:r,adjustScale:n,children:s,className:a,rect:o,style:l,transform:c,transition:d=t8}=e;if(!o)return null;let h=n?c:{...c,scaleX:1,scaleY:1},u={...t6,width:o.width,height:o.height,top:o.top,left:o.left,transform:eZ.Transform.toString(h),transformOrigin:n&&r?function(e,t){let i=eQ(e);if(!i)return"0 0";let r={x:(i.x-t.left)/t.width*100,y:(i.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}(r,o):void 0,transition:"function"==typeof d?d(r):d,...l};return S.default.createElement(i,{className:a,style:u,ref:t},s)},t={styles:{active:{opacity:"0"}}};let it={scaleX:1,scaleY:1},ii=e=>{var t,i,r,n;let s,a,o,{rects:l,activeNodeRect:c,activeIndex:d,overIndex:h,index:u}=e,p=null!=(t=l[d])?t:c;if(!p)return null;let f=(i=l,r=u,n=d,s=i[r],a=i[r-1],o=i[r+1],s&&(a||o)?n<r?a?s.left-(a.left+a.width):o.left-(s.left+s.width):o?o.left-(s.left+s.width):s.left-(a.left+a.width):0);if(u===d){let e=l[h];return e?{x:d<h?e.left+e.width-(p.left+p.width):e.left-p.left,y:0,...it}:null}return u>d&&u<=h?{x:-p.width-f,y:0,...it}:u<d&&u>=h?{x:p.width+f,y:0,...it}:{x:0,y:0,...it}},ir=e=>{let{rects:t,activeIndex:i,overIndex:r,index:n}=e,s=t7(t,r,i),a=t[n],o=s[n];return o&&a?{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}:null},is="Sortable",ia=S.default.createContext({activeIndex:-1,containerId:is,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ir,disabled:{draggable:!1,droppable:!1}});function io(e){let{children:t,id:i,items:r,strategy:n=ir,disabled:s=!1}=e,{active:a,dragOverlay:o,droppableRects:l,over:c,measureDroppableContainers:d}=(0,S.useContext)(tJ),h=eV(is,i),u=null!==o.rect,p=(0,S.useMemo)(()=>r.map(e=>"object"==typeof e&&"id"in e?e.id:e),[r]),f=null!=a,g=a?p.indexOf(a.id):-1,m=c?p.indexOf(c.id):-1,x=(0,S.useRef)(p),b=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}(p,x.current),v=-1!==m&&-1===g||b,y="boolean"==typeof s?{draggable:s,droppable:s}:s;eI(()=>{b&&f&&d(p)},[b,p,f,d]),(0,S.useEffect)(()=>{x.current=p},[p]);let w=(0,S.useMemo)(()=>({activeIndex:g,containerId:h,disabled:y,disableTransforms:v,items:p,overIndex:m,useDragOverlay:u,sortedRects:p.reduce((e,t,i)=>{let r=l.get(t);return r&&(e[i]=r),e},Array(p.length)),strategy:n}),[g,h,y.draggable,y.droppable,v,p,m,l,u,n]);return S.default.createElement(ia.Provider,{value:w},t)}let il=e=>{let{id:t,items:i,activeIndex:r,overIndex:n}=e;return t7(i,r,n).indexOf(t)},ic=e=>{let{containerId:t,isSorting:i,wasDragging:r,index:n,items:s,newIndex:a,previousItems:o,previousContainerId:l,transition:c}=e;return!!c&&!!r&&(o===s||n!==a)&&(!!i||a!==n&&t===l)},id={duration:200,easing:"ease"},ih="transform",iu=eZ.Transition.toString({property:ih,duration:0,easing:"linear"}),ip={roleDescription:"sortable"};g.Down,g.Right,g.Up,g.Left;var ig=e.i(30844);let im=(0,k.default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);function ix({id:e,name:t,index:i,isActive:r,canDelete:n,onClick:s,onDelete:a}){let{attributes:o,listeners:l,setNodeRef:c,transform:d,transition:h,isDragging:u}=function(e){var t,i,r,n;let{animateLayoutChanges:s=ic,attributes:a,disabled:o,data:l,getNewIndex:c=il,id:d,strategy:h,resizeObserverConfig:u,transition:p=id}=e,{items:f,containerId:g,activeIndex:m,disabled:x,disableTransforms:b,sortedRects:v,overIndex:y,useDragOverlay:w,strategy:j}=(0,S.useContext)(ia),z=(t=o,i=x,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(r=null==t?void 0:t.draggable)?r:i.draggable,droppable:null!=(n=null==t?void 0:t.droppable)?n:i.droppable}),N=f.indexOf(d),D=(0,S.useMemo)(()=>({sortable:{containerId:g,index:N,items:f},...l}),[g,l,N,f]),M=(0,S.useMemo)(()=>f.slice(f.indexOf(d)),[f,d]),{rect:k,node:R,isOver:C,setNodeRef:P}=t3({id:d,data:D,disabled:z.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...u}}),{active:E,activatorEvent:T,activeNodeRect:A,attributes:O,setNodeRef:W,listeners:B,isDragging:L,over:H,setActivatorNodeRef:I,transform:X}=function(e){let{id:t,data:i,disabled:r=!1,attributes:n}=e,s=eV("Draggable"),{activators:a,activatorEvent:o,active:l,activeNodeRect:c,ariaDescribedById:d,draggableNodes:h,over:u}=(0,S.useContext)(t$),{role:p=t4,roleDescription:f="draggable",tabIndex:g=0}=null!=n?n:{},m=(null==l?void 0:l.id)===t,x=(0,S.useContext)(m?t1:t2),[b,v]=eU(),[y,w]=eU(),j=(0,S.useMemo)(()=>a.reduce((e,i)=>{let{eventName:r,handler:n}=i;return e[r]=e=>{n(e,t)},e},{}),[a,t]),z=eF(i);return eI(()=>(h.set(t,{id:t,key:s,node:b,activatorNode:y,data:z}),()=>{let e=h.get(t);e&&e.key===s&&h.delete(t)}),[h,t]),{active:l,activatorEvent:o,activeNodeRect:c,attributes:(0,S.useMemo)(()=>({role:p,tabIndex:g,"aria-disabled":r,"aria-pressed":!!m&&p===t4||void 0,"aria-roledescription":f,"aria-describedby":d.draggable}),[r,p,g,m,f,d.draggable]),isDragging:m,listeners:r?void 0:j,node:b,over:u,setNodeRef:v,setActivatorNodeRef:w,transform:x}}({id:d,data:D,attributes:{...ip,...a},disabled:z.draggable}),F=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,S.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(P,W),Y=!!E,U=Y&&!b&&ie(m)&&ie(y),_=!w&&L,G=_&&U?X:null,V=U?null!=G?G:(null!=h?h:j)({rects:v,activeNodeRect:A,activeIndex:m,overIndex:y,index:N}):null,K=ie(m)&&ie(y)?c({id:d,items:f,activeIndex:m,overIndex:y}):N,q=null==E?void 0:E.id,$=(0,S.useRef)({activeId:q,items:f,newIndex:K,containerId:g}),J=f!==$.current.items,Q=s({active:E,containerId:g,isDragging:L,isSorting:Y,id:d,index:N,items:f,newIndex:$.current.newIndex,previousItems:$.current.items,previousContainerId:$.current.containerId,transition:p,wasDragging:null!=$.current.activeId}),Z=function(e){let{disabled:t,index:i,node:r,rect:n}=e,[s,a]=(0,S.useState)(null),o=(0,S.useRef)(i);return eI(()=>{if(!t&&i!==o.current&&r.current){let e=n.current;if(e){let t=tl(r.current,{ignoreTransform:!0}),i={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(i.x||i.y)&&a(i)}}i!==o.current&&(o.current=i)},[t,i,r,n]),(0,S.useEffect)(()=>{s&&a(null)},[s]),s}({disabled:!Q,index:N,node:R,rect:k});return(0,S.useEffect)(()=>{Y&&$.current.newIndex!==K&&($.current.newIndex=K),g!==$.current.containerId&&($.current.containerId=g),f!==$.current.items&&($.current.items=f)},[Y,K,g,f]),(0,S.useEffect)(()=>{if(q===$.current.activeId)return;if(null!=q&&null==$.current.activeId){$.current.activeId=q;return}let e=setTimeout(()=>{$.current.activeId=q},50);return()=>clearTimeout(e)},[q]),{active:E,activeIndex:m,attributes:O,data:D,rect:k,index:N,newIndex:K,items:f,isOver:C,isSorting:Y,isDragging:L,listeners:B,node:R,overIndex:y,over:H,setNodeRef:F,setActivatorNodeRef:I,setDroppableNodeRef:P,setDraggableNodeRef:W,transform:null!=Z?Z:V,transition:Z||J&&$.current.newIndex===N?iu:(!_||eJ(T))&&p&&(Y||Q)?eZ.Transition.toString({...p,property:ih}):void 0}}({id:e}),{isOver:p,setNodeRef:f}=t3({id:`page-drop-${i}`,data:{type:"page-tab",pageIndex:i}}),g={transform:eZ.Transform.toString(d),transition:h};return(0,j.jsxs)("div",{ref:e=>{c(e),f(e)},style:g,className:(0,A.cn)("px-2 h-7 rounded text-xs font-medium flex items-center gap-1 transition-colors whitespace-nowrap group cursor-pointer select-none",r?"bg-violet-600 text-white":"text-zinc-400 hover:bg-zinc-800 hover:text-white",u&&"opacity-50 shadow-lg",p&&!r&&"ring-2 ring-cyan-500 bg-cyan-500/10"),onClick:s,"data-page-drop-target":"true","data-page-index":i,children:[(0,j.jsx)("span",{...o,...l,className:"cursor-grab active:cursor-grabbing p-0.5 -ml-1 hover:bg-white/10 rounded",onClick:e=>e.stopPropagation(),children:(0,j.jsx)(im,{className:"h-3 w-3 text-zinc-500"})}),t,n&&(0,j.jsx)("span",{onClick:e=>{e.stopPropagation(),a()},className:(0,A.cn)("ml-1 p-0.5 rounded hover:bg-red-500/30 cursor-pointer transition-colors",r?"opacity-70 hover:opacity-100":"opacity-0 group-hover:opacity-70"),children:(0,j.jsx)(ig.X,{className:"h-3 w-3"})})]})}function ib(){var t;let{loading:i,analysisData:r}=(0,N.useAnalysisData)(),n=(0,ef.useReportBuilderStore)(e=>e.pages),s=(0,ef.useReportBuilderStore)(e=>e.currentPageIndex),a=(0,ef.useReportBuilderStore)(e=>e.canvasRatio),o=(0,ef.useReportBuilderStore)(e=>e.selectedIds),l=(0,ef.useReportBuilderStore)(e=>e.addItem),c=(0,ef.useReportBuilderStore)(e=>e.updateItem),d=(0,ef.useReportBuilderStore)(e=>e.removeItem),h=(0,ef.useReportBuilderStore)(e=>e.clearCanvas),u=(0,ef.useReportBuilderStore)(e=>e.setCanvasRatio),p=(0,ef.useReportBuilderStore)(e=>e.setSelectedIds),f=(0,ef.useReportBuilderStore)(e=>e.toggleSelection),g=(0,ef.useReportBuilderStore)(e=>e.addToSelection),m=(0,ef.useReportBuilderStore)(e=>e.clearSelection),x=(0,ef.useReportBuilderStore)(e=>e.removeSelectedItems);(0,ef.useReportBuilderStore)(e=>e.moveSelectedItemsToPage);let b=(0,ef.useReportBuilderStore)(e=>e.addPage),v=(0,ef.useReportBuilderStore)(e=>e.deletePage),y=(0,ef.useReportBuilderStore)(e=>e.setCurrentPage),w=(0,ef.useReportBuilderStore)(e=>e.reorderPages),k=(0,ef.useReportBuilderStore)(e=>e.moveItemToPage),[W,B]=(0,S.useState)(null),L=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,S.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}((t={activationConstraint:{distance:5}},(0,S.useMemo)(()=>({sensor:tT,options:null!=t?t:{}}),[tT,t]))),H=n[s],I=H?.items||[],X=(0,S.useCallback)(e=>{l(e)},[l]),F=(0,S.useCallback)((e,t)=>{c(e,t)},[c]),Y=(0,S.useCallback)(e=>{d(e)},[d]),U=(0,S.useCallback)(()=>{b()},[b]),_=(0,S.useCallback)(e=>{!(n.length<=1)&&confirm("ç¢ºå®šè¦åˆªé™¤æ­¤é é¢å—Žï¼Ÿ")&&v(e)},[v,n.length]),G=(0,S.useCallback)(e=>{String(e.active.id).startsWith("item-")&&B(String(e.active.id))},[]),V=(0,S.useCallback)(e=>{let{active:t,over:i}=e;if(B(null),i){if(String(t.id).startsWith("page-")&&String(i.id).startsWith("page-")){let e=n.findIndex(e=>e.id===t.id),r=n.findIndex(e=>e.id===i.id);-1!==e&&-1!==r&&e!==r&&w(e,r)}if(String(t.id).startsWith("item-")&&String(i.id).startsWith("page-drop-")){let e=parseInt(String(i.id).replace("page-drop-",""),10);isNaN(e)||k(String(t.id),e)}}},[n,w,k]),K=(0,S.useCallback)(()=>{let e=document.querySelector(".report-canvas-content");if(!e)return;let t=window.open("","_blank");if(!t)return;let i=Array.from(document.styleSheets).map(e=>{try{return Array.from(e.cssRules).map(e=>e.cssText).join("")}catch(e){return""}}).join(""),r="16:9"===a?{width:960,height:540}:{width:842,height:595};t.document.write(`
            <html>
                <head>
                    <title>SQM Report - ${new Date().toLocaleDateString()}</title>
                    <style>
                        ${i}
                        @media print {
                            @page {
                                size: ${"A4"===a?"A4 landscape":"960px 540px"};
                                margin: 0;
                            }
                            body { margin: 0; padding: 0; background: #09090b !important; -webkit-print-color-adjust: exact; }
                            .print-canvas {
                                width: ${r.width}px;
                                height: ${r.height}px;
                                position: relative;
                                background: #09090b;
                                overflow: hidden;
                            }
                            .rnd-resizer, .no-print { display: none !important; }
                        }
                    </style>
                </head>
                <body>
                    <div class="print-canvas">
                        ${e.innerHTML}
                    </div>
                    <script>
                        window.onload = () => {
                            setTimeout(() => {
                                window.print();
                            }, 1000);
                        };
                    </script>
                </body>
            </html>
        `),t.document.close()},[a]),q=(0,S.useCallback)(async t=>{try{let i=document.querySelector(".report-canvas-content");if(!i){console.error("Canvas element not found"),alert("æ‰¾ä¸åˆ°ç•«å¸ƒå…ƒä»¶");return}console.log("Starting export...",t);let r=(await e.A(38869)).default,n=await r(i,{useCORS:!0,allowTaint:!0,scale:3,backgroundColor:"#09090b",logging:!0,onclone:e=>{console.log("DOM Cloned")}});console.log("Canvas generated",n.width,n.height);let s=document.createElement("a");s.download=`SQM-Report-${new Date().getTime()}.${t}`,s.href=n.toDataURL(`image/${"png"===t?"png":"jpeg"}`,.9),s.click(),console.log("Download triggered")}catch(e){console.error("Export failed:",e),alert("åŒ¯å‡ºå¤±æ•—ï¼Œè«‹æª¢æŸ¥æŽ§åˆ¶å°éŒ¯èª¤è¨Šæ¯ã€‚")}},[]),$=(0,S.useCallback)(()=>{confirm("ç¢ºå®šè¦æ¸…ç©ºç•¶å‰é é¢çš„æ‰€æœ‰å…ƒä»¶å—Žï¼Ÿ")&&h()},[h]),J="16:9"===a?{width:960,height:540}:"A4"===a?{width:842,height:595}:"1:1"===a?{width:900,height:900}:"9:16"===a?{width:540,height:960}:{width:720,height:900};return(0,j.jsx)(z.AppLayout,{children:(0,j.jsx)(t5,{sensors:L,collisionDetection:tr,onDragStart:G,onDragEnd:V,children:(0,j.jsxs)("div",{className:"flex h-[calc(100vh-theme(spacing.20))] gap-4",children:[(0,j.jsxs)("aside",{className:"w-64 flex-shrink-0 bg-zinc-900/50 border border-white/5 rounded-xl overflow-hidden flex flex-col",children:[(0,j.jsxs)("div",{className:"p-4 border-b border-white/5 bg-zinc-900",children:[(0,j.jsxs)("h2",{className:"font-semibold text-white flex items-center gap-2",children:[(0,j.jsx)(C,{className:"h-5 w-5 text-violet-400"}),"å…ƒä»¶é¢æ¿"]}),(0,j.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:"é»žæ“Šæ–°å¢žåˆ°ç•«å¸ƒ"})]}),(0,j.jsx)(eP,{onAddItem:X,hasData:!!r}),(0,j.jsxs)("div",{className:"p-4 border-t border-white/5 bg-zinc-900 space-y-3",children:[(0,j.jsx)("div",{className:"text-xs text-zinc-400 font-medium",children:"ç•«å¸ƒæ¯”ä¾‹"}),(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsxs)(D.Button,{size:"sm",variant:"16:9"===a?"default":"outline",onClick:()=>u("16:9"),className:(0,A.cn)("flex-1 h-12 flex-col gap-1","16:9"===a?"bg-violet-600":"border-zinc-700"),title:"16:9 (ç°¡å ±/å½±ç‰‡)",children:[(0,j.jsx)("div",{className:(0,A.cn)("w-8 h-[18px] border-2 rounded-sm","16:9"===a?"border-white":"border-zinc-500")}),(0,j.jsx)("span",{className:"text-[10px]",children:"16:9"})]}),(0,j.jsxs)(D.Button,{size:"sm",variant:"A4"===a?"default":"outline",onClick:()=>u("A4"),className:(0,A.cn)("flex-1 h-12 flex-col gap-1","A4"===a?"bg-violet-600":"border-zinc-700"),title:"A4 (åˆ—å°)",children:[(0,j.jsx)("div",{className:(0,A.cn)("w-6 h-[18px] border-2 rounded-sm","A4"===a?"border-white":"border-zinc-500")}),(0,j.jsx)("span",{className:"text-[10px]",children:"A4"})]})]}),(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsxs)(D.Button,{size:"sm",variant:"1:1"===a?"default":"outline",onClick:()=>u("1:1"),className:(0,A.cn)("flex-1 h-12 flex-col gap-1","1:1"===a?"bg-violet-600":"border-zinc-700"),title:"1:1 (IG/FBæ–¹åœ–)",children:[(0,j.jsx)("div",{className:(0,A.cn)("w-4 h-4 border-2 rounded-sm","1:1"===a?"border-white":"border-zinc-500")}),(0,j.jsx)("span",{className:"text-[10px]",children:"1:1"})]}),(0,j.jsxs)(D.Button,{size:"sm",variant:"9:16"===a?"default":"outline",onClick:()=>u("9:16"),className:(0,A.cn)("flex-1 h-12 flex-col gap-1","9:16"===a?"bg-violet-600":"border-zinc-700"),title:"9:16 (IGé™å‹•)",children:[(0,j.jsx)("div",{className:(0,A.cn)("w-[11px] h-5 border-2 rounded-sm","9:16"===a?"border-white":"border-zinc-500")}),(0,j.jsx)("span",{className:"text-[10px]",children:"9:16"})]}),(0,j.jsxs)(D.Button,{size:"sm",variant:"4:5"===a?"default":"outline",onClick:()=>u("4:5"),className:(0,A.cn)("flex-1 h-12 flex-col gap-1","4:5"===a?"bg-violet-600":"border-zinc-700"),title:"4:5 (FB/IGç›´å¼)",children:[(0,j.jsx)("div",{className:(0,A.cn)("w-4 h-5 border-2 rounded-sm","4:5"===a?"border-white":"border-zinc-500")}),(0,j.jsx)("span",{className:"text-[10px]",children:"4:5"})]})]}),(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsxs)(D.Button,{className:"w-full bg-emerald-600 hover:bg-emerald-700 h-10",disabled:0===I.length,onClick:K,children:[(0,j.jsx)(R,{className:"h-4 w-4 mr-2"}),"åŒ¯å‡º PDF"]}),(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsx)(D.Button,{size:"sm",variant:"outline",className:"flex-1 border-emerald-900/50 text-emerald-400 hover:bg-emerald-500/10 h-8 text-[10px]",disabled:0===I.length,onClick:()=>q("png"),children:"PNG åœ–ç‰‡"}),(0,j.jsx)(D.Button,{size:"sm",variant:"outline",className:"flex-1 border-emerald-900/50 text-emerald-400 hover:bg-emerald-500/10 h-8 text-[10px]",disabled:0===I.length,onClick:()=>q("jpg"),children:"JPG åœ–ç‰‡"})]})]}),(0,j.jsxs)(D.Button,{variant:"outline",className:"w-full border-zinc-800 text-zinc-500 hover:text-red-400 hover:border-red-500/30 h-9 text-xs",disabled:0===I.length,onClick:$,children:[(0,j.jsx)(M.Trash2,{className:"h-3.5 w-3.5 mr-2"}),"æ¸…ç©ºç•«å¸ƒ"]})]})]}),(0,j.jsxs)("main",{className:"flex-1 bg-zinc-950 rounded-xl overflow-hidden flex flex-col relative",children:[(0,j.jsxs)("div",{className:"h-12 border-b border-white/5 flex items-center justify-between px-4 bg-zinc-900/80",children:[(0,j.jsxs)("span",{className:"text-sm font-medium text-zinc-400",children:["å ±è¡¨ç·¨è¼¯å™¨ â€¢ ",a," â€¢ ç¬¬ ",s+1,"/",n.length," é  â€¢ ",I.length," å€‹å…ƒä»¶"]}),(0,j.jsx)("div",{className:"flex items-center gap-2",children:o.length>0&&(0,j.jsxs)(D.Button,{size:"sm",variant:"ghost",onClick:()=>x(),className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[(0,j.jsx)(M.Trash2,{className:"h-4 w-4 mr-1"}),"åˆªé™¤é¸ä¸­ (",o.length,")"]})})]}),(0,j.jsxs)("div",{className:"h-10 border-b border-white/5 flex items-center px-2 bg-zinc-900/50 gap-1 overflow-x-auto",children:[(0,j.jsx)(D.Button,{size:"icon",variant:"ghost",className:"h-7 w-7 flex-shrink-0",onClick:()=>y(s-1),disabled:0===s,children:(0,j.jsx)(E.ChevronLeft,{className:"h-4 w-4"})}),(0,j.jsx)(io,{items:n.map(e=>e.id),strategy:ii,children:n.map((e,t)=>(0,j.jsx)(ix,{id:e.id,name:e.name,index:t,isActive:t===s,canDelete:n.length>1,onClick:()=>y(t),onDelete:()=>_(e.id)},e.id))}),(0,j.jsx)(D.Button,{size:"icon",variant:"ghost",className:"h-7 w-7 flex-shrink-0",onClick:()=>y(s+1),disabled:s===n.length-1,children:(0,j.jsx)(T.ChevronRight,{className:"h-4 w-4"})}),(0,j.jsxs)(D.Button,{size:"sm",variant:"ghost",className:"h-7 px-2 text-violet-400 hover:text-violet-300 hover:bg-violet-500/10 flex-shrink-0",onClick:U,children:[(0,j.jsx)(P.Plus,{className:"h-4 w-4 mr-1"}),"æ–°å¢žé é¢"]})]}),(0,j.jsx)("div",{className:"flex-1 overflow-auto p-8 flex items-center justify-center bg-zinc-950/50",children:r||i?(0,j.jsx)(O,{width:J.width,height:J.height,items:I,onClickBackground:()=>m(),onMarqueeSelect:(e,t)=>{t?e.forEach(e=>g(e)):p(e)},children:I.map(e=>(0,j.jsx)(eN,{item:e,isSelected:o.includes(e.id),onSelect:t=>{t?.ctrlKey||t?.metaKey?f(e.id):p([e.id])},onUpdate:t=>F(e.id,t),onRemove:()=>Y(e.id),onMoveToPage:t=>k(e.id,t),analysisData:r},e.id))}):(0,j.jsxs)("div",{className:"text-center space-y-4",children:[(0,j.jsx)("div",{className:"p-6 rounded-full bg-zinc-900 border border-white/5 inline-block",children:(0,j.jsx)(C,{className:"h-10 w-10 text-zinc-600"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"text-lg font-medium text-white",children:"å°šæœªè¼‰å…¥æ•¸æ“š"}),(0,j.jsxs)("p",{className:"text-zinc-500 text-sm mt-1",children:["è«‹å…ˆè‡³ ",(0,j.jsx)("a",{href:"/dashboard",className:"text-violet-400 hover:underline",children:"å„€è¡¨æ¿"})," é€²è¡Œåˆ†æž"]})]})]})})]})]})})})}e.s(["default",()=>ib],28546)}]);