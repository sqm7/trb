(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3797,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let s=e.r(11319);function n({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new s.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},89938,(e,t,r)=>{"use strict";function s(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return s}})},46577,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return o}});let s=e.r(25191),n=e.r(1801),l=e.r(12424),i=e.r(89938),a=e.r(39534);function o({moduleIds:e}){if("u">typeof window)return null;let t=l.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let s=t.reactLoadableManifest;for(let t of e){if(!s[t])continue;let e=s[t].files;r.push(...e)}}if(0===r.length)return null;let o=(0,a.getDeploymentIdQueryOrEmptyString)();return(0,s.jsx)(s.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,i.encodeURIPath)(e)}${o}`;return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,n.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},67591,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return c}});let s=e.r(25191),n=e.r(68524),l=e.r(3797),i=e.r(46577);function a(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(a(()=>null)),loading:null,ssr:!0},c=function(e){let t={...o,...e},r=(0,n.lazy)(()=>t.loader().then(a)),c=t.loading;function d(e){let a=c?(0,s.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,d=o?n.Suspense:n.Fragment,x=t.ssr?(0,s.jsxs)(s.Fragment,{children:["u"<typeof window?(0,s.jsx)(i.PreloadChunks,{moduleIds:t.modules}):null,(0,s.jsx)(r,{...e})]}):(0,s.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(r,{...e})});return(0,s.jsx)(d,{...o?{fallback:a}:{},children:x})}return d.displayName="LoadableComponent",d}},67123,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n}});let s=e.r(79031)._(e.r(67591));function n(e,t){let r={};"function"==typeof e&&(r.loader=e);let n={...r,...t};return(0,s.default)({...n,modules:n.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},6698,e=>{"use strict";let t,r,s,n,l,i;var a=e.i(25191),o=e.i(68524),c=e.i(41724),d=e.i(72328);function x(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,s,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(s=e(t[r]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}(e))&&(s&&(s+=" "),s+=t);return s}let m=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),u=[],h=(e,t,r)=>{if(0==e.length-t)return r.classGroupId;let s=e[t],n=r.nextPart.get(s);if(n){let r=h(e,t+1,n);if(r)return r}let l=r.validators;if(null===l)return;let i=0===t?e.join("-"):e.slice(t).join("-"),a=l.length;for(let e=0;e<a;e++){let t=l[e];if(t.validator(i))return t.classGroupId}},p=(e,t)=>{let r=m();for(let s in e)f(e[s],r,s,t);return r},f=(e,t,r,s)=>{let n=e.length;for(let l=0;l<n;l++)b(e[l],t,r,s)},b=(e,t,r,s)=>{"string"==typeof e?g(e,t,r):"function"==typeof e?y(e,t,r,s):j(e,t,r,s)},g=(e,t,r)=>{(""===e?t:v(t,e)).classGroupId=r},y=(e,t,r,s)=>{N(e)?f(e(s),t,r,s):(null===t.validators&&(t.validators=[]),t.validators.push({classGroupId:r,validator:e}))},j=(e,t,r,s)=>{let n=Object.entries(e),l=n.length;for(let e=0;e<l;e++){let[l,i]=n[e];f(i,v(t,l),r,s)}},v=(e,t)=>{let r=e,s=t.split("-"),n=s.length;for(let e=0;e<n;e++){let t=s[e],n=r.nextPart.get(t);n||(n=m(),r.nextPart.set(t,n)),r=n}return r},N=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,w=[],z=(e,t,r,s,n)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:s,isExternal:n}),k=/\s+/,S=e=>{let t;if("string"==typeof e)return e;let r="";for(let s=0;s<e.length;s++)e[s]&&(t=S(e[s]))&&(r&&(r+=" "),r+=t);return r},C=[],P=e=>{let t=t=>t[e]||C;return t.isThemeGetter=!0,t},M=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,A=/^\((?:(\w[\w-]*):)?(.+)\)$/i,R=/^\d+\/\d+$/,F=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,T=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,L=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,I=e=>R.test(e),D=e=>!!e&&!Number.isNaN(Number(e)),$=e=>!!e&&Number.isInteger(Number(e)),_=e=>e.endsWith("%")&&D(e.slice(0,-1)),V=e=>F.test(e),B=()=>!0,W=e=>T.test(e)&&!E.test(e),q=()=>!1,G=e=>L.test(e),U=e=>O.test(e),K=e=>!Y(e)&&!et(e),H=e=>eo(e,em,q),Y=e=>M.test(e),J=e=>eo(e,eu,W),X=e=>eo(e,eh,D),Z=e=>eo(e,ed,q),Q=e=>eo(e,ex,U),ee=e=>eo(e,ef,G),et=e=>A.test(e),er=e=>ec(e,eu),es=e=>ec(e,ep),en=e=>ec(e,ed),el=e=>ec(e,em),ei=e=>ec(e,ex),ea=e=>ec(e,ef,!0),eo=(e,t,r)=>{let s=M.exec(e);return!!s&&(s[1]?t(s[1]):r(s[2]))},ec=(e,t,r=!1)=>{let s=A.exec(e);return!!s&&(s[1]?t(s[1]):r)},ed=e=>"position"===e||"percentage"===e,ex=e=>"image"===e||"url"===e,em=e=>"length"===e||"size"===e||"bg-size"===e,eu=e=>"length"===e,eh=e=>"number"===e,ep=e=>"family-name"===e,ef=e=>"shadow"===e,eb=((e,...t)=>{let r,s,n,l,i=e=>{let t=s(e);if(t)return t;let l=((e,t)=>{let{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n,sortModifiers:l}=t,i=[],a=e.trim().split(k),o="";for(let e=a.length-1;e>=0;e-=1){let t=a[e],{isExternal:c,modifiers:d,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:u}=r(t);if(c){o=t+(o.length>0?" "+o:o);continue}let h=!!u,p=s(h?m.substring(0,u):m);if(!p){if(!h||!(p=s(m))){o=t+(o.length>0?" "+o:o);continue}h=!1}let f=0===d.length?"":1===d.length?d[0]:l(d).join(":"),b=x?f+"!":f,g=b+p;if(i.indexOf(g)>-1)continue;i.push(g);let y=n(p,h);for(let e=0;e<y.length;++e){let t=y[e];i.push(b+t)}o=t+(o.length>0?" "+o:o)}return o})(e,r);return n(e,l),l};return l=a=>{var o;let c;return s=(r={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=Object.create(null),s=Object.create(null),n=(n,l)=>{r[n]=l,++t>e&&(t=0,s=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=s[e])?(n(e,t),t):void 0},set(e,t){e in r?r[e]=t:n(e,t)}}})((o=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:r}=e,s=e=>{let t,r=[],s=0,n=0,l=0,i=e.length;for(let a=0;a<i;a++){let i=e[a];if(0===s&&0===n){if(":"===i){r.push(e.slice(l,a)),l=a+1;continue}if("/"===i){t=a;continue}}"["===i?s++:"]"===i?s--:"("===i?n++:")"===i&&n--}let a=0===r.length?e:e.slice(l),o=a,c=!1;return a.endsWith("!")?(o=a.slice(0,-1),c=!0):a.startsWith("!")&&(o=a.slice(1),c=!0),z(r,c,o,t&&t>l?t-l:void 0)};if(t){let e=t+":",r=s;s=t=>t.startsWith(e)?r(t.slice(e.length)):z(w,!1,t,void 0,!0)}if(r){let e=s;s=t=>r({className:t,parseClassName:e})}return s})(o),sortModifiers:(c=new Map,o.orderSensitiveModifiers.forEach((e,t)=>{c.set(e,1e6+t)}),e=>{let t=[],r=[];for(let s=0;s<e.length;s++){let n=e[s],l="["===n[0],i=c.has(n);l||i?(r.length>0&&(r.sort(),t.push(...r),r=[]),t.push(n)):r.push(n)}return r.length>0&&(r.sort(),t.push(...r)),t}),...(e=>{let t=(e=>{let{theme:t,classGroups:r}=e;return p(r,t)})(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]")){var r;let t,s,n;return -1===(r=e).slice(1,-1).indexOf(":")?void 0:(s=(t=r.slice(1,-1)).indexOf(":"),(n=t.slice(0,s))?"arbitrary.."+n:void 0)}let s=e.split("-"),n=+(""===s[0]&&s.length>1);return h(s,n,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=s[e],n=r[e];if(t){if(n){let e=Array(n.length+t.length);for(let t=0;t<n.length;t++)e[t]=n[t];for(let r=0;r<t.length;r++)e[n.length+r]=t[r];return e}return t}return n||u}return r[e]||u}}})(o)}).cache.get,n=r.cache.set,l=i,i(a)},(...e)=>l(((...e)=>{let t,r,s=0,n="";for(;s<e.length;)(t=e[s++])&&(r=S(t))&&(n&&(n+=" "),n+=r);return n})(...e))})(()=>{let e=P("color"),t=P("font"),r=P("text"),s=P("font-weight"),n=P("tracking"),l=P("leading"),i=P("breakpoint"),a=P("container"),o=P("spacing"),c=P("radius"),d=P("shadow"),x=P("inset-shadow"),m=P("text-shadow"),u=P("drop-shadow"),h=P("blur"),p=P("perspective"),f=P("aspect"),b=P("ease"),g=P("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],v=()=>[...j(),et,Y],N=()=>["auto","hidden","clip","visible","scroll"],w=()=>["auto","contain","none"],z=()=>[et,Y,o],k=()=>[I,"full","auto",...z()],S=()=>[$,"none","subgrid",et,Y],C=()=>["auto",{span:["full",$,et,Y]},$,et,Y],M=()=>[$,"auto",et,Y],A=()=>["auto","min","max","fr",et,Y],R=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...z()],E=()=>[I,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],L=()=>[e,et,Y],O=()=>[...j(),en,Z,{position:[et,Y]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",el,H,{size:[et,Y]}],G=()=>[_,er,J],U=()=>["","none","full",c,et,Y],eo=()=>["",D,er,J],ec=()=>["solid","dashed","dotted","double"],ed=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ex=()=>[D,_,en,Z],em=()=>["","none",h,et,Y],eu=()=>["none",D,et,Y],eh=()=>["none",D,et,Y],ep=()=>[D,et,Y],ef=()=>[I,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[V],breakpoint:[V],color:[B],container:[V],"drop-shadow":[V],ease:["in","out","in-out"],font:[K],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[V],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[V],shadow:[V],spacing:["px",D],text:[V],"text-shadow":[V],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",I,Y,et,f]}],container:["container"],columns:[{columns:[D,Y,et,a]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:w()}],"overscroll-x":[{"overscroll-x":w()}],"overscroll-y":[{"overscroll-y":w()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[$,"auto",et,Y]}],basis:[{basis:[I,"full","auto",a,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[D,I,"auto","initial","none",Y]}],grow:[{grow:["",D,et,Y]}],shrink:[{shrink:["",D,et,Y]}],order:[{order:[$,"first","last","none",et,Y]}],"grid-cols":[{"grid-cols":S()}],"col-start-end":[{col:C()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":S()}],"row-start-end":[{row:C()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...R(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...R()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":R()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[a,"screen",...E()]}],"min-w":[{"min-w":[a,"screen","none",...E()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[i]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",r,er,J]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,et,X]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_,Y]}],"font-family":[{font:[es,Y,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,et,Y]}],"line-clamp":[{"line-clamp":[D,"none",et,X]}],leading:[{leading:[l,...z()]}],"list-image":[{"list-image":["none",et,Y]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",et,Y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ec(),"wavy"]}],"text-decoration-thickness":[{decoration:[D,"from-font","auto",et,J]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[D,"auto",et,Y]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et,Y]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et,Y]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:O()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$,et,Y],radial:["",et,Y],conic:[$,et,Y]},ei,Q]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:eo()}],"border-w-x":[{"border-x":eo()}],"border-w-y":[{"border-y":eo()}],"border-w-s":[{"border-s":eo()}],"border-w-e":[{"border-e":eo()}],"border-w-t":[{"border-t":eo()}],"border-w-r":[{"border-r":eo()}],"border-w-b":[{"border-b":eo()}],"border-w-l":[{"border-l":eo()}],"divide-x":[{"divide-x":eo()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":eo()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ec(),"hidden","none"]}],"divide-style":[{divide:[...ec(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...ec(),"none","hidden"]}],"outline-offset":[{"outline-offset":[D,et,Y]}],"outline-w":[{outline:["",D,er,J]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",d,ea,ee]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",x,ea,ee]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:eo()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[D,J]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":eo()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",m,ea,ee]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[D,et,Y]}],"mix-blend":[{"mix-blend":[...ed(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ed()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[D]}],"mask-image-linear-from-pos":[{"mask-linear-from":ex()}],"mask-image-linear-to-pos":[{"mask-linear-to":ex()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":ex()}],"mask-image-t-to-pos":[{"mask-t-to":ex()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":ex()}],"mask-image-r-to-pos":[{"mask-r-to":ex()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":ex()}],"mask-image-b-to-pos":[{"mask-b-to":ex()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":ex()}],"mask-image-l-to-pos":[{"mask-l-to":ex()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":ex()}],"mask-image-x-to-pos":[{"mask-x-to":ex()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":ex()}],"mask-image-y-to-pos":[{"mask-y-to":ex()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[et,Y]}],"mask-image-radial-from-pos":[{"mask-radial-from":ex()}],"mask-image-radial-to-pos":[{"mask-radial-to":ex()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[D]}],"mask-image-conic-from-pos":[{"mask-conic-from":ex()}],"mask-image-conic-to-pos":[{"mask-conic-to":ex()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:O()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",et,Y]}],filter:[{filter:["","none",et,Y]}],blur:[{blur:em()}],brightness:[{brightness:[D,et,Y]}],contrast:[{contrast:[D,et,Y]}],"drop-shadow":[{"drop-shadow":["","none",u,ea,ee]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",D,et,Y]}],"hue-rotate":[{"hue-rotate":[D,et,Y]}],invert:[{invert:["",D,et,Y]}],saturate:[{saturate:[D,et,Y]}],sepia:[{sepia:["",D,et,Y]}],"backdrop-filter":[{"backdrop-filter":["","none",et,Y]}],"backdrop-blur":[{"backdrop-blur":em()}],"backdrop-brightness":[{"backdrop-brightness":[D,et,Y]}],"backdrop-contrast":[{"backdrop-contrast":[D,et,Y]}],"backdrop-grayscale":[{"backdrop-grayscale":["",D,et,Y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[D,et,Y]}],"backdrop-invert":[{"backdrop-invert":["",D,et,Y]}],"backdrop-opacity":[{"backdrop-opacity":[D,et,Y]}],"backdrop-saturate":[{"backdrop-saturate":[D,et,Y]}],"backdrop-sepia":[{"backdrop-sepia":["",D,et,Y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",et,Y]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[D,"initial",et,Y]}],ease:[{ease:["linear","initial",b,et,Y]}],delay:[{delay:[D,et,Y]}],animate:[{animate:["none",g,et,Y]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,et,Y]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:eu()}],"rotate-x":[{"rotate-x":eu()}],"rotate-y":[{"rotate-y":eu()}],"rotate-z":[{"rotate-z":eu()}],scale:[{scale:eh()}],"scale-x":[{"scale-x":eh()}],"scale-y":[{"scale-y":eh()}],"scale-z":[{"scale-z":eh()}],"scale-3d":["scale-3d"],skew:[{skew:ep()}],"skew-x":[{"skew-x":ep()}],"skew-y":[{"skew-y":ep()}],transform:[{transform:[et,Y,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ef()}],"translate-x":[{"translate-x":ef()}],"translate-y":[{"translate-y":ef()}],"translate-z":[{"translate-z":ef()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et,Y]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et,Y]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[D,er,J,X]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function eg(...e){return eb(x(e))}function ey(e,t=2){return null==e||isNaN(e)?"-":e.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:t})}var ej=e.i(91568);let ev=(0,ej.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),eN=(0,ej.default)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),ew=(0,ej.default)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),ez=(0,ej.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ek=(0,ej.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),eS=(0,ej.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),eC=(0,ej.default)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),eP=[{label:"總覽儀表板",href:"/",icon:ev},{label:"進階分析",href:"/analysis",icon:eN},{label:"地圖模式",href:"/map",icon:ew},{label:"分析報告",href:"/reports",icon:ek}];function eM(){let e=(0,d.usePathname)();return(0,a.jsxs)("aside",{className:"hidden h-screen w-64 flex-col border-r border-white/5 bg-zinc-950 lg:flex fixed left-0 top-0 z-50",children:[(0,a.jsx)("div",{className:"flex h-16 items-center border-b border-white/5 px-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 font-bold text-xl tracking-tight text-white",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-violet-600 text-white shadow-lg shadow-violet-500/30",children:(0,a.jsx)(eC,{className:"h-5 w-5"})}),(0,a.jsx)("span",{children:"平米內參"})]})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto py-6 px-3",children:[(0,a.jsx)("nav",{className:"flex flex-col gap-1 space-y-1",children:eP.map(t=>{let r=e===t.href;return(0,a.jsxs)(c.default,{href:t.href,className:eg("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-all duration-200",r?"bg-violet-500/10 text-violet-400 font-semibold":"text-zinc-400 hover:bg-zinc-900 hover:text-zinc-100"),children:[(0,a.jsx)(t.icon,{className:eg("h-4 w-4",r?"text-violet-400":"text-zinc-500")}),t.label]},t.href)})}),(0,a.jsx)("div",{className:"my-6 border-t border-white/5 mx-3"}),(0,a.jsx)("nav",{className:"flex flex-col gap-1 space-y-1",children:(0,a.jsxs)(c.default,{href:"/settings",className:"flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium text-zinc-400 hover:bg-zinc-900 hover:text-zinc-100 transition-colors",children:[(0,a.jsx)(ez,{className:"h-4 w-4 text-zinc-500"}),"系統設定"]})})]}),(0,a.jsx)("div",{className:"border-t border-white/5 p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 rounded-lg bg-zinc-900/50 p-3 hover:bg-zinc-900 transition-colors cursor-pointer border border-transparent hover:border-white/5",children:[(0,a.jsx)("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center text-xs font-bold text-white ring-2 ring-zinc-950",children:"KT"}),(0,a.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,a.jsx)("p",{className:"truncate text-sm font-medium text-zinc-200",children:"KT Pro"}),(0,a.jsx)("p",{className:"truncate text-xs text-zinc-500",children:"ktpro@vibe.co"})]}),(0,a.jsx)(eS,{className:"h-4 w-4 text-zinc-500 hover:text-white transition-colors"})]})})]})}let eA=(0,ej.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),eR=(0,ej.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),eF=(0,ej.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);function eT(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function eE(...e){return t=>{let r=!1,s=e.map(e=>{let s=eT(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():eT(e[t],null)}}}}function eL(...e){return o.useCallback(eE(...e),e)}var eO=Symbol.for("react.lazy"),eI=o[" use ".trim().toString()];function eD(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===eO&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var e$=((i=o.forwardRef((e,t)=>{let{children:r,...s}=e;if(eD(r)&&"function"==typeof eI&&(r=eI(r._payload)),o.isValidElement(r)){var n;let e,l,i=(n=r,(l=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(l=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),a=function(e,t){let r={...t};for(let s in t){let n=e[s],l=t[s];/^on[A-Z]/.test(s)?n&&l?r[s]=(...e)=>{let t=l(...e);return n(...e),t}:n&&(r[s]=n):"style"===s?r[s]={...n,...l}:"className"===s&&(r[s]=[n,l].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==o.Fragment&&(a.ref=t?eE(t,i):i),o.cloneElement(r,a)}return o.Children.count(r)>1?o.Children.only(null):null})).displayName="Slot.SlotClone",t=i,(r=o.forwardRef((e,r)=>{let{children:s,...n}=e;eD(s)&&"function"==typeof eI&&(s=eI(s._payload));let l=o.Children.toArray(s),i=l.find(eV);if(i){let e=i.props.children,s=l.map(t=>t!==i?t:o.Children.count(e)>1?o.Children.only(null):o.isValidElement(e)?e.props.children:null);return(0,a.jsx)(t,{...n,ref:r,children:o.isValidElement(e)?o.cloneElement(e,void 0,s):null})}return(0,a.jsx)(t,{...n,ref:r,children:s})})).displayName="Slot.Slot",r),e_=Symbol("radix.slottable");function eV(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===e_}let eB=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,eW=(s="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",n={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-violet-500/20",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-zinc-900/50 hover:bg-zinc-800 hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",glass:"bg-white/5 backdrop-blur-sm border border-white/10 hover:bg-white/10 text-zinc-100"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if((null==n?void 0:n.variants)==null)return x(s,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:r,defaultVariants:l}=n,i=Object.keys(r).map(t=>{let s=null==e?void 0:e[t],n=null==l?void 0:l[t];if(null===s)return null;let i=eB(s)||eB(n);return r[t][i]}),a=e&&Object.entries(e).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return x(s,i,null==n||null==(t=n.compoundVariants)?void 0:t.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...a}[t]):({...l,...a})[t]===r})?[...e,r,s]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),eq=o.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...n},l)=>(0,a.jsx)(s?e$:"button",{className:eg(eW({variant:t,size:r,className:e})),ref:l,...n}));eq.displayName="Button";let eG=o.forwardRef(({className:e,type:t,...r},s)=>(0,a.jsx)("input",{type:t,className:eg("flex h-10 w-full rounded-md border border-input bg-zinc-950/50 px-3 py-2 text-sm text-zinc-100 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));function eU(){return(0,a.jsxs)("header",{className:"sticky top-0 z-40 flex h-16 w-full items-center border-b border-white/5 bg-zinc-950/80 backdrop-blur-md px-6 shadow-sm",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 lg:hidden",children:(0,a.jsx)(eq,{variant:"ghost",size:"icon",className:"-ml-2",children:(0,a.jsx)(eF,{className:"h-5 w-5"})})}),(0,a.jsxs)("div",{className:"flex flex-1 items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"hidden lg:flex max-w-sm flex-1 items-center gap-2",children:(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(eA,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-zinc-500"}),(0,a.jsx)(eG,{placeholder:"全站搜尋...",className:"w-full bg-zinc-900/50 pl-9 border-zinc-800 focus:border-violet-500/50"})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.default,{href:"/login",className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 px-3 text-zinc-400 hover:text-white",children:"Login"}),(0,a.jsx)(c.default,{href:"/admin/uploader",className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 px-3 text-zinc-400 hover:text-white",children:"Uploader"}),(0,a.jsx)("div",{className:"h-4 w-[1px] bg-zinc-800 mx-2"}),(0,a.jsxs)(eq,{variant:"ghost",size:"icon",className:"relative text-zinc-400 hover:text-white hover:bg-zinc-800",children:[(0,a.jsx)(eR,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"absolute top-2 right-2 h-2 w-2 rounded-full bg-violet-500 ring-2 ring-zinc-950 block"})]})]})]})]})}function eK({children:e}){return(0,a.jsxs)("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 flex",children:[(0,a.jsx)(eM,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col lg:pl-64 min-w-0 transition-all duration-300",children:[(0,a.jsx)(eU,{}),(0,a.jsx)("main",{className:"flex-1 p-4 md:p-6 lg:p-8 overflow-y-auto",children:(0,a.jsx)("div",{className:"container-custom py-6 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:e})})]})]})}eG.displayName="Input";let eH=e=>{let t,r=new Set,s=(e,s)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=s?s:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,l={setState:s,getState:n,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(s,n,l);return l},eY=e=>{let t=e?eH(e):eH,r=e=>(function(e,t=e=>e){let r=o.default.useSyncExternalStore(e.subscribe,o.default.useCallback(()=>t(e.getState()),[e,t]),o.default.useCallback(()=>t(e.getInitialState()),[e,t]));return o.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},eJ={counties:[],districts:[],transactionType:"預售交易",buildingType:"",projectNames:[],dateRange:"1y",startDate:"",endDate:"",excludeCommercial:!1,floorPremium:.3,rankingCurrentPage:1,rankingPageSize:10,currentSort:{key:"saleAmountSum",order:"desc"},currentAverageType:"arithmetic",velocityView:"monthly",velocityMetric:"count"},eX=(l=e=>({...eJ,setCounties:t=>e({counties:t,districts:[]}),setDistricts:t=>e({districts:t}),setTransactionType:t=>e({transactionType:t}),setBuildingType:t=>e({buildingType:t}),setProjectNames:t=>e({projectNames:t}),setDateRange:(t,r,s)=>e(e=>({dateRange:t,startDate:r||e.startDate,endDate:s||e.endDate})),setCustomDate:(t,r)=>e({startDate:t,endDate:r,dateRange:"custom"}),setExcludeCommercial:t=>e({excludeCommercial:t}),setFloorPremium:t=>e({floorPremium:t}),setRankingCurrentPage:t=>e({rankingCurrentPage:t}),setRankingPageSize:t=>e({rankingPageSize:t}),setCurrentSort:t=>e({currentSort:t}),setCurrentAverageType:t=>e({currentAverageType:t}),setVelocityView:t=>e({velocityView:t}),setVelocityMetric:t=>e({velocityMetric:t}),resetFilters:()=>e(eJ)}))?eY(l):eY,eZ=(0,ej.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eQ=(0,ej.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),e0=(0,o.forwardRef)(({options:e,value:t,onChange:r,placeholder:s="Select...",maxItems:n,disabled:l=!1,className:i,onSearch:c,loading:d=!1},x)=>{let[m,u]=(0,o.useState)(""),[h,p]=(0,o.useState)(!1),f=(0,o.useRef)(null),b=(0,o.useRef)(null),g=c?e:e.filter(e=>e.label.toLowerCase().includes(m.toLowerCase()));return t.map(t=>{let r=e.find(e=>e.value===t);return r?r.label:t}),(0,o.useEffect)(()=>{let e=e=>{f.current&&!f.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,o.useEffect)(()=>{c&&c(m)},[m,c]),(0,a.jsxs)("div",{className:eg("relative w-full",i),ref:f,children:[(0,a.jsxs)("div",{className:eg("flex flex-wrap items-center gap-2 bg-zinc-950/50 border border-input rounded-md px-2 py-1.5 min-h-[42px] cursor-text transition-all",h&&"ring-2 ring-ring ring-offset-0 border-ring",l&&"bg-zinc-900/50 cursor-not-allowed opacity-50"),onClick:()=>!l&&b.current?.focus(),children:[t.map(s=>{let n=e.find(e=>e.value===s),i=n?n.label:s;return(0,a.jsxs)("span",{className:"bg-violet-500/20 text-violet-200 border border-violet-500/30 text-xs rounded-full px-2 py-0.5 flex items-center gap-1 animate-in fade-in zoom-in-95 duration-100",children:[i,!l&&(0,a.jsx)(eZ,{size:12,className:"cursor-pointer hover:text-white transition-colors",onClick:e=>{e.stopPropagation(),r(t.filter(e=>e!==s))}})]},s)}),(0,a.jsx)("input",{ref:b,type:"text",value:m,onChange:e=>u(e.target.value),onFocus:()=>p(!0),onKeyDown:e=>{"Backspace"===e.key&&""===m&&t.length>0&&r(t.slice(0,-1))},placeholder:0===t.length?s:"",className:eg("bg-transparent outline-none flex-grow min-w-[60px] text-zinc-100 placeholder:text-zinc-500 text-sm",l&&"cursor-not-allowed"),disabled:l})]}),h&&!l&&(0,a.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-zinc-900 border border-zinc-700 rounded-md shadow-xl max-h-60 overflow-y-auto custom-scrollbar animate-in fade-in slide-in-from-top-2 duration-100",children:d?(0,a.jsx)("div",{className:"p-2 text-center text-zinc-500 text-sm",children:"Loading..."}):0===g.length?(0,a.jsx)("div",{className:"p-2 text-center text-zinc-500 text-sm",children:"No options found"}):g.map(e=>(0,a.jsxs)("div",{className:eg("px-3 py-2 cursor-pointer text-sm flex items-center justify-between hover:bg-zinc-800 transition-colors",t.includes(e.value)&&"bg-violet-500/10 text-violet-400"),onClick:()=>(e=>{if(t.includes(e))r(t.filter(t=>t!==e));else{if(n&&t.length>=n)return;r([...t,e])}u("")})(e.value),children:[(0,a.jsx)("span",{children:e.label}),t.includes(e.value)&&(0,a.jsx)(eQ,{size:16})]},e.value))})]})});e0.displayName="MultiSelect";let e1=(0,ej.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),e2=o.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("select",{className:eg("flex h-10 w-full appearance-none rounded-md border border-input bg-zinc-950/50 px-3 py-2 text-sm text-zinc-100 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 pr-8",e),ref:s,...r,children:t}),(0,a.jsx)(e1,{className:"absolute right-3 top-2.5 h-4 w-4 opacity-50 pointer-events-none"})]}));e2.displayName="Select";let e5=(0,ej.default)("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),e4=(0,ej.default)("file-down",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),e3=(0,ej.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.i(20585);let e9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp4Ym1iYmZyemJ0dXVleXNpY29jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA2ODg5ODksImV4cCI6MjA2NjI2NDk4OX0.1IUynv5eK1xF_3pb-oasqaTrPvbeAOC4Sc1oykPBy4M",e6="https://zxbmbbfrzbtuueysicoc.supabase.co/functions/v1",e8={QUERY_DATA:`${e6}/query-data`,SUB_DATA:`${e6}/query-sub-data`,PROJECT_NAMES:`${e6}/query-names`,RANKING_ANALYSIS:`${e6}/analyze-project-ranking`,GENERATE_SHARE_LINK:`${e6}/generate-share-link`},e7={臺北市:["中正區","大同區","中山區","松山區","大安區","萬華區","信義區","士林區","北投區","內湖區","南港區","文山區"],新北市:["板橋區","三重區","中和區","永和區","新莊區","新店區","樹林區","鶯歌區","三峽區","淡水區","汐止區","瑞芳區","土城區","蘆洲區","五股區","泰山區","林口區","深坑區","石碇區","坪林區","三芝區","石門區","八里區","平溪區","雙溪區","貢寮區","金山區","萬里區","烏來區"],桃園市:["桃園區","中壢區","大溪區","楊梅區","蘆竹區","大園區","龜山區","八德區","龍潭區","平鎮區","新屋區","觀音區","復興區"],臺中市:["中區","東區","南區","西區","北區","北屯區","西屯區","南屯區","太平區","大里區","霧峰區","烏日區","豐原區","后里區","石岡區","東勢區","和平區","新社區","潭子區","大雅區","神岡區","大肚區","沙鹿區","龍井區","梧棲區","清水區","大甲區","外埔區","大安區"],臺南市:["中西區","東區","南區","北區","安平區","安南區","永康區","歸仁區","新化區","左鎮區","玉井區","楠西區","南化區","仁德區","關廟區","龍崎區","官田區","麻豆區","佳里區","西港區","七股區","將軍區","學甲區","北門區","新營區","後壁區","白河區","東山區","六甲區","下營區","柳營區","鹽水區","善化區","大內區","山上區","新市區","安定區"],高雄市:["新興區","前金區","苓雅區","鹽埕區","鼓山區","旗津區","前鎮區","三民區","楠梓區","小港區","左營區","仁武區","大社區","岡山區","路竹區","阿蓮區","田寮區","燕巢區","橋頭區","梓官區","彌陀區","永安區","湖內區","鳳山區","大寮區","林園區","鳥松區","大樹區","旗山區","美濃區","六龜區","內門區","杉林區","甲仙區","桃源區","那瑪夏區","茂林區","茄萣區"],基隆市:["仁愛區","信義區","中正區","中山區","安樂區","暖暖區","七堵區"],新竹市:["東區","北區","香山區"],嘉義市:["東區","西區"],宜蘭縣:["宜蘭市","羅東鎮","蘇澳鎮","頭城鎮","礁溪鄉","壯圍鄉","員山鄉","冬山鄉","五結鄉","三星鄉","大同鄉","南澳鄉"],新竹縣:["竹北市","竹東鎮","新埔鎮","關西鎮","湖口鄉","新豐鄉","芎林鄉","橫山鄉","北埔鄉","寶山鄉","峨眉鄉","尖石鄉","五峰鄉"],苗栗縣:["苗栗市","苑裡鎮","通霄鎮","竹南鎮","頭份鎮","後龍鎮","卓蘭鎮","大湖鄉","公館鄉","銅鑼鄉","南庄鄉","頭屋鄉","三義鄉","西湖鄉","造橋鄉","三灣鄉","獅潭鄉","泰安鄉"],彰化縣:["彰化市","鹿港鎮","和美鎮","線西鄉","伸港鄉","福興鄉","秀水鄉","花壇鄉","芬園鄉","員林鎮","溪湖鎮","田中鎮","大村鄉","埔鹽鄉","埔心鄉","永靖鄉","社頭鄉","二水鄉","北斗鎮","二林鎮","田尾鄉","埤頭鄉","芳苑鄉","大城鄉","竹塘鄉","溪州鄉"],南投縣:["南投市","埔里鎮","草屯鎮","竹山鎮","集集鎮","名間鄉","鹿谷鄉","中寮鄉","魚池鄉","國姓鄉","水里鄉","信義鄉","仁愛鄉"],雲林縣:["斗六市","斗南鎮","虎尾鎮","西螺鎮","土庫鎮","北港鎮","古坑鄉","大埤鄉","莿桐鄉","林內鄉","二崙鄉","崙背鄉","麥寮鄉","東勢鄉","褒忠鄉","台西鄉","元長鄉","四湖鄉","口湖鄉","水林鄉"],嘉義縣:["太保市","朴子市","布袋鎮","大林鎮","民雄鄉","溪口鄉","新港鄉","六腳鄉","東石鄉","義竹鄉","鹿草鄉","水上鄉","中埔鄉","竹崎鄉","梅山鄉","番路鄉","大埔鄉","阿里山鄉"],屏東縣:["屏東市","潮州鎮","東港鎮","恆春鎮","萬丹鄉","長治鄉","麟洛鄉","九如鄉","里港鄉","鹽埔鄉","高樹鄉","萬巒鄉","內埔鄉","竹田鄉","新埤鄉","枋寮鄉","新園鄉","崁頂鄉","林邊鄉","南州鄉","佳冬鄉","琉球鄉","車城鄉","滿州鄉","枋山鄉","霧台鄉","瑪家鄉","泰武鄉","來義鄉","春日鄉","獅子鄉","牡丹鄉","三地門鄉"],花蓮縣:["花蓮市","鳳林鎮","玉里鎮","新城鄉","吉安鄉","壽豐鄉","光復鄉","豐濱鄉","瑞穗鄉","富里鄉","秀林鄉","萬榮鄉","卓溪鄉"],臺東縣:["臺東市","成功鎮","關山鎮","卑南鄉","鹿野鄉","池上鄉","東河鄉","長濱鄉","太麻里鄉","大武鄉","綠島鄉","海端鄉","延平鄉","金峰鄉","達仁鄉","蘭嶼鄉"],澎湖縣:["馬公市","湖西鄉","白沙鄉","西嶼鄉","望安鄉","七美鄉"],金門縣:["金城鎮","金湖鎮","金沙鄉","金寧鄉","烈嶼鄉","烏坵鄉"],連江縣:["南竿鄉","北竿鄉","莒光鄉","東引鄉"]},te={臺北市:"A",新北市:"F",桃園市:"H",臺中市:"B",臺南市:"D",高雄市:"E",基隆市:"C",新竹市:"O",嘉義市:"I",新竹縣:"J",苗栗縣:"K",彰化縣:"N",南投縣:"M",雲林縣:"P",嘉義縣:"Q",屏東縣:"T",宜蘭縣:"G",花蓮縣:"U",臺東縣:"V",澎湖縣:"X",金門縣:"W",連江縣:"Z"};var tt=e.i(41097);async function tr(){let{data:{session:e}}=await tt.supabase.auth.getSession();return{"Content-Type":"application/json",apikey:e9,Authorization:`Bearer ${e?.access_token||e9}`}}async function ts(e){let t=await tr(),r=await fetch(e8.RANKING_ANALYSIS,{method:"POST",headers:t,body:JSON.stringify({filters:e})});if(!r.ok)throw Error((await r.json().catch(()=>({error:`Analysis request failed: ${r.status}`}))).error||"Analyze data failed");return r.json()}let tn=async function(e,t,r=[]){let s=await tr(),n=await fetch(e8.PROJECT_NAMES,{method:"POST",headers:s,body:JSON.stringify({countyCode:e,query:t,districts:r,detailed:!0})});if(!n.ok)throw Error(`Server error: ${n.status}`);return n.json()};function tl({onAnalyze:e,isLoading:t}){let{counties:r,districts:s,transactionType:n,buildingType:l,projectNames:i,dateRange:c,startDate:d,endDate:x,excludeCommercial:m,setCounties:u,setDistricts:h,setTransactionType:p,setBuildingType:f,setProjectNames:b,setDateRange:g,setCustomDate:y,setExcludeCommercial:j,resetFilters:v}=eX(),[N,w]=(0,o.useState)(!1),[z,k]=(0,o.useState)([]),[S,C]=(0,o.useState)(!1),P=Object.keys(te).map(e=>({label:e,value:e})),M=o.default.useMemo(()=>0===r.length?[]:r.flatMap(e=>(e7[e]||[]).map(t=>({label:t,value:t,group:e}))),[r]),A=(0,o.useRef)(null),[R,F]=(0,o.useState)(null),T=(0,o.useCallback)(async e=>{if(!e||e.length<1||0===r.length)return void k([]);C(!0),F(null);try{let t=r.map(async t=>{let r=te[t],n=s.filter(e=>e7[t]?.includes(e));return tn(r,e,n).then(e=>{let r=[];return Array.isArray(e)?r=e:e&&e.data&&Array.isArray(e.data)?r=e.data:e&&e.names&&Array.isArray(e.names)&&(r=e.names),r.map(e=>({label:"string"==typeof e?e:e.name||e.建案名稱||String(e),value:"string"==typeof e?e:e.name||e.建案名稱||String(e),group:t}))}).catch(e=>(console.error(`Failed to fetch projects for ${t}:`,e),[]))}),n=(await Promise.all(t)).flat(),l=Array.from(new Map(n.map(e=>[e.value,e])).values());k(l),0===l.length&&e.length>=2&&console.log(`No projects found for query "${e}" in counties: ${r.join(", ")}`)}catch(e){console.error("Project search error:",e),F("搜尋失敗，請稍後再試")}finally{C(!1)}},[r,s]),E=(0,o.useCallback)(e=>{A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{T(e)},300)},[T]);return(0,o.useEffect)(()=>()=>{A.current&&clearTimeout(A.current)},[]),(0,a.jsxs)("div",{className:"p-4 md:p-6 glass-card rounded-xl shadow-lg animate-in fade-in slide-in-from-top-4 duration-500",children:[(0,a.jsxs)("div",{className:"flex md:hidden items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,a.jsx)(e3,{className:"h-5 w-5 text-violet-500"}),"篩選條件"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(eq,{variant:"outline",size:"sm",onClick:()=>w(!N),className:"border-zinc-700 text-zinc-300",children:[N?(0,a.jsx)(eZ,{className:"h-4 w-4"}):(0,a.jsx)(e3,{className:"h-4 w-4"}),N?"收起":"展開"]}),(0,a.jsx)(eq,{variant:"default",size:"sm",className:"bg-violet-600 text-white",disabled:0===r.length||t,onClick:e,children:t?"...":"分析"})]})]}),(0,a.jsxs)("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-4 items-end ${N?"block":"hidden md:grid"}`,children:[(0,a.jsxs)("div",{className:"xl:col-span-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-zinc-300",children:"縣市 (至多6個)"}),r.length>0&&(0,a.jsx)("button",{onClick:()=>u([]),className:"text-xs text-cyan-400 hover:text-cyan-300",children:"清除"})]}),(0,a.jsx)(e0,{options:P,value:r,onChange:e=>{e.length>6||u(e)},placeholder:"請選擇縣市...",maxItems:6})]}),(0,a.jsxs)("div",{className:"xl:col-span-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-zinc-300",children:"行政區"}),s.length>0&&(0,a.jsx)("button",{onClick:()=>h([]),className:"text-xs text-cyan-400 hover:text-cyan-300",children:"清除"})]}),(0,a.jsx)(e0,{options:M,value:s,onChange:e=>{h(e)},placeholder:r.length>0?"請選擇行政區...":"請先選縣市",disabled:0===r.length})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-1",children:"交易類型"}),(0,a.jsxs)(e2,{value:n,onChange:e=>p(e.target.value),children:[(0,a.jsx)("option",{value:"預售交易",children:"預售交易"}),(0,a.jsx)("option",{value:"中古交易",disabled:!0,children:"中古交易 (開發中)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-1",children:"建物型態"}),(0,a.jsxs)(e2,{value:l,onChange:e=>f(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"全部"}),(0,a.jsx)("option",{value:"住宅大樓(11層含以上有電梯)",children:"住宅大樓"}),(0,a.jsx)("option",{value:"華廈(10層含以下有電梯)",children:"華廈"}),(0,a.jsx)("option",{value:"公寓(5層含以下無電梯)",children:"公寓"}),(0,a.jsx)("option",{value:"套房(1房(1廳)1衛)",children:"套房"}),(0,a.jsx)("option",{value:"透天厝",children:"透天厝"}),(0,a.jsx)("option",{value:"店面(店鋪)",children:"店面"}),(0,a.jsx)("option",{value:"辦公商業大樓",children:"辦公商業大樓"}),(0,a.jsx)("option",{value:"工廠",children:"工廠/廠辦"}),(0,a.jsx)("option",{value:"其他",children:"其他"})]})]}),(0,a.jsxs)("div",{className:"xl:col-span-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-zinc-300",children:"建案名稱"}),i.length>0&&(0,a.jsx)("button",{onClick:()=>b([]),className:"text-xs text-cyan-400 hover:text-cyan-300",children:"清除"})]}),(0,a.jsx)(e0,{options:z,value:i,onChange:b,placeholder:r.length>0?"輸入建案名稱搜尋...":"請先選縣市",disabled:0===r.length,onSearch:E,loading:S}),R&&(0,a.jsx)("span",{className:"text-xs text-red-400 mt-1",children:R})]}),(0,a.jsxs)("div",{className:"xl:col-span-3 sm:col-span-2 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-1",children:"快捷時間"}),(0,a.jsxs)(e2,{value:c,onChange:e=>{let t=e.target.value;if("custom"===t)g("custom",d,x);else{let e=new Date,r=new Date;switch(t){case"1q":r.setMonth(e.getMonth()-3);break;case"2q":r.setMonth(e.getMonth()-6);break;case"3q":r.setMonth(e.getMonth()-9);break;case"1y":r.setFullYear(e.getFullYear()-1);break;case"this_year":r=new Date(e.getFullYear(),0,1);break;case"last_2_years":r=new Date(e.getFullYear()-1,0,1);break;case"last_3_years":r=new Date(e.getFullYear()-2,0,1)}g(t,r.toISOString().split("T")[0],e.toISOString().split("T")[0])}},children:[(0,a.jsx)("option",{value:"custom",children:"自訂範圍"}),(0,a.jsx)("option",{value:"1q",children:"近一季 (3個月)"}),(0,a.jsx)("option",{value:"2q",children:"近兩季 (6個月)"}),(0,a.jsx)("option",{value:"3q",children:"近三季 (9個月)"}),(0,a.jsx)("option",{value:"1y",children:"近一年 (12個月)"}),(0,a.jsx)("option",{value:"this_year",children:"今年以來"}),(0,a.jsx)("option",{value:"last_2_years",children:"去年＋今年"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-1",children:"起始日期"}),(0,a.jsx)(eG,{type:"date",value:d,onChange:e=>y(e.target.value,x),className:"bg-zinc-950/50 border-input text-zinc-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-zinc-300",children:"結束日期"}),(0,a.jsx)("button",{onClick:()=>{y(d,new Date().toISOString().split("T")[0])},className:"text-xs text-cyan-400 hover:text-cyan-300",children:"抓取今日"})]}),(0,a.jsx)(eG,{type:"date",value:x,onChange:e=>y(d,e.target.value),className:"bg-zinc-950/50 border-input text-zinc-100"})]})]}),(0,a.jsxs)("div",{className:"xl:col-span-4 sm:col-span-2 flex items-end gap-4 justify-end mt-4 md:mt-0",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 mr-auto",children:(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm text-zinc-300 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:m,onChange:e=>j(e.target.checked),className:"rounded border-zinc-600 bg-zinc-800 text-violet-500 focus:ring-violet-500 accent-violet-500"}),(0,a.jsx)("span",{children:"排除商辦/店面"})]})}),(0,a.jsxs)(eq,{variant:"outline",className:"hidden xl:flex bg-green-900/20 border-green-500/30 text-green-400 hover:bg-green-900/40 hover:text-green-300",children:[(0,a.jsx)(e4,{className:"mr-2 h-4 w-4"}),"輸出報表"]}),(0,a.jsxs)(eq,{variant:"default",className:"bg-violet-600 hover:bg-violet-500 text-white min-w-[120px] hidden md:flex",disabled:0===r.length||t,onClick:e,children:[t?(0,a.jsx)("span",{className:"animate-spin mr-2",children:"⟳"}):(0,a.jsx)(e5,{className:"mr-2 h-4 w-4"}),t?"分析中...":"分析報表"]}),(0,a.jsxs)(eq,{variant:"default",className:"bg-gradient-to-r from-cyan-500 to-violet-500 hover:opacity-90 border-0 text-white min-w-[140px]",children:[(0,a.jsx)(eA,{className:"mr-2 h-4 w-4"}),"查詢資料列表"]})]})]})]})}let ti=o.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:eg("glass-panel rounded-xl text-card-foreground",e),...t}));function ta({title:e,description:t,children:r,action:s,className:n}){return(0,a.jsxs)(ti,{className:eg("bg-zinc-900/50 border-white/5 overflow-hidden",n),children:[(0,a.jsxs)("div",{className:"p-6 border-b border-white/5 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white tracking-tight",children:e}),t&&(0,a.jsx)("p",{className:"text-sm text-zinc-400",children:t})]}),s&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:s})]}),(0,a.jsx)("div",{className:"p-6",children:r})]})}ti.displayName="Card",o.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:eg("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",o.forwardRef(({className:e,...t},r)=>(0,a.jsx)("h3",{ref:r,className:eg("text-lg font-semibold leading-none tracking-tight text-white",e),...t})).displayName="CardTitle",o.forwardRef(({className:e,...t},r)=>(0,a.jsx)("p",{ref:r,className:eg("text-sm text-zinc-400",e),...t})).displayName="CardDescription",o.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:eg("p-6 pt-0",e),...t})).displayName="CardContent",o.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:eg("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";let to=(0,e.i(67123).default)(()=>e.A(31593),{loadableGenerated:{modules:[94861]},ssr:!1});function tc({type:e,series:t,options:r,height:s=350,title:n,description:l,className:i,loading:o}){let c={chart:{background:"transparent",toolbar:{show:!1}},theme:{mode:"dark",palette:"palette1"},dataLabels:{enabled:!1},grid:{borderColor:"#374151",strokeDashArray:4},xaxis:{labels:{style:{colors:"#9ca3af"}},axisBorder:{color:"#4b5563"},axisTicks:{color:"#4b5563"}},yaxis:{labels:{style:{colors:"#9ca3af"}}},tooltip:{theme:"dark",style:{fontSize:"12px"},x:{show:!0}}},d={...c,...r,chart:{...c.chart,...r.chart}};return(0,a.jsxs)(ti,{className:`p-4 ${i}`,children:[(n||l)&&(0,a.jsxs)("div",{className:"mb-4",children:[n&&(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:n}),l&&(0,a.jsx)("p",{className:"text-sm text-gray-400",children:l})]}),o?(0,a.jsx)("div",{className:"flex items-center justify-center",style:{height:s},children:(0,a.jsx)("div",{className:"loader"})}):(0,a.jsx)(to,{options:d,series:t,type:e,height:s,width:"100%"})]})}function td({data:e,sortKey:t}){let r=(0,o.useMemo)(()=>["averagePrice","minPrice","maxPrice","medianPrice","avgParkingPrice"].includes(t)?"bar":"treemap",[t]),s=(0,o.useMemo)(()=>({averagePrice:{title:"建案平均單價排行",unit:"萬/坪"},minPrice:{title:"建案最低單價排行",unit:"萬/坪"},maxPrice:{title:"建案最高單價排行",unit:"萬/坪"},medianPrice:{title:"建案單價中位數排行",unit:"萬/坪"},avgParkingPrice:{title:"車位平均單價排行",unit:"萬"},saleAmountSum:{title:"建案銷售總額佔比",unit:"萬",yLabel:"銷售總額"},houseAreaSum:{title:"建案房屋面積佔比",unit:"坪",yLabel:"房屋面積"},transactionCount:{title:"建案交易筆數佔比",unit:"筆",yLabel:"資料筆數"}})[t]||{title:"建案分析圖表",unit:"",yLabel:"數值"},[t]),n=(0,o.useMemo)(()=>{if(!e||0===e.length)return[];if("bar"!==r)return e.reduce((e,r)=>e+(r[t]||0),0),[{name:s.yLabel||s.unit,data:e.map(e=>({x:e.projectName,y:parseFloat((e[t]||0).toFixed(2))}))}];{let r=[...e].filter(e=>e[t]>0).sort((e,r)=>e[t]-r[t]).slice(-30);return[{name:s.unit,data:r.map(e=>({x:e.projectName,y:parseFloat((e[t]||0).toFixed(2))}))}]}},[e,t,r,s]),l=(0,o.useMemo)(()=>{let l={title:{text:s.title,align:"center",style:{fontSize:"16px",fontWeight:600,color:"#e5e7eb"}},tooltip:{theme:"dark",y:{formatter:e=>`${e.toLocaleString()} ${s.unit}`}}};if("bar"===r){let e=Math.max(400,32*(n[0]?.data.length||0));return{...l,chart:{type:"bar",height:e,toolbar:{show:!0},animations:{enabled:!1}},plotOptions:{bar:{horizontal:!0,barHeight:"70%",borderRadius:6,distributed:!0}},dataLabels:{enabled:!0,textAnchor:"start",offsetX:0,formatter:e=>e.toLocaleString(),style:{colors:["#fff"]}},xaxis:{labels:{style:{colors:"#9ca3af"}}},yaxis:{labels:{maxWidth:200,style:{colors:"#e5e7eb",fontSize:"12px",fontWeight:500}}},legend:{show:!1}}}{let r=e.reduce((e,r)=>e+(r[t]||0),0);return{...l,chart:{type:"treemap",height:450,toolbar:{show:!0}},plotOptions:{treemap:{distributed:!0,enableShades:!1,colorScale:{ranges:[{from:0,to:.1*r,color:"#06b6d4"},{from:.1*r,to:.3*r,color:"#3b82f6"},{from:.3*r,to:.6*r,color:"#8b5cf6"},{from:.6*r,to:1/0,color:"#d946ef"}]}}},dataLabels:{enabled:!0,style:{fontSize:"11px",fontWeight:500,colors:["#fff"]},formatter:function(e,t){return e},offsetY:-2},tooltip:{...l.tooltip,y:{formatter:e=>{let t=r>0?(e/r*100).toFixed(2):0;return`${e.toLocaleString()} ${s.unit} (${t}%)`}}}}}},[r,n,s,e,t]);return e&&0!==e.length?(0,a.jsx)(tc,{type:"bar"===r?"bar":"treemap",series:n,options:l,height:"bar"===r?l.chart?.height||400:450,className:"w-full"}):(0,a.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"無排名資料可顯示"})}var tx=e.i(67690);let tm=(0,ej.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),tu=(0,ej.default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),th=(0,ej.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),tp=(0,ej.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);function tf({data:e}){let{rankingCurrentPage:t,rankingPageSize:r,setRankingCurrentPage:s,setRankingPageSize:n}=eX(),[l,i]=(0,o.useState)(1),[c,d]=(0,o.useState)(10),[x,m]=(0,o.useState)({key:"saleAmountSum",order:"desc"});if(!e)return null;let{coreMetrics:u,projectRanking:h}=e,p=(0,o.useMemo)(()=>h?[...h].sort((e,t)=>{let r=e[x.key]||0,s=t[x.key]||0;return"desc"===x.order?s-r:r-s}):[],[h,x]),f=Math.ceil(p.length/c),b=p.slice((l-1)*c,l*c),g=({title:e,value:t,unit:r})=>(0,a.jsxs)("div",{className:"bg-zinc-800/50 rounded-lg p-4 border border-white/5 flex flex-col items-center justify-center text-center",children:[(0,a.jsx)("div",{className:"text-zinc-400 text-sm mb-1",children:e}),(0,a.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,a.jsx)("span",{className:"text-2xl font-bold text-white",children:t}),(0,a.jsx)("span",{className:"text-xs text-zinc-500",children:r})]})]});return(0,a.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(g,{title:"市場去化總銷售金額",value:u.totalSaleAmount.toLocaleString(),unit:"萬"}),(0,a.jsx)(g,{title:"總銷去化房屋坪數",value:u.totalHouseArea.toLocaleString(void 0,{maximumFractionDigits:2}),unit:"坪"}),(0,a.jsx)(g,{title:"總平均單價",value:u.overallAveragePrice.toLocaleString(void 0,{maximumFractionDigits:2}),unit:"萬/坪"}),(0,a.jsx)(g,{title:"總交易筆數",value:u.transactionCount.toLocaleString(),unit:"筆"})]}),(0,a.jsx)(ta,{title:"建案分析圖表",description:"根據排序指標顯示前30名建案",children:(0,a.jsx)(td,{data:p,sortKey:x.key})}),(0,a.jsxs)(ta,{title:"區域建案排行列表",description:"點擊表頭可進行排序",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"bg-zinc-900/80 text-zinc-400 uppercase text-xs font-semibold",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 cursor-default",children:"排名"}),(0,a.jsx)("th",{className:"px-4 py-3 cursor-default",children:"建案名稱"}),[{key:"saleAmountSum",label:(0,a.jsxs)(a.Fragment,{children:["交易",(0,a.jsx)("br",{}),"總價(萬)"]})},{key:"houseAreaSum",label:(0,a.jsxs)(a.Fragment,{children:["房屋",(0,a.jsx)("br",{}),"面積(坪)"]})},{key:"transactionCount",label:(0,a.jsxs)(a.Fragment,{children:["資料",(0,a.jsx)("br",{}),"筆數"]})},{key:"marketShare",label:(0,a.jsxs)(a.Fragment,{children:["市場",(0,a.jsx)("br",{}),"佔比(%)"]})},{key:"averagePrice",label:(0,a.jsxs)(a.Fragment,{children:["平均",(0,a.jsx)("br",{}),"單價"]})},{key:"minPrice",label:(0,a.jsxs)(a.Fragment,{children:["最低",(0,a.jsx)("br",{}),"單價"]})},{key:"maxPrice",label:(0,a.jsxs)(a.Fragment,{children:["最高",(0,a.jsx)("br",{}),"單價"]})},{key:"medianPrice",label:(0,a.jsxs)(a.Fragment,{children:["中位數",(0,a.jsx)("br",{}),"單價"]})},{key:"avgParkingPrice",label:(0,a.jsxs)(a.Fragment,{children:["車位",(0,a.jsx)("br",{}),"均價"]})}].map(e=>(0,a.jsx)("th",{className:"px-3 py-3 cursor-pointer hover:text-white transition-colors text-center whitespace-nowrap",onClick:()=>{var t;return t=e.key,void m(e=>({key:t,order:e.key===t&&"desc"===e.order?"asc":"desc"}))},children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-0.5",children:[(0,a.jsx)("span",{className:"leading-tight",children:e.label}),x.key===e.key?"desc"===x.order?(0,a.jsx)(tp,{size:12,className:"text-violet-500"}):(0,a.jsx)(th,{size:12,className:"text-violet-500"}):(0,a.jsx)(tu,{size:12,className:"opacity-30"})]})},e.key))]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/5",children:b.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-zinc-800/50 transition-colors",children:[(0,a.jsx)("td",{className:"px-4 py-3 text-zinc-500 font-mono",children:(l-1)*c+t+1}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium text-white",children:e.projectName}),(0,a.jsxs)("div",{className:"flex gap-1 mt-1",children:[e.county&&(0,a.jsx)("span",{className:"text-[10px] bg-zinc-800 text-zinc-400 px-1 py-0.5 rounded",children:e.county}),e.district&&(0,a.jsx)("span",{className:"text-[10px] bg-zinc-800 text-zinc-400 px-1 py-0.5 rounded",children:e.district})]})]})}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-zinc-300",children:e.saleAmountSum.toLocaleString()}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-zinc-300",children:e.houseAreaSum.toLocaleString()}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-zinc-300",children:e.transactionCount.toLocaleString()}),(0,a.jsxs)("td",{className:"px-4 py-3 font-mono text-zinc-300",children:[e.marketShare.toFixed(2),"%"]}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-cyan-400",children:e.averagePrice.toFixed(1)}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-zinc-500",children:e.minPrice.toFixed(1)}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-zinc-500",children:e.maxPrice.toFixed(1)}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-zinc-400",children:e.medianPrice.toFixed(1)}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-zinc-400",children:e.avgParkingPrice>0?e.avgParkingPrice.toLocaleString():"-"})]},t))}),(0,a.jsx)("tfoot",{className:"bg-zinc-900/80 font-bold border-t-2 border-zinc-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{colSpan:2,className:"px-4 py-3 text-center text-zinc-300",children:"總計"}),(0,a.jsx)("td",{className:"px-4 py-3 text-zinc-300",children:u.totalSaleAmount.toLocaleString()}),(0,a.jsx)("td",{className:"px-4 py-3 text-zinc-300",children:u.totalHouseArea.toLocaleString()}),(0,a.jsx)("td",{className:"px-4 py-3 text-zinc-300",children:u.transactionCount.toLocaleString()}),(0,a.jsx)("td",{colSpan:6})]})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4 border-t border-white/5 pt-4",children:[(0,a.jsxs)("div",{className:"text-sm text-zinc-500",children:["顯示 ",(l-1)*c+1," 到 ",Math.min(l*c,p.length)," 筆，共 ",p.length," 筆"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eq,{variant:"outline",size:"sm",onClick:()=>i(e=>Math.max(1,e-1)),disabled:1===l,children:(0,a.jsx)(tx.ChevronLeft,{size:16})}),(0,a.jsxs)("span",{className:"text-sm text-zinc-300",children:["Page ",l," of ",f]}),(0,a.jsx)(eq,{variant:"outline",size:"sm",onClick:()=>i(e=>Math.min(f,e+1)),disabled:l===f,children:(0,a.jsx)(tm,{size:16})})]})]})]})]})}function tb({data:e}){let t=(0,o.useMemo)(()=>e&&0!==e.length?[{name:"總價分佈",type:"boxPlot",data:e.map(e=>{let t=[e.minPrice,e.q1Price,e.medianPrice,e.q3Price,e.maxPrice];return t.some(e=>"number"!=typeof e||isNaN(e))?null:{x:null!==e.bathrooms?`${e.roomType}-${e.bathrooms}衛`:e.roomType,y:t.map(e=>Math.round(e))}}).filter(Boolean)}]:[],[e]),r=(0,o.useMemo)(()=>{if(0===t.length||0===t[0].data.length)return{};let e=t[0].data.flatMap(e=>e.y),r=Math.min(...e),s=Math.max(...e),n=s-r,l=0===n?Math.max(.1*r,100):.1*n;return{chart:{type:"boxPlot",height:450,background:"transparent",toolbar:{show:!0},foreColor:"#e5e7eb"},title:{text:"各房型總價帶分佈箱型圖",align:"center",style:{fontSize:"16px",color:"#e5e7eb"}},plotOptions:{boxPlot:{colors:{upper:"#06b6d4",lower:"#8b5cf6"},stroke:{colors:["#e5e7eb"]}}},xaxis:{type:"category",labels:{style:{colors:"#9ca3af"},rotate:-45,offsetY:5}},yaxis:{min:Math.max(0,r-l),max:s+l,title:{text:"房屋總價 (萬)",style:{color:"#9ca3af"}},labels:{formatter:e=>`${Math.round(e).toLocaleString()} 萬`,style:{colors:"#9ca3af"}}},tooltip:{custom:function({seriesIndex:e,dataPointIndex:t,w:r}){let s=r.globals.initialSeries[e].data[t].y;if(Array.isArray(s)&&5===s.length){let[e,t,r,n,l]=s;return`
                    <div class="apexcharts-tooltip-box" style="background: #18181b; border: 1px solid #27272a; padding: 8px 12px; border-radius: 8px; color: #fff;">
                        <div><strong>最高總價:</strong> ${l.toLocaleString()} 萬</div>
                        <div><strong>3/4位總價:</strong> ${n.toLocaleString()} 萬</div>
                        <div><strong>中位數總價:</strong> ${r.toLocaleString()} 萬</div>
                        <div><strong>1/4位總價:</strong> ${t.toLocaleString()} 萬</div>
                        <div><strong>最低總價:</strong> ${e.toLocaleString()} 萬</div>
                    </div>
                `}return""}}}},[t]);return e&&0!==e.length&&0!==t.length?(0,a.jsx)(tc,{type:"boxPlot",series:t,options:r,height:450,className:"w-full"}):(0,a.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"無總價帶資料可顯示"})}function tg({roomTypes:e,locations:t,crossTable:r,dimension:s}){let n=(0,o.useMemo)(()=>e&&t&&r?e.map(e=>{let s=t.map(t=>r[e]&&r[e][t]||0);return{name:e,data:s}}):[],[e,t,r]),l=(0,o.useMemo)(()=>{let e="county"===s?"縣市":"行政區";return{chart:{type:"bar",height:Math.max(350,35*t.length),stacked:!0,background:"transparent",toolbar:{show:!0},foreColor:"#e5e7eb"},plotOptions:{bar:{horizontal:!0,barHeight:"70%",borderRadius:4,dataLabels:{total:{enabled:!0,offsetX:5,style:{fontSize:"11px",fontWeight:600,color:"#e5e7eb"},formatter:function(e,t){let r=t.w.config.series,s=t.dataPointIndex,n=0;return r.forEach(e=>{n+=e.data[s]||0}),n>0?n.toString():""}}}}},colors:["#06b6d4","#8b5cf6","#10b981","#f59e0b","#ef4444","#3b82f6","#ec4899","#84cc16","#6366f1","#14b8a6"],dataLabels:{enabled:!1},xaxis:{categories:t,title:{text:"成交筆數",style:{color:"#9ca3af"}},labels:{style:{colors:"#9ca3af"}}},yaxis:{title:{text:e,style:{color:"#9ca3af"}},labels:{style:{colors:"#e5e7eb"},maxWidth:150}},legend:{position:"top",horizontalAlign:"center",labels:{colors:"#e5e7eb"}},tooltip:{theme:"dark",y:{formatter:function(e){return e+" 筆"}}},grid:{borderColor:"#374151"},title:{text:`各${e}房型成交筆數分佈`,align:"center",style:{fontSize:"16px",color:"#e5e7eb"}}}},[t,s]);return n&&0!==n.length?(0,a.jsx)(tc,{type:"bar",series:n,options:l,height:l.chart?.height||350,className:"w-full"}):(0,a.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"無區域分佈資料"})}function ty({isOpen:e,onClose:t,title:r,projects:s}){let n=(0,o.useRef)(null);return((0,o.useEffect)(()=>{let r=e=>{"Escape"===e.key&&t()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow=""}},[e,t]),e)?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:e=>{n.current&&!n.current.contains(e.target)&&t()},children:(0,a.jsxs)("div",{ref:n,className:"bg-zinc-900 border border-white/10 rounded-xl shadow-2xl max-w-md w-full mx-4 animate-in zoom-in-95 duration-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/5",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:r}),(0,a.jsx)("button",{onClick:t,className:"p-1 rounded hover:bg-white/10 text-zinc-400 hover:text-white transition-colors",children:(0,a.jsx)(eZ,{size:20})})]}),(0,a.jsx)("div",{className:"px-5 py-4 max-h-[50vh] overflow-y-auto scrollbar-thin scrollbar-thumb-zinc-700",children:0===s.length?(0,a.jsx)("p",{className:"text-zinc-500 text-center py-4",children:"無建案資料"}):(0,a.jsx)("ul",{className:"space-y-2",children:s.map((e,t)=>(0,a.jsx)("li",{className:eg("px-3 py-2 rounded-lg text-zinc-200 text-sm","bg-zinc-800/50 hover:bg-zinc-800 transition-colors","border border-white/5"),children:e},t))})}),(0,a.jsxs)("div",{className:"px-5 py-3 border-t border-white/5 flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-xs text-zinc-500",children:["共 ",s.length," 個建案"]}),(0,a.jsx)("button",{onClick:t,className:"px-4 py-1.5 text-sm rounded-lg bg-zinc-800 text-zinc-300 hover:bg-zinc-700 transition-colors",children:"關閉"})]})]})}):null}function tj({data:e}){let[t,r]=(0,o.useState)(["套房","1房","2房","3房","4房","毛胚"]),[s,n]=(0,o.useState)("district"),[l,i]=(0,o.useState)(!1),[c,d]=(0,o.useState)(""),[x,m]=(0,o.useState)([]),[u,h]=(0,o.useState)(null),p=(0,o.useMemo)(()=>{if(!e?.transactionDetails)return[];let t=new Set;return e.transactionDetails.forEach(e=>{e["縣市"]&&t.add(e["縣市"])}),Array.from(t).sort()},[e?.transactionDetails]);if((0,o.useMemo)(()=>{!u&&p.length>0&&h(p[0])},[p,u]),!e||!e.details)return null;let{details:f,locationCrossTable:b,allDistricts:g,transactionDetails:y}=e,j=(0,o.useMemo)(()=>Array.from(new Set(f.map(e=>e.roomType))),[f]),v=(0,o.useMemo)(()=>f.filter(e=>t.includes(e.roomType)),[f,t]),N=(0,o.useMemo)(()=>{if("county"===s&&y){let e={},r=new Set;y.forEach(t=>{let s=t["房型"]||t.roomType||t["戶型"];if(!s||"其他"===s){let e=t["房數"];s=e&&"number"==typeof e&&e>0?`${e}房`:"其他"}let n="string"==typeof s?s.replace(/\s+/g,""):s,l=t["縣市"]||"未知";e[n]||(e[n]={}),e[n][l]=(e[n][l]||0)+1,r.add(l)});let s=Array.from(r).sort(),n={},l=0;s.forEach(e=>n[e]=0);let i=t.map(t=>{let r=e[t]||{},i=0,a=s.map(e=>{let t=r[e]||0;return i+=t,n[e]+=t,t});return l+=i,{roomType:t,cells:a,rowTotal:i}});return{locations:s,rows:i,locationTotals:n,grandTotal:l}}if("district"===s){let e={},r=new Set;if(y)y.forEach(t=>{let s=t["房型"]||t.roomType||t["戶型"];if(!s||"其他"===s){let e=t["房數"];s=e&&"number"==typeof e&&e>0?`${e}房`:"其他"}let n="string"==typeof s?s.replace(/\s+/g,""):s,l=t["行政區"]||"未知",i=t["縣市"]||"未知";u&&i!==u||(e[n]||(e[n]={}),e[n][l]=(e[n][l]||0)+1,r.add(l))});else if(b){let s=new Set;t.forEach(e=>{let t=b[e];t&&Object.keys(t).forEach(e=>s.add(e))}),s.forEach(e=>r.add(e)),t.forEach(t=>{let r=b[t];r&&(e[t]=r)})}let s=Array.from(r).sort(),n={},l=0;s.forEach(e=>n[e]=0);let i=t.map(t=>{let r=e[t]||{},i=0,a=s.map(e=>{let t=r[e]||0;return i+=t,n[e]+=t,t});return l+=i,{roomType:t,cells:a,rowTotal:i}});return{locations:s,rows:i,locationTotals:n,grandTotal:l}}return null},[b,y,t,s]);return(0,a.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:j.map(e=>(0,a.jsx)("button",{onClick:()=>{r(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:eg("px-3 py-1 rounded-full text-xs font-medium transition-colors border",t.includes(e)?"bg-violet-500/20 border-violet-500 text-violet-200":"bg-zinc-800/50 border-zinc-700 text-zinc-500 hover:bg-zinc-800"),children:e},e))}),(0,a.jsx)(ta,{title:"各房型總價帶分佈箱型圖",description:"顯示各房型總價的中位數與四分位距",children:(0,a.jsx)(tb,{data:v})}),(0,a.jsx)(ta,{title:"總價帶詳細數據",description:"各房型詳細價格統計",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"bg-zinc-900/80 text-zinc-400 uppercase text-xs font-semibold",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3",children:"房型"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"衛浴"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"建案數"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"筆數"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"平均總價"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"最低總價"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"1/4位總價"}),(0,a.jsx)("th",{className:"px-4 py-3 text-violet-400",children:"中位數總價"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"3/4位總價"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"最高總價"})]})}),(0,a.jsxs)("tbody",{className:"divide-y divide-white/5",children:[v.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-zinc-800/50 transition-colors",children:[(0,a.jsx)("td",{className:"px-4 py-3 font-medium text-white",children:e.roomType}),(0,a.jsx)("td",{className:"px-4 py-3 text-zinc-400",children:e.bathrooms??"-"}),(0,a.jsx)("td",{className:"px-4 py-3",children:e.projectNames&&e.projectNames.length>0?(0,a.jsxs)("button",{onClick:()=>{var t,r,s;return t=e.roomType,r=e.bathrooms,s=e.projectNames||[],void(d(`${t}${null!==r?` / ${r}衛`:""} 建案組成`),m(s),i(!0))},className:"px-2 py-1 text-xs font-medium rounded-full bg-violet-500/20 border border-violet-500/50 text-violet-300 hover:bg-violet-500/30 transition-colors cursor-pointer",children:[e.projectNames.length," 個建案"]}):(0,a.jsx)("span",{className:"text-zinc-500",children:"-"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-zinc-300",children:e.count.toLocaleString()}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-zinc-300",children:e.avgPrice.toLocaleString(void 0,{maximumFractionDigits:0})}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-zinc-500",children:e.minPrice.toLocaleString()}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-zinc-500",children:e.q1Price.toLocaleString()}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-violet-400 font-bold",children:e.medianPrice.toLocaleString()}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-zinc-500",children:e.q3Price.toLocaleString()}),(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-zinc-500",children:e.maxPrice.toLocaleString()})]},t)),0===v.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:10,className:"p-8 text-center text-zinc-500",children:"請選擇房型顯示數據"})})]})]})})}),(N||y)&&(0,a.jsxs)("div",{className:"space-y-6 pt-4 border-t border-white/5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"區域分組交叉分析"}),(0,a.jsxs)("div",{className:"flex bg-zinc-800 rounded-md p-0.5",children:[(0,a.jsx)("button",{onClick:()=>n("district"),className:eg("px-2 py-1 text-xs rounded transition-colors","district"===s?"bg-zinc-700 text-white":"text-zinc-400 hover:text-white"),children:"行政區"}),(0,a.jsx)("button",{onClick:()=>n("county"),className:eg("px-2 py-1 text-xs rounded transition-colors","county"===s?"bg-zinc-700 text-white":"text-zinc-400 hover:text-white"),children:"縣市"})]})]}),"district"===s&&p.length>1&&(0,a.jsxs)("div",{className:"flex items-center gap-2 pb-2",children:[(0,a.jsx)("span",{className:"text-sm text-zinc-500",children:"顯示縣市:"}),(0,a.jsx)("div",{className:"flex gap-1 bg-zinc-900 p-1 rounded-lg",children:p.map(e=>(0,a.jsx)("button",{onClick:()=>h(e),className:eg("px-3 py-1 text-xs font-medium rounded-md transition-all",u===e?"bg-violet-500/20 text-violet-300 shadow-sm border border-violet-500/50":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800"),children:e},e))})]}),(0,a.jsx)(ta,{title:"區域房型成交分佈",description:"各區域不同房型的成交數量熱力分佈",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:N?(0,a.jsxs)("table",{className:"w-full text-sm text-left border-collapse",children:[(0,a.jsx)("thead",{className:"bg-zinc-900/80 text-zinc-400 font-semibold",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-3 py-2 sticky left-0 bg-zinc-900 z-10 border-r border-white/5",children:"房型"}),N.locations.map(e=>(0,a.jsx)("th",{className:"px-3 py-2 text-center min-w-[80px]",children:e},e)),(0,a.jsx)("th",{className:"px-3 py-2 text-center border-l border-white/5 bg-zinc-900 font-bold text-white",children:"總計"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/5",children:N.rows.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-zinc-800/30",children:[(0,a.jsx)("td",{className:"px-3 py-2 font-medium text-zinc-300 sticky left-0 bg-zinc-950/90 border-r border-white/5",children:e.roomType}),e.cells.map((e,t)=>{let r=e>0?Math.min(e/20,1):0,s=e>0?{backgroundColor:`rgba(6, 182, 212, ${.3*r})`}:{};return(0,a.jsx)("td",{className:"px-3 py-2 text-center text-zinc-400",style:s,children:e>0?e:"-"},t)}),(0,a.jsx)("td",{className:"px-3 py-2 text-center font-bold text-white border-l border-white/5 bg-zinc-900/50",children:e.rowTotal})]},t))}),(0,a.jsx)("tfoot",{className:"bg-zinc-900 font-bold border-t-2 border-zinc-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-3 py-2 sticky left-0 bg-zinc-900 border-r border-white/5 text-white",children:"總計"}),N.locations.map(e=>(0,a.jsx)("td",{className:"px-3 py-2 text-center text-white",children:N.locationTotals[e]},e)),(0,a.jsx)("td",{className:"px-3 py-2 text-center text-cyan-400 border-l border-white/5 bg-zinc-900",children:N.grandTotal})]})})]}):(0,a.jsx)("div",{className:"p-8 text-center text-zinc-500",children:"無區域分佈數據"})})}),(0,a.jsx)(ta,{title:"區域成交佔比圖表",children:N&&(0,a.jsx)(tg,{roomTypes:t,locations:N.locations,crossTable:N.rows.reduce((e,t)=>{let r={};return N.locations.forEach((e,s)=>{r[e]=t.cells[s]}),e[t.roomType]=r,e},{}),dimension:s})})]}),(0,a.jsx)(ty,{isOpen:l,onClose:()=>i(!1),title:c,projects:x})]})}function tv({data:e,selectedRooms:t,metric:r}){let s=(0,o.useMemo)(()=>({count:{label:"交易筆數",unit:"筆",decimals:0},priceSum:{label:"產權總價",unit:"萬",decimals:0},areaSum:{label:"房屋坪數",unit:"坪",decimals:2}})[r],[r]),n=(0,o.useMemo)(()=>{if(!e||0===t.length)return[];let s=Object.keys(e).sort();return 0===s.length?[]:t.map(t=>({name:t,data:s.map(s=>e[s]?.[t]?.[r]||0)}))},[e,t,r]),l=(0,o.useMemo)(()=>({chart:{type:"line",height:350,background:"transparent",toolbar:{show:!0},zoom:{enabled:!1},foreColor:"#e5e7eb"},stroke:{curve:"smooth",width:2},dataLabels:{enabled:!1},xaxis:{categories:e?Object.keys(e).sort():[],labels:{style:{colors:"#9ca3af"}}},yaxis:{title:{text:s.label,style:{color:"#9ca3af"}},labels:{style:{colors:"#9ca3af"},formatter:e=>e.toLocaleString("zh-TW",{minimumFractionDigits:0,maximumFractionDigits:0})}},legend:{position:"top",horizontalAlign:"right"},tooltip:{theme:"dark",y:{formatter:e=>`${e.toLocaleString("zh-TW",{minimumFractionDigits:s.decimals,maximumFractionDigits:s.decimals})} ${s.unit}`}},grid:{borderColor:"#374151"}}),[e,s]);return e&&0!==Object.keys(e).length&&0!==t.length?(0,a.jsx)(tc,{type:"line",series:n,options:l,height:350,className:"w-full"}):(0,a.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"請選擇房型以顯示銷售趨勢"})}function tN({data:e,selectedRooms:t,minArea:r,maxArea:s,interval:n,onDataPointClick:l}){let i=(0,o.useMemo)(()=>[{from:0,to:0,color:"#27272a",name:"0 戶"},{from:1,to:5,color:"#facc15",name:"1-5 戶"},{from:6,to:20,color:"#fbbf24",name:"6-20 戶"},{from:21,to:50,color:"#f97316",name:"21-50 戶"},{from:51,to:1e4,color:"#dc2626",name:"> 50 戶"}],[]),{series:c,maxValue:d}=(0,o.useMemo)(()=>{if(!e||0===t.length)return{series:[],maxValue:0};let l=[];for(let e=r;e<s;e+=n)l.push(`${e.toFixed(1)}-${(e+n).toFixed(1)}`);let i=0;return{series:l.map(n=>{let[l,a]=n.split("-").map(parseFloat);return{name:n,data:t.map(t=>{let n=(e[t]||[]).filter(e=>e>=l&&e<a&&e>=r&&e<=s).length;return n>i&&(i=n),n})}}),maxValue:i}},[e,t,r,s,n]),x=(0,o.useMemo)(()=>({chart:{type:"heatmap",height:Math.max(400,22*c.length),background:"transparent",toolbar:{show:!0},foreColor:"#e5e7eb",events:{dataPointSelection:(e,r,s)=>{if(l){let{seriesIndex:e,dataPointIndex:r}=s,n=s.w.globals.seriesNames[e];l(t[r],n)}}}},plotOptions:{heatmap:{radius:0,useFillColorAsStroke:!0,enableShades:!1,colorScale:{ranges:i}}},dataLabels:{enabled:!0,style:{colors:[({value:e})=>0===e?"transparent":"#e5e7eb"]}},xaxis:{type:"category",categories:t},title:{text:"房型面積分佈熱力圖",align:"center",style:{color:"#e5e7eb",fontSize:"16px"}},grid:{borderColor:"#374151"},tooltip:{theme:"dark",y:{formatter:e=>0===e?"無成交紀錄":`${e} 戶`}}}),[c,t,i,l]);return e&&0!==c.length?(0,a.jsx)(tc,{type:"heatmap",series:c,options:x,height:x.chart?.height||400,className:"w-full"}):(0,a.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"無面積分佈資料"})}function tw({data:e,viewType:t,selectedRooms:r}){if(!e||0===Object.keys(e).length)return(0,a.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"無銷售速度資料"});let s=Object.keys(e).sort().reverse();return(0,a.jsx)("div",{className:"overflow-x-auto max-h-[600px] border border-white/5 rounded-lg",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left border-collapse",children:[(0,a.jsxs)("thead",{className:"bg-zinc-900 sticky top-0 z-20 shadow-md",children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{rowSpan:2,className:"px-4 py-3 sticky left-0 z-30 bg-zinc-900 border-r border-white/10 font-medium text-white min-w-[120px]",children:"時間"}),r.map(e=>(0,a.jsx)("th",{colSpan:3,className:"px-2 py-2 text-center border-l border-white/5 text-zinc-300 font-medium bg-zinc-900/90",children:e},e)),(0,a.jsx)("th",{colSpan:3,className:"px-2 py-2 text-center border-l-2 border-white/10 text-cyan-400 font-bold bg-zinc-900/90",children:"總計"})]}),(0,a.jsxs)("tr",{children:[r.map((e,t)=>(0,a.jsxs)(o.default.Fragment,{children:[(0,a.jsx)("th",{className:eg("px-2 py-2 text-center text-xs text-zinc-500 font-normal bg-zinc-900/90 border-b border-white/10",0===t&&"border-l border-white/5"),children:"筆數"}),(0,a.jsx)("th",{className:"px-2 py-2 text-center text-xs text-zinc-500 font-normal bg-zinc-900/90 border-b border-white/10",children:"總價(萬)"}),(0,a.jsx)("th",{className:"px-2 py-2 text-center text-xs text-zinc-500 font-normal bg-zinc-900/90 border-b border-white/10",children:"坪數"})]},e)),(0,a.jsx)("th",{className:"px-2 py-2 text-center text-xs text-zinc-400 font-medium bg-zinc-900/90 border-b border-white/10 border-l-2 border-white/10",children:"筆數"}),(0,a.jsx)("th",{className:"px-2 py-2 text-center text-xs text-zinc-400 font-medium bg-zinc-900/90 border-b border-white/10",children:"總價(萬)"}),(0,a.jsx)("th",{className:"px-2 py-2 text-center text-xs text-zinc-400 font-medium bg-zinc-900/90 border-b border-white/10",children:"坪數"})]})]}),(0,a.jsx)("tbody",{className:"divide-y divide-white/5",children:s.map(s=>{let n=e[s]||{},l={count:0,priceSum:0,areaSum:0};return(0,a.jsxs)("tr",{className:"hover:bg-zinc-800/30 transition-colors",children:[(0,a.jsx)("td",{className:"px-4 py-2 sticky left-0 z-10 bg-zinc-950/90 border-r border-white/10 font-mono text-zinc-400",children:("weekly"===t&&s.includes("-W"),s)}),r.map((e,t)=>{let r=n[e];return r?(l.count+=r.count,l.priceSum+=r.priceSum,l.areaSum+=r.areaSum,(0,a.jsxs)(o.default.Fragment,{children:[(0,a.jsx)("td",{className:eg("px-2 py-2 text-center text-zinc-300",0===t&&"border-l border-white/5"),children:r.count>0?r.count.toLocaleString():"-"}),(0,a.jsx)("td",{className:"px-2 py-2 text-center text-zinc-500 font-mono text-xs",children:r.count>0?ey(r.priceSum,0):"-"}),(0,a.jsx)("td",{className:"px-2 py-2 text-center text-zinc-500 font-mono text-xs",children:r.count>0?ey(r.areaSum,1):"-"})]},e)):(0,a.jsxs)(o.default.Fragment,{children:[(0,a.jsx)("td",{className:eg("px-2 py-2 text-center text-zinc-700",0===t&&"border-l border-white/5"),children:"-"}),(0,a.jsx)("td",{className:"px-2 py-2 text-center text-zinc-700",children:"-"}),(0,a.jsx)("td",{className:"px-2 py-2 text-center text-zinc-700",children:"-"})]},e)}),(0,a.jsx)("td",{className:"px-2 py-2 text-center font-bold text-cyan-400 border-l-2 border-white/10",children:l.count.toLocaleString()}),(0,a.jsx)("td",{className:"px-2 py-2 text-center font-bold text-zinc-300 font-mono text-xs",children:ey(l.priceSum,0)}),(0,a.jsx)("td",{className:"px-2 py-2 text-center font-bold text-zinc-300 font-mono text-xs",children:ey(l.areaSum,1)})]},s)})})]})})}function tz({data:e}){let[t,r]=(0,o.useState)("monthly"),[s,n]=(0,o.useState)("count"),[l,i]=(0,o.useState)(15),[c,d]=(0,o.useState)(65),[x,m]=(0,o.useState)(5),[u,h]=(0,o.useState)(null),[p,f]=(0,o.useState)(["2房","3房"]);if(!e)return null;let{salesVelocityAnalysis:b,areaDistributionAnalysis:g}=e;return(0,a.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsxs)("div",{className:"p-4 bg-zinc-900/30 border border-white/5 rounded-lg flex flex-wrap gap-2 items-center sticky top-0 z-40 backdrop-blur-md",children:[(0,a.jsx)("span",{className:"text-zinc-400 text-sm mr-2",children:"分析房型:"}),["套房","1房","2房","3房","4房","毛胚","店舖","辦公/事務所"].map(e=>(0,a.jsx)("button",{onClick:()=>{f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:eg("px-3 py-1 text-xs rounded-full border transition-colors",p.includes(e)?"bg-violet-500/20 border-violet-500 text-violet-200":"bg-zinc-800 border-zinc-700 text-zinc-500 hover:bg-zinc-700"),children:e},e))]}),(0,a.jsx)(ta,{title:"房型銷售速度與趨勢分析",action:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(e2,{value:t,onChange:e=>r(e.target.value),className:"w-[100px] h-8 text-xs bg-zinc-950/50",children:[(0,a.jsx)("option",{value:"weekly",children:"每週"}),(0,a.jsx)("option",{value:"monthly",children:"每月"}),(0,a.jsx)("option",{value:"quarterly",children:"每季"}),(0,a.jsx)("option",{value:"yearly",children:"每年"})]}),(0,a.jsxs)(e2,{value:s,onChange:e=>n(e.target.value),className:"w-[100px] h-8 text-xs bg-zinc-950/50",children:[(0,a.jsx)("option",{value:"count",children:"交易筆數"}),(0,a.jsx)("option",{value:"priceSum",children:"總銷金額"}),(0,a.jsx)("option",{value:"areaSum",children:"總銷坪數"})]})]}),children:(0,a.jsx)(tv,{data:b?.[t],selectedRooms:p,metric:s})}),(0,a.jsx)(ta,{title:"銷售速度明細表",description:"各時間段詳細銷售數據統計",children:(0,a.jsx)(tw,{data:b?.[t],viewType:t,selectedRooms:p})}),(0,a.jsxs)(ta,{title:"房型面積分佈熱力圖",description:"分析不同坪數區間的產品供給與去化分佈",action:(0,a.jsxs)("div",{className:"flex gap-2 items-center text-zinc-400 text-xs",children:[(0,a.jsx)("span",{children:"範圍:"}),(0,a.jsx)(eG,{type:"number",value:l,onChange:e=>i(Number(e.target.value)),className:"w-16 h-8 text-xs bg-zinc-950/50"}),(0,a.jsx)("span",{children:"-"}),(0,a.jsx)(eG,{type:"number",value:c,onChange:e=>d(Number(e.target.value)),className:"w-16 h-8 text-xs bg-zinc-950/50"}),(0,a.jsx)("span",{className:"ml-2",children:"級距:"}),(0,a.jsx)(eG,{type:"number",value:x,onChange:e=>m(Number(e.target.value)),className:"w-16 h-8 text-xs bg-zinc-950/50"})]}),children:[(0,a.jsx)(tN,{data:g,selectedRooms:p,minArea:l,maxArea:c,interval:x,onDataPointClick:(t,r)=>{let s=0,n=1/0;if(r.includes("<"))n=parseFloat(r.replace("<","").trim());else if(r.includes(">"))s=parseFloat(r.replace(">","").trim());else if(r.includes("-")){let e=r.split("-");s=parseFloat(e[0].trim()),n=parseFloat(e[1].trim())}let l=(e.transactionDetails||[]).filter(e=>{let r=e["房型"]||e.roomType||e["戶型"],l=parseFloat(e["房屋面積(坪)"]||e.houseArea||(e["建物移轉平方公尺"]?.3025*e["建物移轉平方公尺"]:0));if(!r)return!1;let i=l>=s&&l<n;return r===t&&i});h({roomType:t,areaRange:r,transactions:l})}}),u&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-zinc-900/50 border border-white/10 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsxs)("h4",{className:"text-white font-medium",children:[u.roomType," - ",u.areaRange," 坪",(0,a.jsxs)("span",{className:"text-zinc-400 text-sm ml-2",children:["(共 ",u.transactions.length," 筆)"]})]}),(0,a.jsx)("button",{onClick:()=>h(null),className:"text-zinc-400 hover:text-white text-sm",children:"✕ 關閉"})]}),u.transactions.length>0?(0,a.jsx)("div",{className:"max-h-60 overflow-y-auto",children:(0,a.jsxs)("table",{className:"w-full text-xs",children:[(0,a.jsx)("thead",{className:"bg-zinc-800 text-zinc-400 sticky top-0",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-2 text-left",children:"建案"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"坪數"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"單價"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"總價"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/5",children:u.transactions.slice(0,50).map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-zinc-800/50",children:[(0,a.jsx)("td",{className:"p-2",children:e.建案名稱||e.projectName||"-"}),(0,a.jsx)("td",{className:"p-2 text-right font-mono",children:(e.房屋面積||e["房屋面積(坪)"]||e.houseArea||0).toFixed(1)}),(0,a.jsx)("td",{className:"p-2 text-right font-mono text-cyan-400",children:(e.房屋單價||e["房屋單價(萬)"]||e.unitPrice||0).toFixed(1)}),(0,a.jsx)("td",{className:"p-2 text-right font-mono",children:Math.round(e.產權總價||e["交易總價(萬)"]||e.totalPrice||0)+"萬"})]},t))})]})}):(0,a.jsx)("p",{className:"text-zinc-500 text-center py-4",children:"無詳細資料"})]})]})]})}function tk({data:e}){let t=(0,o.useMemo)(()=>e?[e.withParking.count,e.withoutParking.count]:[],[e]),r=(0,o.useMemo)(()=>({chart:{type:"donut",background:"transparent",foreColor:"#e5e7eb"},labels:["含車位","無車位"],colors:["#a5b4fc","#4b5563"],plotOptions:{pie:{donut:{labels:{show:!0,total:{show:!0,label:"總交易",color:"#e5e7eb",formatter:e=>e.globals.seriesTotals.reduce((e,t)=>e+t,0).toLocaleString()+" 筆"}}}}},dataLabels:{enabled:!0,formatter:e=>`${e.toFixed(1)}%`},legend:{position:"bottom"},tooltip:{theme:"dark",y:{formatter:e=>`${e} 筆`}},stroke:{show:!1}}),[]);return e&&(0!==e.withParking.count||0!==e.withoutParking.count)?(0,a.jsx)(tc,{type:"donut",series:t,options:r,height:350,className:"w-full"}):(0,a.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"無車位配比資料"})}function tS({data:e}){let[t,r]=(0,o.useState)(["B1","B2","B3","B4"]),[s,n]=(0,o.useState)(null);if(!e?.parkingAnalysis)return null;let{parkingRatio:l,avgPriceByType:i,rampPlanePriceByFloor:c}=e.parkingAnalysis,d=["B1","B2","B3","B4","B5_below"],x=c?.filter(e=>d.includes(e.floor)&&e.count>0)||[],m=(0,o.useMemo)(()=>(function(e,t){let r=[];if(e.forEach(e=>{t.includes(e.floor)&&e.rawRecords&&e.rawRecords.forEach(e=>{"number"!=typeof e.parkingPrice||isNaN(e.parkingPrice)||r.push(e.parkingPrice)})}),0===r.length)return{avgPrice:0,medianPrice:0,q3Price:0,count:0};r.sort((e,t)=>e-t);let s=r.reduce((e,t)=>e+t,0)/r.length,n=r[Math.floor(r.length/2)],l=Math.floor(.75*r.length),i=r[l]||n;return{avgPrice:s,medianPrice:n,q3Price:i,count:r.length}})(x,t),[x,t]),u=(0,o.useCallback)(e=>{r(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),h=(0,o.useCallback)(()=>{t.length===d.length?r([]):r([...d])},[t.length]),p={B1:"#06b6d4",B2:"#3b82f6",B3:"#6366f1",B4:"#8b5cf6",B5_below:"#a855f7"};return(0,a.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(ta,{title:"房車配比分析",description:"建案有購置車位的比例",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[(0,a.jsx)("div",{className:"w-full md:w-1/2",children:(0,a.jsx)(tk,{data:l})}),(0,a.jsx)("div",{className:"w-full md:w-1/2 space-y-4",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-zinc-900/50 text-zinc-500",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-2 text-left",children:"類型"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"筆數"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"佔比"})]})}),(0,a.jsxs)("tbody",{className:"divide-y divide-white/5",children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"p-2",children:"有搭車位"}),(0,a.jsx)("td",{className:"p-2 text-right font-mono text-zinc-300",children:l?.withParking?.count.toLocaleString()}),(0,a.jsxs)("td",{className:"p-2 text-right font-mono text-cyan-400",children:[l?.withParking?.percentage.toFixed(2),"%"]})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"p-2",children:"無車位"}),(0,a.jsx)("td",{className:"p-2 text-right font-mono text-zinc-300",children:l?.withoutParking?.count.toLocaleString()}),(0,a.jsxs)("td",{className:"p-2 text-right font-mono text-zinc-500",children:[l?.withoutParking?.percentage.toFixed(2),"%"]})]})]})]})})]})}),(0,a.jsx)(ta,{title:"車位類型均價",description:"各類車位成交行情",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-zinc-900/50 text-zinc-500",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-2 text-left",children:"類型"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"均價(萬)"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"中位數"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"總數"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/5",children:i?.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-zinc-800/50",children:[(0,a.jsx)("td",{className:"p-2 font-medium",children:e.type}),(0,a.jsx)("td",{className:"p-2 text-right font-mono text-cyan-400",children:Math.round(e.avgPrice).toLocaleString()}),(0,a.jsx)("td",{className:"p-2 text-right font-mono text-zinc-300",children:Math.round(e.medianPrice).toLocaleString()}),(0,a.jsx)("td",{className:"p-2 text-right font-mono text-zinc-500",children:e.count.toLocaleString()})]},e.type))})]})})]}),(0,a.jsx)(ta,{title:"坡道平面車位坪數統計",description:"坡道平面車位的面積分佈",children:(()=>{let e=[];if(x.forEach(t=>{t.rawRecords&&t.rawRecords.forEach(t=>{let r=t.parkingArea||t["車位面積(坪)"];"number"==typeof r&&r>0&&e.push(r)})}),!(e.length>0))return(0,a.jsx)("p",{className:"text-zinc-500 text-center py-4",children:"無坡道平面車位坪數資料"});{e.sort((e,t)=>e-t);let t=e.reduce((e,t)=>e+t,0)/e.length,r=e[Math.floor(e.length/2)];return(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-zinc-900/50 text-zinc-500",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-2 text-left",children:"統計項目"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"數值"})]})}),(0,a.jsxs)("tbody",{className:"divide-y divide-white/5",children:[(0,a.jsxs)("tr",{className:"hover:bg-zinc-800/50",children:[(0,a.jsx)("td",{className:"p-2",children:"統計車位數"}),(0,a.jsxs)("td",{className:"p-2 text-right font-mono text-zinc-300",children:[e.length.toLocaleString()," 位"]})]}),(0,a.jsxs)("tr",{className:"hover:bg-zinc-800/50",children:[(0,a.jsx)("td",{className:"p-2",children:"平均坪數"}),(0,a.jsxs)("td",{className:"p-2 text-right font-mono text-cyan-400",children:[t.toFixed(2)," 坪"]})]}),(0,a.jsxs)("tr",{className:"hover:bg-zinc-800/50",children:[(0,a.jsx)("td",{className:"p-2",children:"坪數中位數"}),(0,a.jsxs)("td",{className:"p-2 text-right font-mono text-zinc-300",children:[r.toFixed(2)," 坪"]})]})]})]})}})()}),(0,a.jsx)(ta,{title:"坡道平面車位 - 樓層價差分析",description:"勾選樓層以動態更新統計數據",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"flex flex-col-reverse gap-2 items-center justify-center p-8 bg-zinc-900/30 rounded-xl relative",children:x.map((e,r)=>{let l=t.includes(e.floor),i=s===e.floor;return(0,a.jsxs)("div",{onMouseEnter:()=>n(e.floor),onMouseLeave:()=>n(null),className:eg("w-52 h-14 rounded-lg flex items-center justify-between px-4 shadow-lg transition-all duration-200 cursor-pointer",i&&"ring-2 ring-white scale-105",!l&&"opacity-30"),style:{backgroundColor:p[e.floor]||"#4b5563"},onClick:()=>u(e.floor),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:eg("w-5 h-5 rounded border-2 flex items-center justify-center",l?"bg-white border-white":"border-white/50"),children:l&&(0,a.jsx)(eQ,{size:14,className:"text-zinc-900"})}),(0,a.jsx)("span",{className:"font-bold text-white",children:e.floor})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-mono text-white text-sm",children:[Math.round(e.avgPrice).toLocaleString()," 萬"]}),(0,a.jsxs)("div",{className:"text-white/70 text-xs",children:[e.count," 位"]})]})]},e.floor)})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-gradient-to-r from-cyan-500/10 to-violet-500/10 border border-cyan-500/30 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-cyan-400 mb-3",children:"已選樓層統計"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-zinc-500",children:"車位數"}),(0,a.jsx)("div",{className:"text-lg font-bold text-white",children:m.count.toLocaleString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-zinc-500",children:"平均單價"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-cyan-400",children:[Math.round(m.avgPrice).toLocaleString()," 萬"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-zinc-500",children:"中位數"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-zinc-300",children:[Math.round(m.medianPrice).toLocaleString()," 萬"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-zinc-500",children:"3/4位數"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-zinc-300",children:[Math.round(m.q3Price).toLocaleString()," 萬"]})]})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-zinc-900/50 text-zinc-500",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-2 text-left",children:(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.length===d.length,onChange:h,className:"form-checkbox rounded bg-zinc-800 border-zinc-600 text-cyan-500"}),(0,a.jsx)("span",{children:"全選"})]})}),(0,a.jsx)("th",{className:"p-2 text-left",children:"樓層"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"均價(萬)"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"中位數"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"最高"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"最低"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"車位數"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/5",children:x.map(e=>{let r=t.includes(e.floor),l=s===e.floor;return(0,a.jsxs)("tr",{onMouseEnter:()=>n(e.floor),onMouseLeave:()=>n(null),className:eg("transition-colors cursor-pointer",l?"bg-zinc-800":"hover:bg-zinc-800/50",!r&&"opacity-50"),onClick:()=>u(e.floor),children:[(0,a.jsx)("td",{className:"p-2",children:(0,a.jsx)("input",{type:"checkbox",checked:r,onChange:()=>u(e.floor),className:"form-checkbox rounded bg-zinc-800 border-zinc-600 text-cyan-500",onClick:e=>e.stopPropagation()})}),(0,a.jsx)("td",{className:"p-2 font-medium",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:p[e.floor]}}),e.floor]})}),(0,a.jsx)("td",{className:"p-2 text-right font-mono text-cyan-400",children:Math.round(e.avgPrice).toLocaleString()}),(0,a.jsx)("td",{className:"p-2 text-right font-mono text-zinc-300",children:Math.round(e.medianPrice).toLocaleString()}),(0,a.jsx)("td",{className:"p-2 text-right font-mono text-zinc-500",children:Math.round(e.maxPrice).toLocaleString()}),(0,a.jsx)("td",{className:"p-2 text-right font-mono text-zinc-500",children:Math.round(e.minPrice).toLocaleString()}),(0,a.jsx)("td",{className:"p-2 text-right font-mono text-zinc-500",children:e.count.toLocaleString()})]},e.floor)})})]})})]})]})})]})}function tC({data:e,minPrice:t,maxPrice:r,interval:s,sizeMetric:n}){let{series:l,chartData:i}=(0,o.useMemo)(()=>{if(!e||0===e.length)return{series:[],chartData:[]};let l=[];for(let e=t;e<r;e+=s)l.push({min:e,max:Math.min(e+s,r),label:`${e}-${Math.min(e+s,r)}`,count:0,totalArea:0,avgPrice:0,transactions:[]});e.forEach(e=>{let n=e["房屋單價(萬)"],i=e["房屋面積(坪)"]||0;if("number"!=typeof n||n<t||n>=r)return;let a=Math.floor((n-t)/s);a>=0&&a<l.length&&(l[a].count++,l[a].totalArea+=i,l[a].transactions.push(e))});let i=l.filter(e=>e.count>0),a=Math.max(...i.map(e=>e.count)),o=Math.max(...i.map(e=>e.totalArea));return{series:[{name:"單價分佈",data:i.map(e=>{let t=(e.min+e.max)/2,r="count"===n?e.count:e.totalArea,s="count"===n?a:o;return{x:e.label,y:t,z:s>0?5+r/s*45:5,count:e.count,totalArea:e.totalArea,rangeLabel:e.label}})}],chartData:i}},[e,t,r,s,n]),c=(0,o.useMemo)(()=>({chart:{type:"bubble",height:450,toolbar:{show:!0},zoom:{enabled:!1}},dataLabels:{enabled:!0,style:{colors:["#fff"],fontWeight:600},formatter:(e,{seriesIndex:t,dataPointIndex:r,w:s})=>{let l=s.config.series[t].data[r];return"count"===n?l.count:Math.round(l.totalArea)}},fill:{opacity:.7,type:"gradient",gradient:{shade:"dark",type:"diagonal1",gradientToColors:["#8b5cf6"],inverseColors:!1,opacityFrom:.85,opacityTo:.5}},xaxis:{type:"category",title:{text:"單價區間 (萬/坪)",style:{color:"#9ca3af"}},labels:{rotate:-45,style:{colors:"#9ca3af"}}},yaxis:{title:{text:"平均單價點 (萬/坪)",style:{color:"#9ca3af"}},labels:{style:{colors:"#9ca3af"},formatter:e=>e.toFixed(0)},min:t-s,max:r+s},tooltip:{theme:"dark",custom:function({seriesIndex:e,dataPointIndex:t,w:r}){let s=r.config.series[e].data[t],l="count"===n?"成交件數":"總坪數",i="count"===n?s.count.toLocaleString()+" 筆":s.totalArea.toFixed(2)+" 坪";return`
                        <div style="background: #1f2937; border: 1px solid #374151; padding: 10px; border-radius: 8px;">
                            <div style="font-weight: 600; color: #06b6d4; margin-bottom: 6px;">單價區間：${s.x} 萬/坪</div>
                            <div style="color: #e5e7eb;">成交件數：${s.count.toLocaleString()} 筆</div>
                            <div style="color: #e5e7eb;">總坪數：${s.totalArea.toFixed(2)} 坪</div>
                            <div style="color: #a855f7; margin-top: 4px; font-weight: 500;">${l}影響力：${i}</div>
                        </div>
                    `}},theme:{mode:"dark"},grid:{borderColor:"#374151"}}),[t,r,s,n]);return e&&0!==e.length?(0,a.jsx)(tc,{type:"bubble",series:l,options:c,height:450,className:"w-full"}):(0,a.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"無交易資料可顯示"})}function tP({title:e,stats:t,noDataMessage:r="無資料",className:s,averageType:n="weighted"}){if(!t||0===t.count)return(0,a.jsxs)("div",{className:eg("p-6 border border-white/5 rounded-lg bg-zinc-900/30",s),children:[(0,a.jsx)("h3",{className:"text-zinc-400 font-medium mb-4",children:e}),(0,a.jsx)("p",{className:"text-zinc-500 text-center py-4",children:r})]});let l="weighted"===n&&t.weightedAvgPrice?t.weightedAvgPrice:t.avgPrice;return(0,a.jsxs)("div",{className:eg("p-6 border border-white/5 rounded-lg bg-zinc-900/30",s),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:e}),(0,a.jsxs)("span",{className:"text-xs text-zinc-500 bg-zinc-800 px-2 py-1 rounded",children:["樣本數: ",t.count]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsx)("table",{className:"w-full text-sm",children:(0,a.jsxs)("tbody",{className:"divide-y divide-white/5",children:[(0,a.jsxs)("tr",{className:"group",children:[(0,a.jsx)("td",{className:"py-2 text-zinc-400",children:"weighted"===n?"加權平均單價":"算術平均單價"}),(0,a.jsxs)("td",{className:"py-2 text-right font-mono text-white group-hover:text-cyan-400 transition-colors",children:[ey(l)," 萬/坪"]})]}),(0,a.jsxs)("tr",{className:"group",children:[(0,a.jsx)("td",{className:"py-2 text-zinc-400",children:"最低單價"}),(0,a.jsx)("td",{className:"py-2 text-right font-mono text-zinc-300 group-hover:text-white transition-colors",children:ey(t.minPrice)})]}),(0,a.jsxs)("tr",{className:"group",children:[(0,a.jsx)("td",{className:"py-2 text-zinc-400",children:"1/4分位數"}),(0,a.jsx)("td",{className:"py-2 text-right font-mono text-zinc-300 group-hover:text-white transition-colors",children:ey(t.q1Price)})]}),(0,a.jsxs)("tr",{className:"group",children:[(0,a.jsx)("td",{className:"py-2 text-violet-400 font-medium",children:"中位數單價"}),(0,a.jsx)("td",{className:"py-2 text-right font-mono text-violet-400 font-bold",children:ey(t.medianPrice)})]}),(0,a.jsxs)("tr",{className:"group",children:[(0,a.jsx)("td",{className:"py-2 text-zinc-400",children:"3/4分位數"}),(0,a.jsx)("td",{className:"py-2 text-right font-mono text-zinc-300 group-hover:text-white transition-colors",children:ey(t.q3Price)})]}),(0,a.jsxs)("tr",{className:"group",children:[(0,a.jsx)("td",{className:"py-2 text-zinc-400",children:"最高單價"}),(0,a.jsx)("td",{className:"py-2 text-right font-mono text-zinc-300 group-hover:text-white transition-colors",children:ey(t.maxPrice)})]})]})})}),(0,a.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,a.jsxs)("div",{className:"p-3 bg-zinc-950/50 rounded border border-white/5",children:[(0,a.jsx)("div",{className:"text-cyan-500 font-medium mb-1 text-xs uppercase tracking-wider",children:"最高價建案"}),(0,a.jsx)("div",{className:"text-white font-bold text-lg mb-1",children:t.maxPriceProject||"N/A"}),(0,a.jsxs)("div",{className:"flex gap-4 text-zinc-400 text-xs",children:[(0,a.jsxs)("span",{children:["戶型: ",t.maxPriceUnit||"-"]}),(0,a.jsxs)("span",{children:["樓層: ",t.maxPriceFloor||"-"]})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-zinc-950/50 rounded border border-white/5",children:[(0,a.jsx)("div",{className:"text-green-500 font-medium mb-1 text-xs uppercase tracking-wider",children:"最低價建案"}),(0,a.jsx)("div",{className:"text-white font-bold text-lg mb-1",children:t.minPriceProject||"N/A"}),(0,a.jsxs)("div",{className:"flex gap-4 text-zinc-400 text-xs",children:[(0,a.jsxs)("span",{children:["戶型: ",t.minPriceUnit||"-"]}),(0,a.jsxs)("span",{children:["樓層: ",t.minPriceFloor||"-"]})]})]})]})]})]})}function tM({data:e}){if(!e||0===e.length)return(0,a.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"無符合條件的建案可進行類型比較"});let t=Math.max(...e.map(e=>e.shopMultiple),1),r=Math.max(...e.map(e=>e.officeMultiple),1);return(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"bg-zinc-900/80 text-zinc-400 font-semibold uppercase text-xs",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3",children:"建案名稱"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right",children:"住宅均價"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right",children:"店舖均價"}),(0,a.jsx)("th",{className:"px-4 py-3 w-[200px]",children:"店舖倍數"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right",children:"事務所均價"}),(0,a.jsx)("th",{className:"px-4 py-3 w-[200px]",children:"事務所倍數"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/5",children:e.map((e,s)=>(0,a.jsxs)("tr",{className:"hover:bg-zinc-800/30 transition-colors",children:[(0,a.jsxs)("td",{className:"px-4 py-3",children:[(0,a.jsx)("div",{className:"font-medium text-white",children:e.projectName}),(0,a.jsxs)("div",{className:"text-xs text-zinc-500 flex gap-1 mt-0.5",children:[e.county&&(0,a.jsx)("span",{className:"bg-zinc-800 px-1 rounded",children:e.county}),e.district&&(0,a.jsx)("span",{className:"bg-zinc-800 px-1 rounded",children:e.district})]})]}),(0,a.jsx)("td",{className:"px-4 py-3 text-right font-mono text-zinc-300",children:e.residentialAvg>0?ey(e.residentialAvg):"-"}),(0,a.jsx)("td",{className:"px-4 py-3 text-right font-mono text-zinc-300",children:e.shopAvg>0?ey(e.shopAvg):"-"}),(0,a.jsx)("td",{className:"px-4 py-3",children:e.shopMultiple>0?(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("div",{className:"flex justify-between text-xs mb-0.5",children:(0,a.jsxs)("span",{className:"font-bold text-violet-400",children:[e.shopMultiple.toFixed(2),"x"]})}),(0,a.jsx)("div",{className:"h-1.5 bg-zinc-800 rounded-full overflow-hidden w-full",children:(0,a.jsx)("div",{className:"h-full bg-violet-600 rounded-full",style:{width:`${Math.min(e.shopMultiple/t*100,100)}%`}})})]}):(0,a.jsx)("span",{className:"text-zinc-600",children:"-"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-right font-mono text-zinc-300",children:e.officeAvg>0?ey(e.officeAvg):"-"}),(0,a.jsx)("td",{className:"px-4 py-3",children:e.officeMultiple>0?(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("div",{className:"flex justify-between text-xs mb-0.5",children:(0,a.jsxs)("span",{className:"font-bold text-cyan-400",children:[e.officeMultiple.toFixed(2),"x"]})}),(0,a.jsx)("div",{className:"h-1.5 bg-zinc-800 rounded-full overflow-hidden w-full",children:(0,a.jsx)("div",{className:"h-full bg-cyan-600 rounded-full",style:{width:`${Math.min(e.officeMultiple/r*100,100)}%`}})})]}):(0,a.jsx)("span",{className:"text-zinc-600",children:"-"})})]},s))})]})})}function tA({data:e}){let[t,r]=(0,o.useState)("weighted"),[s,n]=(0,o.useState)(30),[l,i]=(0,o.useState)(150),[c,d]=(0,o.useState)(5),[x,m]=(0,o.useState)("count"),u=e?.transactionDetails||[],h=e?.unitPriceAnalysis,p=h?.residentialStats,f=h?.officeStats,b=h?.storeStats,g=h?.typeComparison;return e&&(u.length||h)?(0,a.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white pl-2 border-l-4 border-violet-500",children:"各用途單價統計"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-zinc-400 text-sm",children:"平均類型:"}),(0,a.jsxs)("div",{className:"flex bg-zinc-950/50 rounded-md p-1 border border-white/5",children:[(0,a.jsx)("button",{onClick:()=>r("arithmetic"),className:eg("px-3 py-1 text-xs rounded transition-colors","arithmetic"===t?"bg-violet-500 text-white":"text-zinc-400 hover:text-white"),children:"算術平均"}),(0,a.jsx)("button",{onClick:()=>r("weighted"),className:eg("px-3 py-1 text-xs rounded transition-colors","weighted"===t?"bg-violet-500 text-white":"text-zinc-400 hover:text-white"),children:"加權平均"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,a.jsx)(tP,{title:"住宅建案統計",stats:p,noDataMessage:"無住宅交易數據",className:"border-violet-500/20",averageType:t}),(0,a.jsx)(tP,{title:"一般事務所/辦公室統計",stats:f,noDataMessage:"無事務所/辦公室交易數據",className:"border-cyan-500/20",averageType:t}),(0,a.jsx)(tP,{title:"店舖統計",stats:b,noDataMessage:"無店舖交易數據",className:"border-amber-500/20 xl:col-span-2",averageType:t})]})]}),g&&g.length>0&&(0,a.jsx)(ta,{title:"建案產品類型單價比較",description:"同一建案內不同用途（住宅/店面/事務所）的單價與倍數比較",children:(0,a.jsx)(tM,{data:g})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white pl-2 border-l-4 border-violet-500",children:"單價分佈分析"}),(0,a.jsxs)("div",{className:"p-4 bg-zinc-900/30 border border-white/5 rounded-lg flex flex-wrap gap-4 items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-zinc-400 text-sm",children:"單價範圍:"}),(0,a.jsx)(eG,{type:"number",value:s,onChange:e=>n(Number(e.target.value)),className:"w-20 h-8 text-xs bg-zinc-950/50"}),(0,a.jsx)("span",{className:"text-zinc-500",children:"-"}),(0,a.jsx)(eG,{type:"number",value:l,onChange:e=>i(Number(e.target.value)),className:"w-20 h-8 text-xs bg-zinc-950/50"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-zinc-400 text-sm",children:"級距:"}),(0,a.jsx)(eG,{type:"number",value:c,onChange:e=>d(Number(e.target.value)),className:"w-16 h-8 text-xs bg-zinc-950/50"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-zinc-400 text-sm",children:"氣泡大小依據:"}),(0,a.jsxs)("div",{className:"flex bg-zinc-950/50 rounded-md p-1 border border-white/5",children:[(0,a.jsx)("button",{onClick:()=>m("count"),className:eg("px-3 py-1 text-xs rounded transition-colors","count"===x?"bg-violet-500 text-white":"text-zinc-400 hover:text-white"),children:"成交筆數"}),(0,a.jsx)("button",{onClick:()=>m("area"),className:eg("px-3 py-1 text-xs rounded transition-colors","area"===x?"bg-violet-500 text-white":"text-zinc-400 hover:text-white"),children:"總銷坪數"})]})]})]}),(0,a.jsx)(ta,{title:"單價分佈泡泡圖",description:"分析各單價區間的成交熱度與分佈密集區",children:(0,a.jsx)(tC,{data:u,minPrice:s,maxPrice:l,interval:c,sizeMetric:x})})]})]}):null}let tR=(e,t=0)=>e?.toLocaleString(void 0,{maximumFractionDigits:t});function tF({data:e,floorPremium:t=.3}){let{horizontalGrid:r,sortedFloors:s,sortedUnits:n,unitColorMap:l,summary:i,horizontalComparison:o}=e;return r&&s&&n?(0,a.jsxs)("div",{className:"space-y-8 overflow-x-auto",children:[(0,a.jsx)("div",{className:"min-w-max",children:(0,a.jsxs)("table",{className:"divide-y divide-zinc-800 border-collapse w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"sticky left-0 bg-dark-card z-20 p-2 text-zinc-400 border-r border-zinc-800",children:"樓層 \\ 戶別"}),n.map(e=>(0,a.jsx)("th",{className:"p-2 text-white font-medium border-l border-zinc-800/50",style:{backgroundColor:`${l[e]||"#4b5563"}80`},children:e},e))]})}),(0,a.jsx)("tbody",{className:"divide-y divide-zinc-800/50",children:s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-zinc-800/30 transition-colors",children:[(0,a.jsx)("td",{className:"sticky left-0 bg-dark-card z-10 p-2 font-bold text-zinc-300 border-r border-zinc-800 text-center",children:e}),n.map(t=>{let s=r[e]?.[t];return s&&0!==s.length?(0,a.jsx)("td",{className:"p-1 border-l border-zinc-800/50 align-top",children:(0,a.jsx)("div",{className:"flex flex-col gap-1",children:s.map((e,t)=>{var r;let s=null===(r=e.premium)?"#1f2937":r<0?"rgba(139, 92, 246, 0.4)":0===r?"#06b6d4":r>5?"rgba(244, 63, 94, 0.5)":r>2?"rgba(234, 179, 8, 0.4)":"rgba(34, 197, 94, 0.3)",n=e.isStorefront?{icon:(0,a.jsx)("i",{className:"fas fa-store"}),label:"店舖"}:e.isOffice?{icon:(0,a.jsx)("i",{className:"fas fa-briefcase"}),label:"辦公"}:e.remark?.includes("露台")?{icon:(0,a.jsx)("i",{className:"fas fa-seedling"}),label:"露台"}:e.remark?.includes("親友")||e.remark?.includes("員工")?{icon:(0,a.jsx)("i",{className:"fas fa-users"}),label:"親友"}:null,l=0===e.premium;return(0,a.jsxs)("div",{className:eg("p-1.5 rounded text-xs transition-transform hover:scale-105 cursor-default relative group",l&&"ring-1 ring-cyan-500"),style:{backgroundColor:s},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,a.jsxs)("span",{className:"font-semibold text-white",children:[n&&(0,a.jsx)("span",{className:"mr-1 text-zinc-200",title:n.label,children:n.icon}),e.unitPrice.toFixed(1),"萬"]}),e.hasParking&&(0,a.jsx)("span",{className:"text-[10px] bg-zinc-900/40 px-1 rounded text-zinc-300",title:"含車位",children:"P"})]}),(0,a.jsx)("div",{className:"text-[10px] text-zinc-300/80 mt-0.5",children:e.transactionDate}),(0,a.jsx)("div",{className:"absolute z-50 hidden group-hover:block w-48 bg-zinc-900 border border-zinc-700 rounded-lg p-3 shadow-xl -translate-y-full -translate-x-1/2 left-1/2 top-[-8px]",children:(0,a.jsxs)("div",{className:"space-y-1",children:[l&&(0,a.jsx)("div",{className:"text-cyan-400 font-bold mb-1",children:"★ 基準戶"}),null!==e.premium&&(0,a.jsxs)("div",{className:"text-zinc-300",children:["調價: ",(0,a.jsxs)("span",{className:eg(e.premium>0?"text-red-400":e.premium<0?"text-violet-400":"text-zinc-400"),children:[e.premium>0?"+":"",e.premium.toFixed(2),"%"]})]}),(0,a.jsx)("div",{className:"h-px bg-zinc-700 my-2"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-xs text-zinc-400",children:[(0,a.jsx)("span",{children:"成交總價:"})," ",(0,a.jsxs)("span",{className:"text-white text-right",children:[tR(e.tooltipInfo.totalPrice),"萬"]}),(0,a.jsx)("span",{children:"房屋總價:"})," ",(0,a.jsxs)("span",{className:"text-white text-right",children:[tR(e.tooltipInfo.housePrice),"萬"]}),(0,a.jsx)("span",{children:"車位總價:"})," ",(0,a.jsxs)("span",{className:"text-white text-right",children:[tR(e.tooltipInfo.parkingPrice),"萬"]}),(0,a.jsx)("span",{children:"房屋坪數:"})," ",(0,a.jsxs)("span",{className:"text-white text-right",children:[tR(e.tooltipInfo.houseArea,2),"坪"]})]})]})})]},t)})})},`${e}-${t}`):(0,a.jsx)("td",{className:"p-2 border-l border-zinc-800/50 bg-zinc-900/20 text-center text-zinc-600",children:"-"},`${e}-${t}`)})]},e))})]})}),i&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-zinc-200",children:"調價幅度統計摘要 (排除店舖/辦公室)"}),(0,a.jsx)("div",{className:"overflow-x-auto rounded-lg border border-zinc-800",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left text-zinc-300",children:[(0,a.jsx)("thead",{className:"text-xs text-zinc-400 uppercase bg-zinc-900/50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3",children:"基準房屋總價"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"調價幅度總額"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"總溢價率"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"已售房屋坪數"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"平均單價調價"})]})}),(0,a.jsx)("tbody",{children:(0,a.jsxs)("tr",{className:"bg-zinc-900/20 border-b border-zinc-800",children:[(0,a.jsxs)("td",{className:"px-6 py-4",children:[tR(i.totalBaselineHousePrice)," 萬"]}),(0,a.jsxs)("td",{className:eg("px-6 py-4 font-bold",i.totalPricePremiumValue>0?"text-red-400":"text-violet-400"),children:[i.totalPricePremiumValue>0?"+":"",tR(i.totalPricePremiumValue)," 萬"]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(i.totalPricePremiumValue/i.totalBaselineHousePrice*100).toFixed(2)," %"]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[tR(i.totalSoldArea)," 坪"]}),(0,a.jsxs)("td",{className:eg("px-6 py-4",i.totalPricePremiumValue>0?"text-red-400":"text-violet-400"),children:[(i.totalPricePremiumValue/i.totalSoldArea).toFixed(2)," 萬/坪"]})]})})]})})]}),o&&o.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-zinc-200",children:["戶型水平價差與溢價貢獻 (基準樓層: F",e.refFloorForComparison||"N/A",")"]}),(0,a.jsx)("div",{className:"overflow-x-auto rounded-lg border border-zinc-800",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left text-zinc-300",children:[(0,a.jsx)("thead",{className:"text-xs text-zinc-400 uppercase bg-zinc-900/50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3",children:"戶型"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"基準戶 (樓/價)"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"水平價差(萬/坪)"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"去化戶數"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"溢價貢獻"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"貢獻佔比"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"基準房屋總價"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"平均單價調價"})]})}),(0,a.jsx)("tbody",{children:o.map((e,t)=>(0,a.jsxs)("tr",{className:"bg-zinc-900/20 border-b border-zinc-800 hover:bg-zinc-800/20",children:[(0,a.jsx)("td",{className:"px-4 py-3 font-medium text-white",children:e.unitType}),(0,a.jsx)("td",{className:"px-4 py-3",children:e.anchorInfo}),(0,a.jsxs)("td",{className:eg("px-4 py-3",e.horizontalPriceDiff>0?"text-red-400":"text-zinc-400"),children:[e.horizontalPriceDiff>0?"+":"",e.horizontalPriceDiff.toFixed(2)," 萬/坪"]}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[e.unitsSold," 戶"]}),(0,a.jsxs)("td",{className:eg("px-4 py-3 font-bold",e.timePremiumContribution>0?"text-red-400":"text-violet-400"),children:[e.timePremiumContribution>0?"+":"",tR(e.timePremiumContribution)," 萬"]}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[e.contributionPercentage,"%"]}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[tR(e.baselineHousePrice)," 萬"]}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[e.avgPriceAdjustment," 萬/坪"]})]},t))})]})})]})]}):(0,a.jsx)("div",{className:"text-zinc-500 text-center p-8",children:"無有效熱力圖資料"})}let tT=(0,ej.default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),tE=(0,ej.default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function tL({data:e}){let[t,r]=(0,o.useState)(""),[s,n]=(0,o.useState)(.3),[l,i]=(0,o.useState)(!1);if((0,o.useEffect)(()=>{e?.priceGridAnalysis?.projectNames?.length&&!t&&r(e.priceGridAnalysis.projectNames[0])},[e,t]),!e?.priceGridAnalysis)return null;let{projectNames:c,byProject:d}=e.priceGridAnalysis,x=o.default.useMemo(()=>{if(!t)return null;if(d[t]&&d[t].horizontalGrid)return d[t];if(e.transactionDetails){let r=e.transactionDetails.filter(e=>e["建案名稱"]===t);if(r.length>0)try{return function(e,t=.3){let r={},s=new Set,n=new Set;if(e.forEach(e=>{let t=e["樓層"]||e.floor||e.layer;if(null==t)return;"number"==typeof t&&(t=String(t));let l=e["戶別"]||e["戶型"]||e.unit||"?";s.add(t),n.add(l),r[t]||(r[t]={}),r[t][l]||(r[t][l]=[]);let i=parseFloat(e["房屋單價(萬)"]||e.unitPrice||0),a=parseFloat(e["交易總價(萬)"]||e.totalPrice||0),o=parseFloat(e["房屋總價(萬)"]||e.housePrice||0),c=parseFloat(e["車位總價(萬)"]||e.parkingPrice||0),d=parseFloat(e["房屋面積(坪)"]||e.houseArea||0),x=e["房數"]||e.rooms,m=e["車位類別"]||e.parkingType||"";"string"==typeof m&&m.includes("車位");let u=e["主要用途"]||e.mainPurpose||"",h=e["建物型態"]||e.buildingType||"",p=u.includes("商業")||h.includes("店")||u.includes("店"),f=u.includes("辦公")||h.includes("辦公")||h.includes("事務所");r[t][l].push({...e,unitPrice:i,floor:t,unit:l,isStorefront:p,isOffice:f,hasParking:c>0,tooltipInfo:{totalPrice:a,housePrice:o,parkingPrice:c,houseArea:d,rooms:x}})}),0===s.size)return{horizontalGrid:{},sortedFloors:[],sortedUnits:[],unitColorMap:{},summary:{totalBaselineHousePrice:0,totalPricePremiumValue:0,totalSoldArea:0,transactionCount:0},horizontalComparison:[]};let l=Array.from(s).sort((e,t)=>{let r=e=>e?e.startsWith("B")?-parseInt(e.substring(1)):parseInt(e)||0:0;return r(t)-r(e)}),i=Array.from(n).sort(),a=1/0,o=null;e.forEach(e=>{let t=e["主要用途"]||e.mainPurpose||"",r=e["建物型態"]||e.buildingType||"",s=e["備註"]||e.note||"",n=parseFloat(e["房屋單價(萬)"]||e.unitPrice||0);!(t.includes("商業")||r.includes("店")||s.includes("特殊")||s.includes("親友"))&&n<a&&n>0&&(a=n,o=e)});let c=0,d=0,x=0,m=0;Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(s=>{r[e][s].forEach((n,l)=>{let i=null;if(o){let e=e=>e.startsWith("B")?-parseInt(e.substring(1)):parseInt(e),r=e(o["樓層"].toString()),s=e(n.floor),l=o["房屋單價(萬)"]*(1+(s-r)*t/100);if(l>0&&(i=(n["房屋單價(萬)"]-l)/l*100,(n===o||.1>Math.abs(n["房屋單價(萬)"]-l))&&(i=0)),n.tooltipInfo.housePrice&&n.tooltipInfo.houseArea){let e=l*n.tooltipInfo.houseArea;c+=e,d+=n.tooltipInfo.housePrice-e,x+=n.tooltipInfo.houseArea,m++}}r[e][s][l].premium=i})})});let u={},h=["#f87171","#fb923c","#fbbf24","#a3e635","#34d399","#22d3ee","#818cf8","#c084fc","#f472b6"];return i.forEach((e,t)=>{u[e]=h[t%h.length]}),{horizontalGrid:r,sortedFloors:l,sortedUnits:i,unitColorMap:u,summary:{totalBaselineHousePrice:c,totalPricePremiumValue:d,totalSoldArea:x,transactionCount:m},horizontalComparison:[],refFloorForComparison:o?o["樓層"]:"-"}}(r,s)}catch(e){console.error("Heatmap generation error:",e)}}return null},[t,d,e.transactionDetails,s]);return(0,a.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 bg-zinc-900/30 p-4 rounded-lg border border-white/5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-zinc-400",children:"選擇建案:"}),(0,a.jsx)(e2,{value:t,onChange:e=>r(e.target.value),className:"w-[280px] bg-zinc-950/50",children:c.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm text-zinc-400",children:"樓層價差:"}),(0,a.jsx)("input",{type:"range",min:0,max:2,step:.1,value:s,onChange:e=>n(Number(e.target.value)),className:"w-28 accent-violet-500"}),(0,a.jsxs)("span",{className:"text-sm font-mono text-violet-400 w-12",children:[s.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,a.jsxs)(eq,{variant:"outline",size:"sm",onClick:()=>{console.log(`Re-analyzing ${t} with floor premium: ${s}%`)},className:"border-violet-500/30 text-violet-400 hover:bg-violet-500/10",children:[(0,a.jsx)(tT,{className:"mr-2 h-4 w-4"}),"重新分析"]}),(0,a.jsxs)(eq,{variant:"outline",size:"sm",onClick:()=>{i(!0);let e=`${window.location.origin}?project=${encodeURIComponent(t)}&floorPremium=${s}`;navigator.clipboard.writeText(e).then(()=>{setTimeout(()=>i(!1),2e3)})},className:"border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/10",children:[(0,a.jsx)(tE,{className:"mr-2 h-4 w-4"}),l?"已複製!":"分享連結"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 p-4 bg-zinc-900/20 rounded-lg border border-white/5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-zinc-500",children:"溢價圖例:"}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-4 h-4 rounded bg-red-500/80"}),(0,a.jsx)("span",{className:"text-xs text-zinc-400",children:"> 5%"})]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-4 h-4 rounded bg-orange-500/80"}),(0,a.jsx)("span",{className:"text-xs text-zinc-400",children:"2-5%"})]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-4 h-4 rounded bg-yellow-500/80"}),(0,a.jsx)("span",{className:"text-xs text-zinc-400",children:"0-2%"})]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-4 h-4 rounded bg-green-500/80"}),(0,a.jsx)("span",{className:"text-xs text-zinc-400",children:"< 0%"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,a.jsx)("span",{className:"text-xs text-zinc-500",children:"特殊交易:"}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-4 h-4 rounded bg-amber-600"}),(0,a.jsx)("span",{className:"text-xs text-zinc-400",children:"店舖"})]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-4 h-4 rounded bg-blue-600"}),(0,a.jsx)("span",{className:"text-xs text-zinc-400",children:"辦公室"})]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-4 h-4 rounded bg-purple-600"}),(0,a.jsx)("span",{className:"text-xs text-zinc-400",children:"廠辦"})]})]})]}),(0,a.jsx)(ta,{title:"建案銷控表與調價熱力圖",description:"可視化建案各戶別的銷售狀況與價格調整幅度",children:x?(0,a.jsx)(tF,{data:x,floorPremium:s}):(0,a.jsx)("div",{className:"text-zinc-500 text-center p-12",children:"請選擇建案以查看銷控表"})})]})}let tO=(0,ej.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function tI({data:e}){let[t,r]=(0,o.useState)(1),[s,n]=(0,o.useState)(new Set),[l,i]=(0,o.useState)({key:"",direction:null}),[c,d]=(0,o.useState)(""),[x,m]=(0,o.useState)("建案名稱");if(!e?.transactionDetails||0===e.transactionDetails.length)return(0,a.jsx)("div",{className:"text-center p-12 text-zinc-500",children:"無交易資料可顯示"});let u=[{key:"行政區",label:"行政區",sortable:!0},{key:"建案名稱",label:"建案名稱",sortable:!0},{key:"交易日",label:"交易日",sortable:!0},{key:"戶別",label:"戶號",sortable:!0},{key:"主要用途",label:"主要用途",sortable:!1},{key:"建物型態",label:"建物型態",sortable:!1},{key:"戶型",label:"戶型",sortable:!0},{key:"樓層",label:"樓層",sortable:!0},{key:"房屋面積(坪)",label:"坪數",sortable:!0},{key:"房屋單價(萬)",label:"單價",sortable:!0}],h=["編號","地址","總樓層","交易總價(萬)","房屋總價(萬)","車位總價(萬)","房數","廳數","衛浴數","備註","解約情形","戶別","主要用途","建物型態","車位類別","車位價格","車位面積","主建物面積","附屬建物面積","陽台面積"],p=e=>null==e||""===e?"-":"number"==typeof e?Number.isInteger(e)?e.toLocaleString():e.toFixed(2):String(e),f=(0,o.useMemo)(()=>{let t=[...e.transactionDetails];if(c.trim()){let e=c.toLowerCase();t=t.filter(t=>{let r=t[x];return null!=r&&String(r).toLowerCase().includes(e)})}return l.key&&l.direction&&t.sort((e,t)=>{let r=e[l.key],s=t[l.key];if(null==r&&null==s)return 0;if(null==r)return 1;if(null==s)return -1;if("number"==typeof r&&"number"==typeof s)return"asc"===l.direction?r-s:s-r;let n=String(r),i=String(s);return"asc"===l.direction?n.localeCompare(i,"zh-TW"):i.localeCompare(n,"zh-TW")}),t},[e.transactionDetails,c,x,l]),b=Math.ceil(f.length/20),g=(t-1)*20,y=g+20,j=f.slice(g,y);return(0,a.jsxs)("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 items-center p-3 bg-zinc-900/50 rounded-lg border border-white/5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[(0,a.jsx)(eA,{size:16,className:"text-zinc-500"}),(0,a.jsx)("input",{type:"text",value:c,onChange:e=>{d(e.target.value),r(1)},placeholder:`搜尋 ${x}...`,className:"flex-1 bg-transparent border-none outline-none text-white placeholder-zinc-500 text-sm"}),c&&(0,a.jsx)("button",{onClick:()=>d(""),className:"text-zinc-500 hover:text-white",children:(0,a.jsx)(eZ,{size:14})})]}),(0,a.jsxs)("select",{value:x,onChange:e=>m(e.target.value),className:"bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-sm text-zinc-300",children:[(0,a.jsx)("option",{value:"建案名稱",children:"建案名稱"}),(0,a.jsx)("option",{value:"行政區",children:"行政區"}),(0,a.jsx)("option",{value:"戶型",children:"戶型"}),(0,a.jsx)("option",{value:"主要用途",children:"主要用途"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm text-zinc-400",children:[(0,a.jsxs)("span",{children:["共 ",(0,a.jsx)("span",{className:"text-white font-semibold",children:f.length.toLocaleString()})," 筆資料 ",c&&(0,a.jsx)("span",{className:"text-zinc-500",children:"(已篩選)"})]}),(0,a.jsxs)("span",{children:["第 ",t," / ",b||1," 頁"]})]}),(0,a.jsx)(ta,{title:"交易資料明細",description:"點擊表頭可排序，點擊「明細」可展開詳細資訊",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"bg-zinc-900/80 text-zinc-400 uppercase text-xs font-semibold sticky top-0",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-3 py-3 w-20",children:"操作"}),u.map(e=>{var t;return(0,a.jsx)("th",{className:eg("px-3 py-3 whitespace-nowrap",e.sortable&&"cursor-pointer select-none group hover:text-white transition-colors"),onClick:()=>{var t;return e.sortable&&(t=e.key,void(i(e=>{if(e.key===t){if("asc"===e.direction)return{key:t,direction:"desc"};if("desc"===e.direction)return{key:"",direction:null}}return{key:t,direction:"asc"}}),r(1)))},children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[e.label,e.sortable&&(t=e.key,l.key!==t?(0,a.jsx)(tu,{size:12,className:"opacity-30 group-hover:opacity-70"}):"asc"===l.direction?(0,a.jsx)(tO,{size:12,className:"text-violet-400"}):(0,a.jsx)(e1,{size:12,className:"text-violet-400"}))]})},e.key)})]})}),(0,a.jsxs)("tbody",{className:"divide-y divide-white/5",children:[j.map((e,t)=>{let r=g+t,l=s.has(r);return(0,a.jsxs)(o.default.Fragment,{children:[(0,a.jsxs)("tr",{className:eg("hover:bg-zinc-800/50 transition-colors",l&&"bg-zinc-800/30"),children:[(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("button",{onClick:()=>{n(e=>{let t=new Set(e);return t.has(r)?t.delete(r):t.add(r),t})},className:eg("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors",l?"bg-violet-500/20 text-violet-300":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600"),children:[l?(0,a.jsx)(tO,{size:12}):(0,a.jsx)(e1,{size:12}),"明細"]})}),u.map(t=>(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:"戶型"===t.key?(0,a.jsx)("span",{className:"cursor-help border-b border-dotted border-zinc-600",title:`原始戶別: ${e["戶別"]||"無資料"}`,children:p(e[t.key])}):(0,a.jsx)("span",{className:eg("房屋單價(萬)"===t.key&&"font-mono text-violet-400","建案名稱"===t.key&&"font-medium text-white"),children:p(e[t.key])})},t.key))]}),l&&(0,a.jsx)("tr",{className:"bg-zinc-900/50",children:(0,a.jsx)("td",{colSpan:u.length+1,className:"px-4 py-4",children:(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:h.map(t=>t in e?(0,a.jsxs)("div",{className:"bg-zinc-800/50 rounded p-2",children:[(0,a.jsx)("div",{className:"text-xs text-zinc-500 mb-1",children:t}),(0,a.jsx)("div",{className:"text-sm text-zinc-200 font-mono",children:p(e[t])})]},t):null)})})})]},r)}),0===j.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:u.length+1,className:"text-center py-8 text-zinc-500",children:"無符合條件的資料"})})]})]})})}),(0,a.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-white/5",children:[(0,a.jsxs)("div",{className:"text-sm text-zinc-500",children:["顯示第 ",f.length>0?g+1:0," - ",Math.min(y,f.length)," 筆"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>r(e=>Math.max(1,e-1)),disabled:1===t,className:"p-2 rounded bg-zinc-800 text-zinc-300 hover:bg-zinc-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(tx.ChevronLeft,{size:16})}),(0,a.jsx)("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,b||1)},(e,s)=>{let n,l=b||1;return(n=l<=5||t<=3?s+1:t>=l-2?l-4+s:t-2+s)<1||n>l?null:(0,a.jsx)("button",{onClick:()=>r(n),className:eg("w-8 h-8 rounded text-sm font-medium transition-colors",t===n?"bg-violet-500 text-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"),children:n},n)})}),(0,a.jsx)("button",{onClick:()=>r(e=>Math.min(b||1,e+1)),disabled:t===b||0===b,className:"p-2 rounded bg-zinc-800 text-zinc-300 hover:bg-zinc-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(tm,{size:16})})]})]})]})}let tD=(0,ej.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),t$=(0,ej.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function t_(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),!1===r||!s.defaultPrevented)return t?.(s)}}function tV(e,t=[]){let r=[],s=()=>{let t=r.map(e=>o.createContext(e));return function(r){let s=r?.[e]||t;return o.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return s.scopeName=e,[function(t,s){let n=o.createContext(s),l=r.length;r=[...r,s];let i=t=>{let{scope:r,children:s,...i}=t,c=r?.[e]?.[l]||n,d=o.useMemo(()=>i,Object.values(i));return(0,a.jsx)(c.Provider,{value:d,children:s})};return i.displayName=t+"Provider",[i,function(r,i){let a=i?.[e]?.[l]||n,c=o.useContext(a);if(c)return c;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:s})=>{let n=r(e)[`__scope${s}`];return{...t,...n}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(s,...t)]}function tB(e){var t;let r,s=(t=e,(r=o.forwardRef((e,t)=>{let{children:r,...s}=e;if(o.isValidElement(r)){var n;let e,l,i=(n=r,(l=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(l=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),a=function(e,t){let r={...t};for(let s in t){let n=e[s],l=t[s];/^on[A-Z]/.test(s)?n&&l?r[s]=(...e)=>{let t=l(...e);return n(...e),t}:n&&(r[s]=n):"style"===s?r[s]={...n,...l}:"className"===s&&(r[s]=[n,l].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==o.Fragment&&(a.ref=t?eE(t,i):i),o.cloneElement(r,a)}return o.Children.count(r)>1?o.Children.only(null):null})).displayName=`${t}.SlotClone`,r),n=o.forwardRef((e,t)=>{let{children:r,...n}=e,l=o.Children.toArray(r),i=l.find(tq);if(i){let e=i.props.children,r=l.map(t=>t!==i?t:o.Children.count(e)>1?o.Children.only(null):o.isValidElement(e)?e.props.children:null);return(0,a.jsx)(s,{...n,ref:t,children:o.isValidElement(e)?o.cloneElement(e,void 0,r):null})}return(0,a.jsx)(s,{...n,ref:t,children:r})});return n.displayName=`${e}.Slot`,n}"u">typeof window&&window.document&&window.document.createElement;var tW=Symbol("radix.slottable");function tq(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===tW}var tG=new WeakMap;function tU(e,t){var r,s;let n,l,i;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let a=(r=e,s=t,n=r.length,(i=(l=tK(s))>=0?l:n+l)<0||i>=n?-1:i);return -1===a?void 0:e[a]}function tK(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],tG.set(this,!0)}set(e,t){return tG.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,r){let s,n=this.has(t),l=this.#e.length,i=tK(e),a=i>=0?i:l+i,o=a<0||a>=l?-1:a;if(o===this.size||n&&o===this.size-1||-1===o)return this.set(t,r),this;let c=this.size+ +!n;i<0&&a++;let d=[...this.#e],x=!1;for(let e=a;e<c;e++)if(a===e){let l=d[e];d[e]===t&&(l=d[e+1]),n&&this.delete(t),s=this.get(l),this.set(t,r)}else{x||d[e-1]!==t||(x=!0);let r=d[x?e:e-1],n=s;s=this.get(r),this.delete(r),this.set(r,n)}return this}with(t,r,s){let n=new e(this);return n.insert(t,r,s),n}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,r){let s=this.#e.indexOf(e);return -1===s?this:this.insert(s,t,r)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,r){let s=this.#e.indexOf(e);return -1===s?this:this.insert(s+1,t,r)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=tU(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=tU(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return tU(this.#e,e)}from(e,t){let r=this.indexOf(e);if(-1===r)return;let s=r+t;return s<0&&(s=0),s>=this.size&&(s=this.size-1),this.at(s)}keyFrom(e,t){let r=this.indexOf(e);if(-1===r)return;let s=r+t;return s<0&&(s=0),s>=this.size&&(s=this.size-1),this.keyAt(s)}find(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return s;r++}}findIndex(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return r;r++}return -1}filter(t,r){let s=[],n=0;for(let e of this)Reflect.apply(t,r,[e,n,this])&&s.push(e),n++;return new e(s)}map(t,r){let s=[],n=0;for(let e of this)s.push([e[0],Reflect.apply(t,r,[e,n,this])]),n++;return new e(s)}reduce(...e){let[t,r]=e,s=0,n=r??this.at(0);for(let r of this)n=0===s&&1===e.length?r:Reflect.apply(t,this,[n,r,s,this]),s++;return n}reduceRight(...e){let[t,r]=e,s=r??this.at(-1);for(let r=this.size-1;r>=0;r--){let n=this.at(r);s=r===this.size-1&&1===e.length?n:Reflect.apply(t,this,[s,n,r,this])}return s}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let r=this.keyAt(e),s=this.get(r);t.set(r,s)}return t}toSpliced(...t){let r=[...this.entries()];return r.splice(...t),new e(r)}slice(t,r){let s=new e,n=this.size-1;if(void 0===t)return s;t<0&&(t+=this.size),void 0!==r&&r>0&&(n=r-1);for(let e=t;e<=n;e++){let t=this.keyAt(e),r=this.get(t);s.set(t,r)}return s}every(e,t){let r=0;for(let s of this){if(!Reflect.apply(e,t,[s,r,this]))return!1;r++}return!0}some(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return!0;r++}return!1}});var tH=globalThis?.document?o.useLayoutEffect:()=>{},tY=o[" useId ".trim().toString()]||(()=>void 0),tJ=0;function tX(e){let[t,r]=o.useState(tY());return tH(()=>{e||r(e=>e??String(tJ++))},[e]),e||(t?`radix-${t}`:"")}e.i(1801);var tZ=Symbol("radix.slottable");function tQ(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===tZ}var t0=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{var r,s;let n,l,i,c=(s=r=`Primitive.${t}`,(n=o.forwardRef((e,t)=>{let{children:r,...s}=e;if(o.isValidElement(r)){var n;let e,l,i=(n=r,(l=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(l=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),a=function(e,t){let r={...t};for(let s in t){let n=e[s],l=t[s];/^on[A-Z]/.test(s)?n&&l?r[s]=(...e)=>{let t=l(...e);return n(...e),t}:n&&(r[s]=n):"style"===s?r[s]={...n,...l}:"className"===s&&(r[s]=[n,l].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==o.Fragment&&(a.ref=t?eE(t,i):i),o.cloneElement(r,a)}return o.Children.count(r)>1?o.Children.only(null):null})).displayName=`${s}.SlotClone`,l=n,(i=o.forwardRef((e,t)=>{let{children:r,...s}=e,n=o.Children.toArray(r),i=n.find(tQ);if(i){let e=i.props.children,r=n.map(t=>t!==i?t:o.Children.count(e)>1?o.Children.only(null):o.isValidElement(e)?e.props.children:null);return(0,a.jsx)(l,{...s,ref:t,children:o.isValidElement(e)?o.cloneElement(e,void 0,r):null})}return(0,a.jsx)(l,{...s,ref:t,children:r})})).displayName=`${r}.Slot`,i),d=o.forwardRef((e,r)=>{let{asChild:s,...n}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(s?c:t,{...n,ref:r})});return d.displayName=`Primitive.${t}`,{...e,[t]:d}},{});o[" useEffectEvent ".trim().toString()],o[" useInsertionEffect ".trim().toString()];var t1=o[" useInsertionEffect ".trim().toString()]||tH;function t2({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){let[n,l,i]=function({defaultProp:e,onChange:t}){let[r,s]=o.useState(e),n=o.useRef(r),l=o.useRef(t);return t1(()=>{l.current=t},[t]),o.useEffect(()=>{n.current!==r&&(l.current?.(r),n.current=r)},[r,n]),[r,s,l]}({defaultProp:t,onChange:r}),a=void 0!==e,c=a?e:n;{let t=o.useRef(void 0!==e);o.useEffect(()=>{let e=t.current;if(e!==a){let t=a?"controlled":"uncontrolled";console.warn(`${s} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=a},[a,s])}return[c,o.useCallback(t=>{if(a){let r="function"==typeof t?t(e):t;r!==e&&i.current?.(r)}else l(t)},[a,e,l,i])]}Symbol("RADIX:SYNC_STATE");var t5=o.createContext(void 0);function t4(e){let t=o.useContext(t5);return e||t||"ltr"}var t3="rovingFocusGroup.onEntryFocus",t9={bubbles:!1,cancelable:!0},t6="RovingFocusGroup",[t8,t7,re]=function(e){let t=e+"CollectionProvider",[r,s]=tV(t),[n,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=e=>{let{scope:t,children:r}=e,s=o.default.useRef(null),l=o.default.useRef(new Map).current;return(0,a.jsx)(n,{scope:t,itemMap:l,collectionRef:s,children:r})};i.displayName=t;let c=e+"CollectionSlot",d=tB(c),x=o.default.forwardRef((e,t)=>{let{scope:r,children:s}=e,n=eL(t,l(c,r).collectionRef);return(0,a.jsx)(d,{ref:n,children:s})});x.displayName=c;let m=e+"CollectionItemSlot",u="data-radix-collection-item",h=tB(m),p=o.default.forwardRef((e,t)=>{let{scope:r,children:s,...n}=e,i=o.default.useRef(null),c=eL(t,i),d=l(m,r);return o.default.useEffect(()=>(d.itemMap.set(i,{ref:i,...n}),()=>void d.itemMap.delete(i))),(0,a.jsx)(h,{...{[u]:""},ref:c,children:s})});return p.displayName=m,[{Provider:i,Slot:x,ItemSlot:p},function(t){let r=l(e+"CollectionConsumer",t);return o.default.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${u}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},s]}(t6),[rt,rr]=tV(t6,[re]),[rs,rn]=rt(t6),rl=o.forwardRef((e,t)=>(0,a.jsx)(t8.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(t8.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(ri,{...e,ref:t})})}));rl.displayName=t6;var ri=o.forwardRef((e,t)=>{let r,{__scopeRovingFocusGroup:s,orientation:n,loop:l=!1,dir:i,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:x,onEntryFocus:m,preventScrollOnEntryFocus:u=!1,...h}=e,p=o.useRef(null),f=eL(t,p),b=t4(i),[g,y]=t2({prop:c,defaultProp:d??null,onChange:x,caller:t6}),[j,v]=o.useState(!1),N=(r=o.useRef(m),o.useEffect(()=>{r.current=m}),o.useMemo(()=>(...e)=>r.current?.(...e),[])),w=t7(s),z=o.useRef(!1),[k,S]=o.useState(0);return o.useEffect(()=>{let e=p.current;if(e)return e.addEventListener(t3,N),()=>e.removeEventListener(t3,N)},[N]),(0,a.jsx)(rs,{scope:s,orientation:n,dir:b,loop:l,currentTabStopId:g,onItemFocus:o.useCallback(e=>y(e),[y]),onItemShiftTab:o.useCallback(()=>v(!0),[]),onFocusableItemAdd:o.useCallback(()=>S(e=>e+1),[]),onFocusableItemRemove:o.useCallback(()=>S(e=>e-1),[]),children:(0,a.jsx)(t0.div,{tabIndex:j||0===k?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:t_(e.onMouseDown,()=>{z.current=!0}),onFocus:t_(e.onFocus,e=>{let t=!z.current;if(e.target===e.currentTarget&&t&&!j){let t=new CustomEvent(t3,t9);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=w().filter(e=>e.focusable);rd([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),u)}}z.current=!1}),onBlur:t_(e.onBlur,()=>v(!1))})})}),ra="RovingFocusGroupItem",ro=o.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:s=!0,active:n=!1,tabStopId:l,children:i,...c}=e,d=tX(),x=l||d,m=rn(ra,r),u=m.currentTabStopId===x,h=t7(r),{onFocusableItemAdd:p,onFocusableItemRemove:f,currentTabStopId:b}=m;return o.useEffect(()=>{if(s)return p(),()=>f()},[s,p,f]),(0,a.jsx)(t8.ItemSlot,{scope:r,id:x,focusable:s,active:n,children:(0,a.jsx)(t0.span,{tabIndex:u?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:t_(e.onMouseDown,e=>{s?m.onItemFocus(x):e.preventDefault()}),onFocus:t_(e.onFocus,()=>m.onItemFocus(x)),onKeyDown:t_(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void m.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var s;let n=(s=e.key,"rtl"!==r?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return rc[n]}(e,m.orientation,m.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){var r,s;"prev"===t&&n.reverse();let l=n.indexOf(e.currentTarget);n=m.loop?(r=n,s=l+1,r.map((e,t)=>r[(s+t)%r.length])):n.slice(l+1)}setTimeout(()=>rd(n))}}),children:"function"==typeof i?i({isCurrentTabStop:u,hasTabStop:null!=b}):i})})});ro.displayName=ra;var rc={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rd(e,t=!1){let r=document.activeElement;for(let s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}var rx=e=>{var t;let r,s,{present:n,children:l}=e,i=function(e){var t,r;let[s,n]=o.useState(),l=o.useRef(null),i=o.useRef(e),a=o.useRef("none"),[c,d]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},o.useReducer((e,t)=>r[e][t]??e,t));return o.useEffect(()=>{let e=rm(l.current);a.current="mounted"===c?e:"none"},[c]),tH(()=>{let t=l.current,r=i.current;if(r!==e){let s=a.current,n=rm(t);e?d("MOUNT"):"none"===n||t?.display==="none"?d("UNMOUNT"):r&&s!==n?d("ANIMATION_OUT"):d("UNMOUNT"),i.current=e}},[e,d]),tH(()=>{if(s){let e,t=s.ownerDocument.defaultView??window,r=r=>{let n=rm(l.current).includes(CSS.escape(r.animationName));if(r.target===s&&n&&(d("ANIMATION_END"),!i.current)){let r=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=r)})}},n=e=>{e.target===s&&(a.current=rm(l.current))};return s.addEventListener("animationstart",n),s.addEventListener("animationcancel",r),s.addEventListener("animationend",r),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",n),s.removeEventListener("animationcancel",r),s.removeEventListener("animationend",r)}}d("ANIMATION_END")},[s,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(e=>{l.current=e?getComputedStyle(e):null,n(e)},[])}}(n),a="function"==typeof l?l({present:i.isPresent}):o.Children.only(l),c=eL(i.ref,(t=a,(s=(r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.ref:(s=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof l||i.isPresent?o.cloneElement(a,{ref:c}):null};function rm(e){return e?.animationName||"none"}rx.displayName="Presence";var ru="Tabs",[rh,rp]=tV(ru,[rr]),rf=rr(),[rb,rg]=rh(ru),ry=o.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,onValueChange:n,defaultValue:l,orientation:i="horizontal",dir:o,activationMode:c="automatic",...d}=e,x=t4(o),[m,u]=t2({prop:s,onChange:n,defaultProp:l??"",caller:ru});return(0,a.jsx)(rb,{scope:r,baseId:tX(),value:m,onValueChange:u,orientation:i,dir:x,activationMode:c,children:(0,a.jsx)(t0.div,{dir:x,"data-orientation":i,...d,ref:t})})});ry.displayName=ru;var rj="TabsList",rv=o.forwardRef((e,t)=>{let{__scopeTabs:r,loop:s=!0,...n}=e,l=rg(rj,r),i=rf(r);return(0,a.jsx)(rl,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:s,children:(0,a.jsx)(t0.div,{role:"tablist","aria-orientation":l.orientation,...n,ref:t})})});rv.displayName=rj;var rN="TabsTrigger",rw=o.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,disabled:n=!1,...l}=e,i=rg(rN,r),o=rf(r),c=rS(i.baseId,s),d=rC(i.baseId,s),x=s===i.value;return(0,a.jsx)(ro,{asChild:!0,...o,focusable:!n,active:x,children:(0,a.jsx)(t0.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":d,"data-state":x?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...l,ref:t,onMouseDown:t_(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(s)}),onKeyDown:t_(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(s)}),onFocus:t_(e.onFocus,()=>{let e="manual"!==i.activationMode;x||n||!e||i.onValueChange(s)})})})});rw.displayName=rN;var rz="TabsContent",rk=o.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,forceMount:n,children:l,...i}=e,c=rg(rz,r),d=rS(c.baseId,s),x=rC(c.baseId,s),m=s===c.value,u=o.useRef(m);return o.useEffect(()=>{let e=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(rx,{present:n||m,children:({present:r})=>(0,a.jsx)(t0.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!r,id:x,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:r&&l})})});function rS(e,t){return`${e}-trigger-${t}`}function rC(e,t){return`${e}-content-${t}`}rk.displayName=rz;let rP=o.forwardRef(({className:e,...t},r)=>(0,a.jsx)(rv,{ref:r,className:eg("inline-flex h-10 items-center justify-center rounded-md bg-zinc-800 p-1 text-zinc-400",e),...t}));rP.displayName=rv.displayName;let rM=o.forwardRef(({className:e,...t},r)=>(0,a.jsx)(rw,{ref:r,className:eg("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-zinc-950 data-[state=active]:text-white data-[state=active]:shadow-sm",e),...t}));rM.displayName=rw.displayName;let rA=o.forwardRef(({className:e,...t},r)=>(0,a.jsx)(rk,{ref:r,className:eg("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));function rR(){let e=eX(),[t,r]=(0,o.useState)(!1),[s,n]=(0,o.useState)(null),[l,i]=(0,o.useState)(null),c=(0,o.useCallback)(async()=>{r(!0),n(null);try{let t=e.counties.map(e=>te[e]||e),r={countyCode:t.length>0?t[0]:void 0,counties:t,districts:e.districts,transactionType:e.transactionType,type:e.transactionType,projectNames:e.projectNames,buildingType:e.buildingType,excludeCommercial:e.excludeCommercial,floorPremium:e.floorPremium,dateRange:e.dateRange,startDate:e.startDate,endDate:e.endDate};console.log("Analyzing with payload:",r);let s=await ts(r);i(s)}catch(e){console.error("Analysis failed:",e),n("無法取得分析數據，請稍後再試。")}finally{r(!1)}},[e]);return(0,o.useEffect)(()=>{},[]),(0,a.jsxs)(eK,{children:[(0,a.jsx)("section",{className:"mb-6 sticky top-4 z-30",children:(0,a.jsx)(tl,{onAnalyze:c,isLoading:t})}),s&&(0,a.jsxs)("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[(0,a.jsx)(t$,{size:20}),s]}),t&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,a.jsx)(tD,{className:"h-10 w-10 animate-spin text-violet-500 mb-4"}),(0,a.jsx)("p",{className:"text-zinc-400",children:"正在分析數據，請稍候..."})]}),!t&&!l&&!s&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 glass-panel border-dashed border-2 border-zinc-800 rounded-xl",children:[(0,a.jsx)("div",{className:"text-zinc-500 mb-2",children:"尚未進行分析"}),(0,a.jsx)("p",{className:"text-zinc-600 text-sm",children:"請選擇篩選條件並點擊「開始分析」"})]}),!t&&l&&(0,a.jsx)("div",{className:"space-y-8 pb-20",children:(0,a.jsxs)(ry,{defaultValue:"ranking",className:"w-full",children:[(0,a.jsx)("div",{className:"overflow-x-auto pb-2 scrollbar-hide",children:(0,a.jsxs)(rP,{className:"bg-zinc-900/50 border border-white/5 p-1 mb-6 inline-flex min-w-max",children:[(0,a.jsx)(rM,{value:"ranking",children:"核心指標與排名"}),(0,a.jsx)(rM,{value:"price-band",children:"總價帶分析"}),(0,a.jsx)(rM,{value:"unit-price",children:"單價分析"}),(0,a.jsx)(rM,{value:"heatmap",children:"調價熱力圖"}),(0,a.jsx)(rM,{value:"velocity",children:"銷售速度與房型"}),(0,a.jsx)(rM,{value:"parking",children:"車位分析"}),(0,a.jsx)(rM,{value:"data-list",children:"資料列表"})]})}),(0,a.jsx)(rA,{value:"ranking",className:"focus-visible:outline-none focus-visible:ring-0",children:(0,a.jsx)(tf,{data:l})}),(0,a.jsx)(rA,{value:"price-band",className:"focus-visible:outline-none focus-visible:ring-0",children:(0,a.jsx)(tj,{data:{...l.priceBandAnalysis,transactionDetails:l.transactionDetails}})}),(0,a.jsx)(rA,{value:"unit-price",className:"focus-visible:outline-none focus-visible:ring-0",children:(0,a.jsx)(tA,{data:l})}),(0,a.jsx)(rA,{value:"heatmap",className:"focus-visible:outline-none focus-visible:ring-0",children:(0,a.jsx)(tL,{data:l})}),(0,a.jsx)(rA,{value:"velocity",className:"focus-visible:outline-none focus-visible:ring-0",children:(0,a.jsx)(tz,{data:l})}),(0,a.jsx)(rA,{value:"parking",className:"focus-visible:outline-none focus-visible:ring-0",children:(0,a.jsx)(tS,{data:l})}),(0,a.jsx)(rA,{value:"data-list",className:"focus-visible:outline-none focus-visible:ring-0",children:(0,a.jsx)(tI,{data:l})})]})})]})}rA.displayName=rk.displayName,e.s(["default",()=>rR],6698)}]);