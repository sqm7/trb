(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72328,(e,t,r)=>{t.exports=e.r(31946)},73565,(e,t,r)=>{},20860,(e,t,r)=>{var s=e.i(20585);e.r(73565);var n=e.r(68524),i=n&&"object"==typeof n&&"default"in n?n:{default:n},a=void 0!==s.default&&s.default.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,r=t.name,s=void 0===r?"stylesheet":r,n=t.optimizeForSpeed,i=void 0===n?a:n;d(o(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",d("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="u">typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,r=e.prototype;return r.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,"u">typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(a||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,t){if(d(o(e),"`insertRule` accepts only strings"),"u"<typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var r=this.getSheet();"number"!=typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(t){return a||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var s=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,s))}return this._rulesCount++},r.replaceRule=function(e,t){if(this._optimizeForSpeed||"u"<typeof window){var r="u">typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(s){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var s=this._tags[e];d(s,"old rule at index `"+e+"` not found"),s.textContent=t}return e},r.deleteRule=function(e){if("u"<typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},r.flush=function(){this._injected=!1,this._rulesCount=0,"u">typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},r.cssRules=function(){var e=this;return"u"<typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,r){return r?t=t.concat(Array.prototype.map.call(e.getSheetForTag(r).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},r.makeStyleTag=function(e,t,r){t&&d(o(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return r?n.insertBefore(s,r):n.appendChild(s),s},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},u={};function f(e,t){if(!t)return"jsx-"+e;var r=String(t),s=e+r;return u[s]||(u[s]="jsx-"+c(e+"-"+r)),u[s]}function h(e,t){"u"<typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var r=e+t;return u[r]||(u[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[r]}var p=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,s=void 0===r?null:r,n=t.optimizeForSpeed,i=void 0!==n&&n;this._sheet=s||new l({name:"styled-jsx",optimizeForSpeed:i}),this._sheet.inject(),s&&"boolean"==typeof i&&(this._sheet.setOptimizeForSpeed(i),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"u">typeof window&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),s=r.styleId,n=r.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var i=n.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=i,this._instancesCounts[s]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var s=this._fromServer&&this._fromServer[r];s?(s.parentNode.removeChild(s),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],s=e[1];return i.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,s=e.id;if(r){var n=f(s,r);return{styleId:n,rules:Array.isArray(t)?t.map(function(e){return h(n,e)}):[h(n,t)]}}return{styleId:f(s),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),m=n.createContext(null);function g(){return new p}function x(){return n.useContext(m)}m.displayName="StyleSheetContext";var y=i.default.useInsertionEffect||i.default.useLayoutEffect,_="u">typeof window?g():void 0;function b(e){var t=_||x();return t&&("u"<typeof window?t.add(e):y(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}b.dynamic=function(e){return e.map(function(e){return f(e[0],e[1])}).join(" ")},r.StyleRegistry=function(e){var t=e.registry,r=e.children,s=n.useContext(m),a=n.useState(function(){return s||t||g()})[0];return i.default.createElement(m.Provider,{value:a},r)},r.createStyleRegistry=g,r.style=b,r.useStyleRegistry=x},42713,(e,t,r)=>{t.exports=e.r(20860).style},98847,(e,t,r)=>{var s;let n;e.e,s=function e(){var t,r="u">typeof self?self:"u">typeof window?window:void 0!==r?r:{},s=!r.document&&!!r.postMessage,n=r.IS_PAPA_WORKER||!1,i={},a=0,o={};function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=_(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}).call(this,e),this.parseChunk=function(e,t){var s=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<s){let t=this._config.newline;t||(i=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,i)),e=[...e.split(t).slice(s)].join(t)}this.isFirstChunk&&v(this._config.beforeFirstChunk)&&void 0!==(i=this._config.beforeFirstChunk(e))&&(e=i),this.isFirstChunk=!1,this._halted=!1;var s=this._partialLine+e,i=(this._partialLine="",this._handle.parse(s,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=i.meta.cursor,this._finished||(this._partialLine=s.substring(e-this._baseIndex),this._baseIndex=e),i&&i.data&&(this._rowCount+=i.data.length),s=this._finished||this._config.preview&&this._rowCount>=this._config.preview,n)r.postMessage({results:i,workerId:o.WORKER_ID,finished:s});else if(v(this._config.chunk)&&!t){if(this._config.chunk(i,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=i=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),this._completed||!s||!v(this._config.complete)||i&&i.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),s||i&&i.meta.paused||this._nextChunk(),i}this._halted=!0},this._sendError=function(e){v(this._config.error)?this._config.error(e):n&&this._config.error&&r.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function d(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),l.call(this,e),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),s||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var e,r,n=this._config.downloadRequestHeaders;for(r in n)t.setRequestHeader(r,n[r])}this._config.chunkSize&&(e=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+e));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}s&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){let e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null!==(e=(e=t).getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(Error(e))}}function c(e){(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),l.call(this,e);var t,r,s="u">typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,s?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,n=(this._config.chunkSize&&(n=Math.min(this._start+this._config.chunkSize,this._input.size),e=r.call(e,this._start,n)),t.readAsText(e,this._config.encoding));s||this._chunkLoaded({target:{result:n}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function u(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,r;if(!this._finished)return t=(e=this._config.chunkSize)?(r=t.substring(0,e),t.substring(e)):(r=t,""),this._finished=!t,this.parseChunk(r)}}function f(e){l.call(this,e=e||{});var t=[],r=!0,s=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){s&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=b(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=b(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=b(function(){this._streamCleanUp(),s=!0,this._streamData("")},this),this._streamCleanUp=b(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(e){var t,r,s,n,i=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,a=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,l=this,d=0,c=0,u=!1,f=!1,h=[],g={data:[],errors:[],meta:{}};function x(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function y(){if(g&&s&&(w("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),s=!1),e.skipEmptyLines&&(g.data=g.data.filter(function(e){return!x(e)})),b()){if(g)if(Array.isArray(g.data[0])){for(var t,r=0;b()&&r<g.data.length;r++)g.data[r].forEach(n);g.data.splice(0,1)}else g.data.forEach(n);function n(t,r){v(e.transformHeader)&&(t=e.transformHeader(t,r)),h.push(t)}}function l(t,r){for(var s=e.header?{}:[],n=0;n<t.length;n++){var o=n,l=t[n],l=((t,r)=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping))?"true"===r||"TRUE"===r||"false"!==r&&"FALSE"!==r&&((e=>{if(i.test(e)&&-0x20000000000000<(e=parseFloat(e))&&e<0x20000000000000)return 1})(r)?parseFloat(r):a.test(r)?new Date(r):""===r?null:r):r)(o=e.header?n>=h.length?"__parsed_extra":h[n]:o,l=e.transform?e.transform(l,o):l);"__parsed_extra"===o?(s[o]=s[o]||[],s[o].push(l)):s[o]=l}return e.header&&(n>h.length?w("FieldMismatch","TooManyFields","Too many fields: expected "+h.length+" fields but parsed "+n,c+r):n<h.length&&w("FieldMismatch","TooFewFields","Too few fields: expected "+h.length+" fields but parsed "+n,c+r)),s}g&&(e.header||e.dynamicTyping||e.transform)&&(t=1,!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(l),t=g.data.length):g.data=l(g.data,0),e.header&&g.meta&&(g.meta.fields=h),c+=t)}function b(){return e.header&&0===h.length}function w(e,t,r,s){e={type:e,code:t,message:r},void 0!==s&&(e.row=s),g.errors.push(e)}v(e.step)&&(n=e.step,e.step=function(t){g=t,b()?y():(y(),0!==g.data.length&&(d+=t.data.length,e.preview&&d>e.preview?r.abort():(g.data=g.data[0],n(g,l))))}),this.parse=function(n,i,a){var l=e.quoteChar||'"',l=(e.newline||(e.newline=this.guessLineEndings(n,l)),s=!1,e.delimiter?v(e.delimiter)&&(e.delimiter=e.delimiter(n),g.meta.delimiter=e.delimiter):((l=((t,r,s,n,i)=>{var a,l,d,c;i=i||[",","	","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var u=0;u<i.length;u++){for(var f,h=i[u],p=0,g=0,y=0,_=(d=void 0,new m({comments:n,delimiter:h,newline:r,preview:10}).parse(t)),b=0;b<_.data.length;b++)s&&x(_.data[b])?y++:(g+=f=_.data[b].length,void 0===d?d=f:0<f&&(p+=Math.abs(f-d),d=f));0<_.data.length&&(g/=_.data.length-y),(void 0===l||p<=l)&&(void 0===c||c<g)&&1.99<g&&(l=p,a=h,c=g)}return{successful:!!(e.delimiter=a),bestDelimiter:a}})(n,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(s=!0,e.delimiter=o.DefaultDelimiter),g.meta.delimiter=e.delimiter),_(e));return e.preview&&e.header&&l.preview++,t=n,g=(r=new m(l)).parse(t,i,a),y(),u?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,r.abort(),t=v(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){l.streamer._halted?(u=!1,l.streamer.parseChunk(t,!0)):setTimeout(l.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,r.abort(),g.meta.aborted=!0,v(e.complete)&&e.complete(g),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576);var t=RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(t,"")).split("\r"),t=e.split("\n"),e=1<t.length&&t[0].length<r[0].length;if(1===r.length||e)return"\n";for(var s=0,n=0;n<r.length;n++)"\n"===r[n][0]&&s++;return s>=r.length/2?"\r\n":"\r"}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t=(e=e||{}).delimiter,r=e.newline,s=e.comments,n=e.step,i=e.preview,a=e.fastMode,l=null,d=!1,c=null==e.quoteChar?'"':e.quoteChar,u=c;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof t||-1<o.BAD_DELIMITERS.indexOf(t))&&(t=","),s===t)throw Error("Comment character same as delimiter");!0===s?s="#":("string"!=typeof s||-1<o.BAD_DELIMITERS.indexOf(s))&&(s=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var f=0,h=!1;this.parse=function(o,m,g){if("string"!=typeof o)throw Error("Input must be a string");var x=o.length,y=t.length,_=r.length,b=s.length,w=v(n),j=[],S=[],k=[],R=f=0;if(!o)return D();if(a||!1!==a&&-1===o.indexOf(c)){for(var N=o.split(r),C=0;C<N.length;C++){if(k=N[C],f+=k.length,C!==N.length-1)f+=r.length;else if(g)break;if(!s||k.substring(0,b)!==s){if(w){if(j=[],I(k.split(t)),M(),h)return D()}else I(k.split(t));if(i&&i<=C)return j=j.slice(0,i),D(!0)}}return D()}for(var E=o.indexOf(t,f),O=o.indexOf(r,f),F=RegExp(p(u)+p(c),"g"),T=o.indexOf(c,f);;)if(o[f]===c)for(T=f,f++;;){if(-1===(T=o.indexOf(c,T+1)))return g||S.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:j.length,index:f}),$();if(T===x-1)return $(o.substring(f,T).replace(F,c));if(c===u&&o[T+1]===u)T++;else if(c===u||0===T||o[T-1]!==u){-1!==E&&E<T+1&&(E=o.indexOf(t,T+1));var A=z(-1===(O=-1!==O&&O<T+1?o.indexOf(r,T+1):O)?E:Math.min(E,O));if(o.substr(T+1+A,y)===t){k.push(o.substring(f,T).replace(F,c)),o[f=T+1+A+y]!==c&&(T=o.indexOf(c,f)),E=o.indexOf(t,f),O=o.indexOf(r,f);break}if(A=z(O),o.substring(T+1+A,T+1+A+_)===r){if(k.push(o.substring(f,T).replace(F,c)),L(T+1+A+_),E=o.indexOf(t,f),T=o.indexOf(c,f),w&&(M(),h))return D();if(i&&j.length>=i)return D(!0);break}S.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:j.length,index:f}),T++}}else if(s&&0===k.length&&o.substring(f,f+b)===s){if(-1===O)return D();f=O+_,O=o.indexOf(r,f),E=o.indexOf(t,f)}else if(-1!==E&&(E<O||-1===O))k.push(o.substring(f,E)),f=E+y,E=o.indexOf(t,f);else{if(-1===O)break;if(k.push(o.substring(f,O)),L(O+_),w&&(M(),h))return D();if(i&&j.length>=i)return D(!0)}return $();function I(e){j.push(e),R=f}function z(e){return -1!==e&&(e=o.substring(T+1,e))&&""===e.trim()?e.length:0}function $(e){return g||(void 0===e&&(e=o.substring(f)),k.push(e),f=x,I(k),w&&M()),D()}function L(e){f=e,I(k),k=[],O=o.indexOf(r,f)}function D(s){if(e.header&&!m&&j.length&&!d){var n=j[0],i=Object.create(null),a=new Set(n);let t=!1;for(let r=0;r<n.length;r++){let s=n[r];if(i[s=v(e.transformHeader)?e.transformHeader(s,r):s]){let e,o=i[s];for(;e=s+"_"+o,o++,a.has(e););a.add(e),n[r]=e,i[s]++,t=!0,(l=null===l?{}:l)[e]=s}else i[s]=1,n[r]=s;a.add(s)}t&&console.warn("Duplicate headers found and renamed."),d=!0}return{data:j,errors:S,meta:{delimiter:t,linebreak:r,aborted:h,truncated:!!s,cursor:R+(m||0),renamedHeaders:l}}}function M(){n(D()),j=[],S=[]}},this.abort=function(){h=!0},this.getCharIndex=function(){return f}}function g(e){var t=e.data,r=i[t.workerId],s=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){s=!0,x(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(v(r.userStep)){for(var a=0;a<t.results.data.length&&(r.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},n),!s);a++);delete t.results}else v(r.userChunk)&&(r.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!s&&x(t.workerId,t.results)}function x(e,t){var r=i[e];v(r.userComplete)&&r.userComplete(t),r.terminate(),delete i[e]}function y(){throw Error("Not implemented.")}function _(e){if("object"!=typeof e||null===e)return e;var t,r=Array.isArray(e)?[]:{};for(t in e)r[t]=_(e[t]);return r}function b(e,t){return function(){e.apply(t,arguments)}}function v(e){return"function"==typeof e}return o.parse=function(t,s){var n,l,h,p=(s=s||{}).dynamicTyping||!1;if(v(p)&&(s.dynamicTypingFunction=p,p={}),s.dynamicTyping=p,s.transform=!!v(s.transform)&&s.transform,!s.worker||!o.WORKERS_SUPPORTED){let e;return p=null,o.NODE_STREAM_INPUT,"string"==typeof t?(t=65279!==(e=t).charCodeAt(0)?e:e.slice(1),p=new(s.download?d:u)(s)):!0===t.readable&&v(t.read)&&v(t.on)?p=new f(s):(r.File&&t instanceof File||t instanceof Object)&&(p=new c(s)),p.stream(t)}(p=!!o.WORKERS_SUPPORTED&&(l=r.URL||r.webkitURL||null,h=e.toString(),n=o.BLOB_URL||(o.BLOB_URL=l.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",h,")();"],{type:"text/javascript"}))),(n=new r.Worker(n)).onmessage=g,n.id=a++,i[n.id]=n)).userStep=s.step,p.userChunk=s.chunk,p.userComplete=s.complete,p.userError=s.error,s.step=v(s.step),s.chunk=v(s.chunk),s.complete=v(s.complete),s.error=v(s.error),delete s.worker,p.postMessage({input:t,config:s,workerId:p.id})},o.unparse=function(e,t){var r=!1,s=!0,n=",",i="\r\n",a='"',l=a+a,d=!1,c=null,u=!1,f=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter(function(e){return -1!==t.delimiter.indexOf(e)}).length||(n=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(r=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(d=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(s=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),t.escapeFormulae instanceof RegExp?u=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(u=/^[=+\-@\t\r].*$/)}})(),RegExp(p(a),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,d);if("object"==typeof e[0])return h(c||Object.keys(e[0]),e,d)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||c),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],d);throw Error("Unable to serialize unrecognized input");function h(e,t,r){var a="",o=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),l=!Array.isArray(t[0]);if(o&&s){for(var d=0;d<e.length;d++)0<d&&(a+=n),a+=m(e[d],d);0<t.length&&(a+=i)}for(var c=0;c<t.length;c++){var u=(o?e:t[c]).length,f=!1,h=o?0===Object.keys(t[c]).length:0===t[c].length;if(r&&!o&&(f="greedy"===r?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===r&&o){for(var p=[],g=0;g<u;g++){var x=l?e[g]:g;p.push(t[c][x])}f=""===p.join("").trim()}if(!f){for(var y=0;y<u;y++){0<y&&!h&&(a+=n);var _=o&&l?e[y]:y;a+=m(t[c][_],y)}c<t.length-1&&(!r||0<u&&!h)&&(a+=i)}}return a}function m(e,t){var s,i;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(i=!1,u&&"string"==typeof e&&u.test(e)&&(e="'"+e,i=!0),s=e.toString().replace(f,l),(i=i||!0===r||"function"==typeof r&&r(e,t)||Array.isArray(r)&&r[t]||((e,t)=>{for(var r=0;r<t.length;r++)if(-1<e.indexOf(t[r]))return!0;return!1})(s,o.BAD_DELIMITERS)||-1<s.indexOf(n)||" "===s.charAt(0)||" "===s.charAt(s.length-1))?a+s+a:s)}},o.RECORD_SEP="\x1e",o.UNIT_SEP="\x1f",o.BYTE_ORDER_MARK="\uFEFF",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!s&&!!r.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=0xa00000,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=m,o.ParserHandle=h,o.NetworkStreamer=d,o.FileStreamer=c,o.StringStreamer=u,o.ReadableStreamStreamer=f,r.jQuery&&((t=r.jQuery).fn.parse=function(e){var s=e.config||{},n=[];return this.each(function(e){if(!("INPUT"===t(this).prop("tagName").toUpperCase()&&"file"===t(this).attr("type").toLowerCase()&&r.FileReader)||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)n.push({file:this.files[i],inputElem:this,instanceConfig:t.extend({},s)})}),i(),this;function i(){if(0===n.length)v(e.complete)&&e.complete();else{var r,s,i,l=n[0];if(v(e.before)){var d=e.before(l.file,l.inputElem);if("object"==typeof d){if("abort"===d.action)return r=l.file,s=l.inputElem,i=d.reason,void(v(e.error)&&e.error({name:"AbortError"},r,s,i));if("skip"===d.action)return void a();"object"==typeof d.config&&(l.instanceConfig=t.extend(l.instanceConfig,d.config))}else if("skip"===d)return void a()}var c=l.instanceConfig.complete;l.instanceConfig.complete=function(e){v(c)&&c(e,l.file,l.inputElem),a()},o.parse(l.file,l.instanceConfig)}}function a(){n.splice(0,1),i()}}),n&&(r.onmessage=function(e){e=e.data,void 0===o.WORKER_ID&&e&&(o.WORKER_ID=e.workerId),"string"==typeof e.input?r.postMessage({workerId:o.WORKER_ID,results:o.parse(e.input,e.config),finished:!0}):(r.File&&e.input instanceof File||e.input instanceof Object)&&(e=o.parse(e.input,e.config))&&r.postMessage({workerId:o.WORKER_ID,results:e,finished:!0})}),(d.prototype=Object.create(l.prototype)).constructor=d,(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(u.prototype)).constructor=u,(f.prototype=Object.create(l.prototype)).constructor=f,o},"function"==typeof define&&define.amd?void 0!==(n=s())&&e.v(n):t.exports=s()},23346,e=>{"use strict";var t=e.i(25191),r=e.i(42713),s=e.i(68524),n=e.i(41097),i=e.i(98847);let a={a:{編號:"編號",鄉鎮市區:"行政區",交易標的:"交易標的",土地位置建物門牌:"地址",交易年月日:"交易日",交易筆棟數:"交易筆棟數",移轉層次:"樓層",建物型態:"建物型態",主要用途:"主要用途",建物移轉總面積平方公尺:"產權面積_房車","建物現況格局-房":"房數","建物現況格局-廳":"廳數","建物現況格局-衛":"衛浴數",總價元:"交易總價",車位類別:"車位類別",車位移轉總面積平方公尺:"車位總面積",車位總價元:"車位總價",備註:"備註",主建物面積:"主建物面積",附屬建物面積:"附屬建物面積",陽台面積:"陽台面積"},a_build:{編號:"編號",屋齡:"交易屋齡",主要建材:"結構",建築完成年月日:"完工日",建築完成日期:"完工日",總層數:"總樓層",移轉情形:"移轉情形"},a_land:{編號:"編號",土地位置:"地號_段",地號:"地號",土地移轉面積平方公尺:"土地持分面積",使用分區或編定:"使用分區",非都市土地使用分區:"使用分區",權利人持分分母:"持分分母",權利人持分分子:"持分分子"},a_park:{編號:"編號",車位類別:"車位類別",車位價格:"車位價格",車位面積平方公尺:"車位面積",車位所在樓層:"車位樓層"},b:{編號:"編號",鄉鎮市區:"行政區",交易標的:"交易標的",土地位置建物門牌:"地址",交易年月日:"交易日",交易筆棟數:"交易筆棟數",移轉層次:"樓層",總層數:"總樓層",總樓層數:"總樓層",建物型態:"建物型態",主要用途:"主要用途",建物移轉總面積平方公尺:"產權面積_房車","建物現況格局-房":"房數","建物現況格局-廳":"廳數","建物現況格局-衛":"衛浴數",總價元:"交易總價",車位類別:"車位類別",車位移轉總面積平方公尺:"車位總面積",車位總價元:"車位總價",備註:"備註",建案名稱:"建案名稱",棟及號:"戶別",解約情形:"解約情形"},b_land:{編號:"編號",土地位置:"地號_段",地號:"地號",土地移轉面積平方公尺:"土地持分面積",使用分區或編定:"使用分區",非都市土地使用分區:"使用分區",權利人持分分母:"持分分母",權利人持分分子:"持分分子"},b_park:{編號:"編號",車位類別:"車位類別",車位價格:"車位價格",車位面積平方公尺:"車位面積",車位所在樓層:"車位樓層"},c:{編號:"編號",鄉鎮市區:"行政區",交易標的:"交易標的",土地位置建物門牌:"地址",租賃年月日:"交易日",租賃筆棟數:"交易筆棟數",租賃層次:"樓層",建物型態:"建物型態",主要用途:"主要用途",建物總面積平方公尺:"租賃面積","建物現況格局-房":"房數","建物現況格局-廳":"廳數","建物現況格局-衛":"衛浴數",總額元:"交易總價",車位類別:"車位類別",車位面積平方公尺:"車位總面積",車位總額元:"車位總價",備註:"備註",出租型態:"出租型態",租賃期間:"租賃期間",附屬設備:"附屬設備",租賃住宅服務:"租賃住宅服務"},c_build:{編號:"編號",屋齡:"交易屋齡",主要建材:"結構",建築完成年月日:"完工日",建築完成日期:"完工日",總層數:"總樓層",移轉情形:"移轉情形"},c_land:{編號:"編號",土地位置:"地號_段",地號:"地號",土地移轉面積平方公尺:"土地租賃面積",使用分區或編定:"使用分區",非都市土地使用分區:"使用分區"},c_park:{編號:"編號",車位類別:"車位類別",車位價格:"車位價格",車位面積平方公尺:"車位面積",車位所在樓層:"車位樓層"}};function o(e){if("string"!=typeof e&&"number"!=typeof e)return null;let t=parseFloat(String(e).replace(/,/g,""));return isNaN(t)?null:t}async function l(e,t=""){let r=[];for await(let s of e.values()){let e=t?`${t}/${s.name}`:s.name;if("file"===s.kind&&s.name.toLowerCase().endsWith(".csv")){let t=/^([a-z])_lvr_land_([a-c](?:_build|_land|_park)?)\.csv$/i,n=s.name.match(t);n&&r.push({handle:s,name:s.name,fullPath:e,countyCode:n[1].toLowerCase(),tableType:n[2].toLowerCase(),isMain:!n[2].includes("_")})}else"directory"===s.kind&&r.push(...await l(s,e))}return r}async function d(e,t,r){let s=await e.handle.getFile(),n=await new Promise(e=>{i.default.parse(s,{header:!0,skipEmptyLines:!0,transformHeader:e=>e.trim(),complete:e})});if(n.errors&&n.errors.length>0){let t=["TooManyFields","TooFewFields","MissingQuotes"],s=n.errors.filter(e=>!t.includes(e.code));if(s.length>0)throw Error(`CSV 嚴重解析錯誤: ${s[0].message}`);r&&n.errors.forEach(t=>{r(`檔案 ${e.fullPath} 有解析警告 (已忽略): ${t.message} (行: ${(t.row||0)+2})`,"warning")})}if(!n.data||0===n.data.length)return[];let l=n.data;l[0]["編號"]?.toLowerCase().includes("serial number")&&l.shift();let d=a[e.tableType];if(!d)throw Error(`檔案 ${e.name} 找不到對應的欄位規則。`);let c=l.map(e=>(function(e,t){let r={};for(let s in Array.from(new Set(Object.values(t))).forEach(e=>r[e]=null),e){let n=t[s.trim()];if(n){let t=e[s];if(void 0===t||""===t||null===t)continue;"樓層"===n||"總樓層"===n?r[n]=function(e){if(!e||"string"!=typeof e)return null;let t=String(e).replace(/層|樓/g,""),r={一:1,二:2,三:3,四:4,五:5,六:6,七:7,八:8,九:9,十:10};if(!isNaN(parseInt(t)))return parseInt(t,10);if(t.includes("地下"))return -1;let s=0;if(t.startsWith("十"))s=10+(r[t[1]]||0);else if(t.includes("十")){let e=t.split("十");s=10*(r[e[0]]||1)+(r[e[1]]||0)}else s=r[t]||0;return s>0?s:null}(t):n.includes("日")?r[n]=function(e){if(!e)return null;let t=String(e).match(/(\d{2,3})[^\d]*(\d{1,2})[^\d]*(\d{1,2})/);if(!t)return null;try{let e=parseInt(t[1],10),r=parseInt(t[2],10),s=parseInt(t[3],10);if(isNaN(e)||isNaN(r)||isNaN(s))return null;let n=e+1911,i=String(r).padStart(2,"0"),a=String(s).padStart(2,"0"),o=new Date(`${n}-${i}-${a}`);if(isNaN(o.getTime())||o.getDate()!==s)return null;return`${n}-${i}-${a}`}catch(e){return null}}(String(t)):["交易總價","車位總價","房數","廳數","衛浴數","持分分母","持分分子","交易屋齡","車位價格"].includes(n)||n.includes("面積")?r[n]=o(t):r[n]=String(t)}}return r})(e,d));if(t&&t.size>0){let e=0;c=c.map(r=>{let s=r["建案名稱"];if(s&&t.has(s)){let n=t.get(s);n&&(r["建案名稱"]=n,e++)}return r}),e>0&&r&&r(`已自動替換 ${e} 筆建案名稱`,"info")}return c}let c=new Map,u=new Set,f={new:0,updated:0,identical:0,subAdded:0,errors:0,warnings:0,newRecords:[],updatedRecords:[],identicalRecords:[]};async function h(e){try{let{data:t,error:r}=await n.supabase.from("project_name_mappings").select("old_name, new_name");if(r)return e&&e(`載入建案名稱對應失敗: ${r.message}`,"warning"),new Map;let s=new Map;return t?.forEach(e=>{s.set(e.old_name,e.new_name)}),e&&e(`已載入 ${s.size} 筆建案名稱對應規則`,"info"),c=s,s}catch(t){return e&&e(`載入建案名稱對應時發生錯誤: ${t.message}`,"warning"),new Map}}async function p(e,t){try{let r=`${e.countyCode}_lvr_land_${e.tableType}`,s=await d(e,c,(e,r)=>t(e,r));if(!s||0===s.length)return void t(`${e.fullPath}: 檔案為空或無有效資料，已跳過`,"warning");for(let i=0;i<s.length;i+=500){let l=s.slice(i,i+500),d=l.map(e=>e["編號"]),{data:c,error:h}=await n.supabase.from(r).select("*").in("編號",d);if(h)throw h;let p=new Map((c||[]).map(e=>[e["編號"],e])),m=[],g=[],x=[],y=0;for(let t of l){let r=p.get(t["編號"]);r?function(e,t,r){let s=a[r];if(!s)return!1;for(let r of Object.values(s)){if("id"===r||"建案名稱"===r)continue;let s=e[r],n=t[r];if(null==s||""===s)continue;let i=null!=s?String(s):"",a=null!=n?String(n):"";if(r.includes("面積")){let e=o(s)||0;if(Math.abs(e-(o(n)||0))>.001)return!1}else if(i!==a)return!1}return!0}(t,r,e.tableType)?(y++,f.identicalRecords.push(r)):(x.push(t["編號"]),g.push(t),f.updatedRecords.push({oldData:r,newData:t})):(m.push(t),f.newRecords.push(t))}if(t(`${e.fullPath} (區塊 ${Math.floor(i/500)+1}): 新增 ${m.length}, 更新 ${g.length}, 跳過 ${y}`,"info"),f.new+=m.length,f.updated+=g.length,f.identical+=y,[...m.map(e=>e["編號"]),...g.map(e=>e["編號"])].forEach(e=>u.add(e)),x.length>0){let{error:e}=await n.supabase.from(r).delete().in("編號",x);if(e)throw e}let _=[...m,...g];if(_.length>0){let{error:e}=await n.supabase.from(r).insert(_);if(e)throw e}}}catch(r){t(`${e.fullPath} 上傳失敗: ${r.message}`,"error"),f.errors++}}async function m(e,t){try{let r=`${e.countyCode}_lvr_land_${e.tableType}`,s=await d(e,c,(e,r)=>t(e,r));if(!s||0===s.length)return void t(`${e.fullPath}: 檔案為空或無有效資料，已跳過`,"warning");let i=s.filter(e=>u.has(e["編號"]));if(i.length>0){let{error:s}=await n.supabase.from(r).insert(i);if(s)throw s;f.subAdded+=i.length,t(`${e.fullPath}: 成功新增 ${i.length} 筆關聯的附表紀錄`,"success")}else t(`${e.fullPath}: 無對應的主表變更，已跳過`,"info")}catch(r){t(`${e.fullPath} 上傳失敗: ${r.message}`,"error"),f.errors++}}var g=e.i(72328);function x(){let e=(0,g.useRouter)(),[i,a]=(0,s.useState)([]),[o,d]=(0,s.useState)(!1),[c,x]=(0,s.useState)([]),[y,_]=(0,s.useState)("all"),[b,v]=(0,s.useState)(""),[w,j]=(0,s.useState)(0),[S,k]=(0,s.useState)(null),[R,N]=(0,s.useState)(""),[C,E]=(0,s.useState)(""),[O,F]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{let{data:{session:e}}=await n.supabase.auth.getSession()})()},[]);let T=(e,t)=>{let r=new Date().toLocaleTimeString();a(s=>[...s,{id:Date.now()+Math.random(),text:e,type:t,time:r}])},A=async()=>{if(!R||!C)return void T("請填寫完整的 Supabase URL 和 Service Role Key。","error");T("正在測試連線...","info");try{let{error:e}=await n.supabase.from("county_codes").select("code",{count:"exact",head:!0});if(e&&"42P01"!==e.code)throw e;T("連線成功！","success"),F(!0),h((e,t)=>T(e,t))}catch(e){T(`連線失敗: ${e.message}`,"error"),F(!1)}},I=async()=>{a([]),x([]),k(null);try{if(!window.showDirectoryPicker)return void T("您的瀏覽器不支援資料夾選擇功能，請使用 Chrome 或 Edge。","error");T("正在掃描資料夾...","info");let e=await window.showDirectoryPicker(),t=await l(e);if(0===t.length)return void T("在選擇的資料夾中沒有找到符合命名規則的檔案。","warning");x(t),T(`掃描完成！找到 ${t.length} 個有效檔案。`,"success")}catch(e){"AbortError"!==e.name&&T(`選擇資料夾時發生錯誤: ${e.message}`,"error")}},z=async()=>{if(0===c.length)return;if(!O)return void T("請先確認資料庫連線成功。","error");d(!0),u=new Set,f={new:0,updated:0,identical:0,subAdded:0,errors:0,warnings:0,newRecords:[],updatedRecords:[],identicalRecords:[]},a([]),T("開始上傳任務...","info");let e=c;if("all"!==y&&(e=c.filter(e=>e.tableType.startsWith(y))),0===e.length){T(`找不到符合「${{all:"全選",a:"中古",b:"預售",c:"租賃"}[y]}」類型的檔案...`,"warning"),d(!1);return}let t=e.filter(e=>e.isMain),r=e.filter(e=>!e.isMain);T(`--- 階段 1: 主表 (智慧更新) ---`,"info");for(let e=0;e<t.length;e++){let r=t[e];v(r.fullPath),j(Math.round(e/t.length*100)),await p(r,T)}T(`--- 階段 2: 附表 (智慧連動) ---`,"info");for(let e=0;e<r.length;e++){let t=r[e];v(t.fullPath),j(Math.round(e/r.length*100)),await m(t,T)}v(""),j(100);let s=f;k(s),T(`所有檔案處理完成！新增: ${s.new}, 更新: ${s.updated}, 錯誤: ${s.errors}`,"success"),d(!1)};return(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 min-h-screen bg-[#1a1d29] text-gray-100 p-8 font-sans",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 max-w-7xl mx-auto space-y-8",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex justify-between items-center bg-[#252836] p-6 rounded-xl border border-gray-700 shadow-lg",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsxs)("h1",{className:"jsx-4f044084e7cd90f7 text-3xl font-extrabold text-white tracking-tight",children:["平米內參 ",(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 text-cyan-400",children:"資料上傳工具"})]}),(0,t.jsx)("p",{className:"jsx-4f044084e7cd90f7 text-gray-400 mt-2 text-sm",children:"高效能、智慧化的實價登錄資料批次處理系統 v2.0 (Next.js)"})]}),(0,t.jsxs)("button",{onClick:()=>e.push("/"),className:"jsx-4f044084e7cd90f7 text-gray-400 hover:text-white transition-colors flex items-center gap-2",children:[(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-arrow-left"})," 返回儀表板"]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-[#252836] p-6 rounded-xl border border-gray-700 shadow-lg",children:[(0,t.jsxs)("h2",{className:"jsx-4f044084e7cd90f7 text-xl font-bold text-white mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 bg-cyan-900 text-cyan-400 w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"1"}),"資料庫連線"]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-sm font-medium text-gray-400 mb-1",children:"Supabase URL"}),(0,t.jsx)("input",{type:"text",value:R,onChange:e=>N(e.target.value),placeholder:"https://xyz.supabase.co",className:"jsx-4f044084e7cd90f7 w-full bg-gray-800 border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-cyan-500 focus:border-cyan-500 placeholder-gray-600"})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-sm font-medium text-gray-400 mb-1",children:"Service Role Key"}),(0,t.jsx)("input",{type:"password",value:C,onChange:e=>E(e.target.value),placeholder:"eyJhhGciOiJIUzI1NiIsInR5cCI...",className:"jsx-4f044084e7cd90f7 w-full bg-gray-800 border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-cyan-500 focus:border-cyan-500 placeholder-gray-600"})]}),(0,t.jsx)("button",{onClick:A,className:`jsx-4f044084e7cd90f7 w-full font-bold py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2 ${O?"bg-green-600 hover:bg-green-500 text-white cursor-default":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:O?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-check"})," 連線成功"]}):"測試連線"})]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-[#252836] p-6 rounded-xl border border-gray-700 shadow-lg",children:[(0,t.jsxs)("h2",{className:"jsx-4f044084e7cd90f7 text-xl font-bold text-white mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 bg-cyan-900 text-cyan-400 w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"2"}),"選擇資料來源"]}),(0,t.jsxs)("button",{onClick:I,disabled:o,className:"jsx-4f044084e7cd90f7 w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-folder-open text-xl"})," 選擇 lvr_land 資料夾"]}),c.length>0&&(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 mt-4 p-3 bg-gray-800/50 rounded-lg text-sm",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex justify-between text-gray-300 mb-1",children:[(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7",children:"已找到檔案:"}),(0,t.jsxs)("span",{className:"jsx-4f044084e7cd90f7 font-bold text-white",children:[c.length," 個"]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex justify-between text-gray-400 text-xs",children:[(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7",children:"主表 (Main):"}),(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7",children:c.filter(e=>e.isMain).length})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex justify-between text-gray-400 text-xs",children:[(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7",children:"附表 (Sub):"}),(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7",children:c.filter(e=>!e.isMain).length})]})]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-[#252836] p-6 rounded-xl border border-gray-700 shadow-lg",children:[(0,t.jsxs)("h2",{className:"jsx-4f044084e7cd90f7 text-xl font-bold text-white mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 bg-cyan-900 text-cyan-400 w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"3"}),"開始處理"]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("label",{className:"jsx-4f044084e7cd90f7 block text-sm font-medium text-gray-400 mb-2",children:"上傳類型"}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 grid grid-cols-2 gap-2",children:["all","a","b","c"].map(e=>(0,t.jsxs)("label",{className:`jsx-4f044084e7cd90f7 cursor-pointer border rounded-lg p-2 text-center transition-all ${y===e?"bg-cyan-900/30 border-cyan-500 text-cyan-400":"bg-gray-800 border-gray-700 text-gray-400 hover:border-gray-500"}`,children:[(0,t.jsx)("input",{type:"radio",name:"uploadType",value:e,checked:y===e,onChange:e=>_(e.target.value),disabled:o,className:"jsx-4f044084e7cd90f7 sr-only"}),(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 font-bold",children:"all"===e?"全部":"a"===e?"中古":"b"===e?"預售":"租賃"})]},e))})]}),(0,t.jsxs)("button",{onClick:z,disabled:!O||0===c.length||o,className:"jsx-4f044084e7cd90f7 w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold py-3 px-4 rounded-lg shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[o?(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-spinner fa-spin"}):(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-rocket"}),o?"處理中...":"開始上傳"]})]})]})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 lg:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-[#252836] p-6 rounded-xl border border-gray-700 shadow-lg",children:[(0,t.jsxs)("h3",{className:"jsx-4f044084e7cd90f7 text-gray-300 font-bold mb-4 flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"jsx-4f044084e7cd90f7",children:[(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-tasks mr-2 text-purple-400"}),"執行進度"]}),o&&(0,t.jsxs)("span",{className:"jsx-4f044084e7cd90f7 text-cyan-400",children:[w,"%"]})]}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 w-full bg-gray-700 rounded-full h-4 mb-2 overflow-hidden",children:(0,t.jsx)("div",{style:{width:`${w}%`},className:"jsx-4f044084e7cd90f7 bg-gradient-to-r from-cyan-500 to-purple-500 h-4 rounded-full transition-all duration-300 relative",children:o&&(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 absolute inset-0 bg-white/20 animate-pulse"})})}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-xs text-gray-500 h-5",children:b&&`正在處理: ${b}`})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-black/60 p-4 rounded-xl border border-gray-800 h-[500px] overflow-hidden flex flex-col font-mono text-sm shadow-inner",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 flex justify-between items-center mb-2 border-b border-gray-800 pb-2",children:[(0,t.jsxs)("span",{className:"jsx-4f044084e7cd90f7 text-gray-400 font-bold",children:[(0,t.jsx)("i",{className:"jsx-4f044084e7cd90f7 fas fa-terminal mr-2"}),"系統日誌"]}),(0,t.jsx)("button",{onClick:()=>a([]),className:"jsx-4f044084e7cd90f7 text-xs text-gray-600 hover:text-gray-300 transition-colors",children:"清除"})]}),(0,t.jsxs)("div",{ref:e=>{e&&(e.scrollTop=e.scrollHeight)},className:"jsx-4f044084e7cd90f7 flex-1 overflow-y-auto space-y-1 p-2 custom-scrollbar",children:[i.map(e=>(0,t.jsxs)("div",{className:`jsx-4f044084e7cd90f7 flex gap-3 leading-relaxed border-b border-white/5 pb-1 ${"error"===e.type?"text-red-400 bg-red-900/10":"warning"===e.type?"text-yellow-400":"success"===e.type?"text-emerald-400":"text-gray-300"}`,children:[(0,t.jsxs)("span",{className:"jsx-4f044084e7cd90f7 text-gray-600 select-none",children:["[",e.time,"]"]}),(0,t.jsx)("span",{className:"jsx-4f044084e7cd90f7 break-all",children:e.text})]},e.id)),0===i.length&&(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-gray-700 italic text-center mt-20",children:"等待任務啟動..."})]})]}),S&&(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-emerald-900/20 border border-emerald-800 p-4 rounded-xl text-center",children:[(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-3xl font-bold text-emerald-400",children:S.new}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-sm text-emerald-200/70 uppercase tracking-wider mt-1",children:"New"})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-yellow-900/20 border border-yellow-800 p-4 rounded-xl text-center",children:[(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-3xl font-bold text-yellow-400",children:S.updated}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-sm text-yellow-200/70 uppercase tracking-wider mt-1",children:"Updated"})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-gray-800/40 border border-gray-700 p-4 rounded-xl text-center",children:[(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-3xl font-bold text-gray-400",children:S.identical}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-sm text-gray-500 uppercase tracking-wider mt-1",children:"Skipped"})]}),(0,t.jsxs)("div",{className:"jsx-4f044084e7cd90f7 bg-red-900/20 border border-red-800 p-4 rounded-xl text-center",children:[(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-3xl font-bold text-red-400",children:S.errors}),(0,t.jsx)("div",{className:"jsx-4f044084e7cd90f7 text-sm text-red-200/70 uppercase tracking-wider mt-1",children:"Errors"})]})]})]})]})]}),(0,t.jsx)(r.default,{id:"4f044084e7cd90f7",children:".custom-scrollbar::-webkit-scrollbar{width:8px}.custom-scrollbar::-webkit-scrollbar-track{background:#0003}.custom-scrollbar::-webkit-scrollbar-thumb{background:#ffffff1a;border-radius:4px}.custom-scrollbar::-webkit-scrollbar-thumb:hover{background:#fff3}"})]})}e.s(["default",()=>x],23346)}]);